{"version":3,"sources":["webpack:///webpack/bootstrap edae3eb8fdc71ac72201","webpack:///./node_modules/metal/lib/metal.js","webpack:///./src/globals/globals.js","webpack:///./node_modules/metal-dom/lib/dom.js","webpack:///./node_modules/metal-promise/lib/promise/Promise.js","webpack:///./node_modules/metal-uri/node.js","webpack:///./src/utils/utils.js","webpack:///./node_modules/metal-dom/lib/all/dom.js","webpack:///./node_modules/metal-events/lib/events.js","webpack:///./node_modules/metal-dom/lib/domData.js","webpack:///./src/route/Route.js","webpack:///./src/screen/Screen.js","webpack:///./node_modules/metal/lib/core.js","webpack:///./node_modules/metal-structs/lib/all/structs.js","webpack:///./src/app/App.js","webpack:///./node_modules/metal-events/lib/EventHandle.js","webpack:///./node_modules/metal-dom/lib/DomEventHandle.js","webpack:///./node_modules/metal-dom/lib/features.js","webpack:///./src/surface/Surface.js","webpack:///./src/screen/HtmlScreen.js","webpack:///./src/screen/RequestScreen.js","webpack:///./node_modules/metal-useragent/lib/UA.js","webpack:///./src/senna.js","webpack:///./node_modules/metal-uri/lib/Uri.js","webpack:///./node_modules/metal/lib/coreNamed.js","webpack:///./node_modules/metal/lib/array/array.js","webpack:///./node_modules/metal/lib/async/async.js","webpack:///./node_modules/metal/lib/disposable/Disposable.js","webpack:///./node_modules/metal/lib/object/object.js","webpack:///./node_modules/metal/lib/string/string.js","webpack:///./node_modules/metal-uri/lib/parse.js","webpack:///./node_modules/metal-uri/lib/parseFromAnchor.js","webpack:///./node_modules/metal-structs/lib/MultiMap.js","webpack:///./node_modules/metal-structs/lib/TreeNode.js","webpack:///external \"path\"","webpack:///external \"url\"","webpack:///./src/app/dataAttributeHandler.js","webpack:///./src/app/AppDataAttributeHandler.js","webpack:///./src/app/dataAttributes.js","webpack:///./node_modules/metal-dom/lib/domNamed.js","webpack:///./node_modules/metal-dom/lib/DomDelegatedEventHandle.js","webpack:///./node_modules/metal-events/lib/EventEmitter.js","webpack:///./node_modules/metal-events/lib/EventEmitterProxy.js","webpack:///./node_modules/metal-events/lib/EventHandler.js","webpack:///./node_modules/metal-dom/lib/DomEventEmitterProxy.js","webpack:///./node_modules/metal-dom/lib/globalEval.js","webpack:///./node_modules/metal-dom/lib/globalEvalStyles.js","webpack:///./node_modules/metal-dom/lib/events.js","webpack:///./node_modules/metal-debounce/lib/debounce.js","webpack:///./node_modules/metal-path-parser/lib/pathParser.js","webpack:///./src/cacheable/Cacheable.js","webpack:///./node_modules/metal-ajax/lib/Ajax.js","webpack:///./src/errors/errors.js"],"names":["globals","window","document","utils","source","target","Array","prototype","slice","call","attributes","forEach","attribute","setAttribute","name","value","getCurrentBrowserPathWithoutHash","location","hash","pathname","search","node","offsetLeft","offsetTop","offsetParent","url","uri","getPathname","getSearch","getHash","currentBrowserPath","getUrlPathWithoutHash","getUrlPath","history","pushState","err","console","error","message","removeAttribute","path","length","substr","Route","handler","Error","parsedData_","tokens","regex","buildParsedData_","RegExp","Screen","id","makeId_","title","log","state","surfaces","Object","keys","sId","activeChild","runScriptsInElement","resolve","transitions","surface","deferred","show","push","all","isImplementedBy","object","App","activeScreen","activePath","allowPreventNavigate","basePath","browserPathBeforeNavigate","captureScrollPositionFromScrollEvent","defaultTitle","formSelector","ignoreQueryStringFromRoutePath","linkSelector","loadingCssClass","nativeScrollRestorationSupported","isNavigationPending","pendingNavigate","popstateScrollLeft","popstateScrollTop","redirectPath","routes","screens","skipLoadPopstate","updateScrollPosition","appEventHandlers_","add","onScroll_","bind","onLoad_","onPopstate_","on","onStartNavigate_","onBeforeNavigate_","onBeforeNavigateDefault_","onBeforeUnloadDefault_","setLinkSelector","setFormSelector","maybeOverloadBeforeUnload_","isArray","route","getId","isWebUri","isLinkSameOrigin_","getHostname","isSameBasePath_","isCurrentBrowserPath","findRoute","clearCache","removeScreen","screen","getHandler","clearScreensCache","formEventHandler_","removeListener","linkEventHandler_","removeAllListeners","navigate","getCurrentBrowserPath","opt_replaceHistory","beforeDeactivate","reject","CancellationError","stopPendingNavigate_","nextScreen","createScreenInstance","load","then","deactivate","prepareNavigateHistory_","prepareNavigateSurfaces_","extractParams","evaluateStyles","flip","evaluateScripts","maybeUpdateScrollPositionState_","syncScrollPositionSyncThenAsync_","finalizeNavigate_","catch","reason","handleNavigateError_","getRoutePath","activate","isCacheable","capturedFormElement","capturedFormButtonElement","i","matchesPath","getIgnoreQueryStringFromRoutePath","getUrlPathWithoutHashAndSearch","emit","thenAlways","hostname","indexOf","winner","switchScrollPositionRace","removeEventListener","scrollTo","scrollLeft","scrollTop","nextTick","addEventListener","nativeScrollRestoration_","scrollRestoration","href","event","canNavigate","navigateFailed","preventDefault","onbeforeunload","_onbeforeunload","defaultPrevented","_overloaded","anchorElement","getElementById","substring","getNodeOffset","saveHistoryCurrentPageScrollPosition_","opt_event","isHtml5HistorySupported","replaceHistory","form","func","altKey","ctrlKey","metaKey","shiftKey","button","maybeNavigate_","delegateTarget","method","buttonSelector","activeElement","querySelector","action","setTimeout","maybeRepositionScrollToHashedAnchor","reloadPage","senna","lockHistoryScrollPosition_","pageYOffset","pageXOffset","maybeDisableNativeScrollRestoration","documentElement","endNavigatePayload","doNavigate_","maybeRestoreNativeScrollRestoration","getTitle","getDefaultTitle","beforeUpdateHistoryPath","historyState","maybeRestoreRedirectPathHash_","updateHistory_","beforeUpdateHistoryState","params","surfaceContent","getSurfaceContent","addContent","reload","remove","surfaceId","dispose","replaceState","removePathTrailingSlash","onDocSubmitDelegate_","onDocClickDelegate_","cancel","sync","titleNode","innerHTML","Surface","defaultChild","element","transitionFn","getChild","DEFAULT","maybeWrapContentAsDefault_","screenId","opt_content","child","createChild","transition","getElement","createElement","fragment","createDocumentFragment","firstChild","appendChild","from","to","defaultTransition","style","display","classList","HtmlScreen","titleSelector","releaseVirtualDocument","pendingStyles","htmlString","virtualDocument","copyNodeAttributesFromContent_","newStyle","isTemporaryStyle","selectors","stylesTemporary","styleInDoc","parentNode","insertBefore","nextSibling","head","bodySurface","body","content","replace","placeholder","clearNodeAttributes","copyNodeAttributes","disposePendingStyles","evaluateTrackedScripts","evaluateTrackedResources_","scripts","scriptsTemporary","scriptsPermanent","evaluateTrackedStyles","runStylesInElement","styles","stylesPermanent","appendStyleIntoDocument_","evaluatorFn","selector","selectorTemporary","selectorPermanent","opt_appendResourceFn","tracked","virtualQuerySelectorAll_","temporariesInDoc","querySelectorAll_","permanentsInDoc","resource","resourceKey","getResourceKey_","permanentResourcesInDoc","frag","src","allocateVirtualDocumentForContent","resolveTitleFromVirtualDocument","assertSameBodyIdInVirtualDocument","isIe","makeTemporaryStylesHrefsUnique_","replaceStyleAndMakeUnique_","tagName","makeUnique","toString","replaceChild","disabled","querySelectorAll","setTitle","textContent","trim","RequestScreen","cacheable","httpHeaders","httpMethod","GET","request","timeout","status","isValidResponseStatusCode","INVALID_STATUS","invalidStatus","statusCode","getRequestPath","setHostname","setProtocol","protocol","port","setPort","isIeOrEdge","getRequest","requestPath","responseUrl","maybeExtractResponseUrlFromRequest","removeUnique","cache","getCache","headers","header","FormData","maybeAppendSubmitButtonValue_","POST","formatLoadPath","setRequest","xhr","assertValidResponseStatusCode","addCache","responseText","REQUEST_TIMEOUT","REQUEST_ERROR","requestError","REQUEST_PREMATURE_TERMINATION","requestPrematureTermination","append","responseURL","getResponseHeader","X_REQUEST_URL_HEADER","toLowerCase","dataAttributeHandler","setBaseElement","handle","AppDataAttributeHandler","app","baseElement","hasAttribute","maybeAddRoutes_","maybeAddSurfaces_","maybeSetBasePath_","maybeSetLinkSelector_","maybeSetLoadingCssClass_","maybeSetUpdateScrollPosition_","maybeDispatch_","routesSelector","querySelectorAllAsArray_","link","maybeParseLinkRoute_","hasRoutes","addRoutes","surfacesSelector","surfaceElement","updateElementIdIfSpecialSurface_","addSurfaces","dispatch","maybeParseLinkRoutePath_","maybeParseLinkRouteHandler_","getPath","getAttribute","getObjectByName","setBasePath","setLoadingCssClass","setUpdateScrollPosition","Cacheable","errors"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;;AChDA,IAAIA,UAAUA,WAAW,EAAzB;;AAEA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AAClCD,UAAQC,MAAR,GAAiBA,MAAjB;AACA;;AAED,IAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC;AACpCF,UAAQE,QAAR,GAAmBA,QAAnB;AACA;;eAEcF,O;;;;;;;;ACVf;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA,kB;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA,8CAA8C,wBAAwB;AACtE;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC,kBAAkB;AACxD;AACA;AACA;AACA;AACA;AACA,qCAAqC,iBAAiB;AACtD;AACA;AACA;AACA,WAAW;AACX,sDAAsD;AACtD;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA,WAAW,MAAM;AACjB;AACA;AACA,YAAY,6BAA6B;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI,eAAe;AACnB;AACA,IAAI,uBAAuB;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B,cAAc;AAC5C;AACA,WAAW,8BAA8B;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ,sCAAsC,eAAe;AACzE,uDAAuD,wBAAwB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,KAAK;AAChB,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,WAAW;AAChE,IAAI,kBAAkB,MAAM,iBAAiB;AAC7C;AACA;AACA,0CAA0C,WAAW;AACrD;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,kCAAkC;AAClC,iEAAiE;AACjE,YAAY,aAAa;AACzB;AACA,WAAW,kBAAkB;AAC7B;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA,sCAAsC,aAAa;AACnD,eAAe;AACf;AACA;;AAEA;AACA,kBAAkB,kBAAkB,MAAM,iBAAiB;AAC3D,+BAA+B,aAAa;AAC5C,eAAe;AACf;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA,mCAAmC,gCAAgC;AACnE;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,GAAG;AACH;AACA,iBAAiB,gCAAgC;AACjD;AACA,QAAQ,iBAAiB;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4DAA4D,WAAW;AACvE,IAAI,gBAAgB,MAAM,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,iCAAiC;AAC5C,YAAY,2BAA2B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,GAAG;AACd,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,qCAAqC;AAChD,YAAY,2BAA2B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,qCAAqC;AAChD,YAAY,oCAAoC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA4B,uBAAuB;AACnD;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,qCAAqC;AAChD,YAAY,2BAA2B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,uBAAuB;AACnD;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,qCAAqC,kBAAkB;AACvD;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kDAAkD,iBAAiB;AACnE,mDAAmD,WAAW;AAC9D,IAAI,iBAAiB,MAAM,gBAAgB;AAC3C;AACA;AACA,2CAA2C,iBAAiB;AAC5D,iCAAiC,iBAAiB;AAClD,4BAA4B,WAAW,MAAM,gBAAgB;AAC7D;AACA,WAAW,0BAA0B;AACrC;AACA,WAAW,MAAM;AACjB;AACA;AACA,YAAY,2BAA2B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA,WAAW,2BAA2B;AACtC;AACA,WAAW,MAAM;AACjB;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,kCAAkC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,kCAAkC;AAC7C,QAAQ,kBAAkB,MAAM,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,kBAAkB,KAAK,iBAAiB;AAC1D;AACA;AACA;AACA;AACA,WAAW;AACX,0DAA0D;AAC1D;AACA,WAAW,2BAA2B;AACtC;AACA,WAAW,MAAM;AACjB;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA,aAAa,kCAAkC;AAC/C;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,WAAW;AACpC;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;AACA;AACA;AACA,WAAW,SAAS,4BAA4B,WAAW;AAC3D;AACA,WAAW,UAAU,WAAW,WAAW;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA,6DAA6D;AAC7D,OAAO,iBAAiB;AACxB;AACA,WAAW,mCAAmC;AAC9C;AACA,WAAW,0BAA0B;AACrC;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B;AAChD;AACA;AACA;AACA,GAAG;AACH,kBAAkB,+BAA+B;AACjD;AACA;AACA;AACA;;AAEA;AACA,oDAAoD,iBAAiB;AACrE,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,yBAAyB,iBAAiB;AAC1C,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,iBAAiB;AACrB;AACA;AACA;AACA,2CAA2C,qBAAqB;AAChE;AACA,WAAW,YAAY;AACvB,uCAAuC,2BAA2B;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA,qC;;;;;;;AC95BA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAA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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,EAAE;AACf;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,EAAE;AACf;AACA;;AAEA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,iBAAiB;AAC/B;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,UAAU;AACxB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,eAAe;AAC7B;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;;;AAGA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,OAAO;AACrB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,GAAG;AAChB;;AAEA,EAAE;AACF;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,EAAE;AACf;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,EAAE;AACf;AACA;;AAEA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,EAAE;AACf;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,YAAY;AACzB;;AAEA,EAAE;AACF;;;AAGA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,OAAO;AACrB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,UAAU;AACvB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,sFAAsF,aAAa;AACnG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,OAAO,cAAc,UAAU;AAC7C;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED;AACA;AACA,UAAU;AACV;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA,sB;;;;;;;AC1mBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,wBAAwB,MAAM;AAC9B;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB,WAAW,kBAAkB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC,WAAW,QAAQ;AACnB;AACA,WAAW,SAAS;AACpB;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,GAAG;AACd,YAAY,EAAE;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB;AACA,0B;;;;;;;ACvUA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,UAAU;AACvB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,oBAAoB;AACjC,aAAa,UAAU;AACvB,cAAc,UAAU;AACxB;;AAEA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,EAAE;AACf,cAAc,QAAQ;AACtB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,cAAc,QAAQ;AACtB;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,wB;;;;;;;ACxIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,cAAc,QAAQ;AACtB;;AAEA,cAAc,8BAA8B;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,sBAAsB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,qBAAqB;AAChC;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,qBAAqB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,WAAW;AACtB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;;AAEA,wB;;;;;;;AC7OA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,6B;;;;;;;ACrEA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,UAAU;AACvB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ,yCAAyC;AAC9D;AACA,cAAc,EAAE;AAChB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,qBAAqB;AAClC,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,yB;;;;;;;ACxGA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,cAAc;AAC3B,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,EAAE;AACd;AACA,aAAa,OAAO,iCAAiC,QAAQ;AAC7D;;AAEA,EAAE;AACF;AACA;AACA,0CAA0C;AAC1C;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;;AAEA,EAAE;AACF;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,yB;;;;;;;ACtHA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA,WAAW,GAAG;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;;AAEA,wB;;;;;;;ACpCA;;AAEA;AACA;AACA,WAAW,GAAG;AACd;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kC;;;;;;;AC9BA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,EAAE;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,YAAY,QAAQ;AACpB,aAAa;AACb;;;AAGA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,EAAE;AACd;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;;AAEA;AACA,CAAC;;AAED,2B;;;;;;;AC3MA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA,YAAY,UAAU;AACtB;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,UAAU;AACtB,aAAa,QAAQ,uCAAuC,WAAW;AACvE;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,iBAAiB;AAC9B;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,UAAU;AACvB;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,aAAa,kBAAkB;AAC/B;;;AAGA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,UA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ACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,qBAAqB;AACrC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gBAAgB,oBAAoB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB;AACA;AACA;AACA,qEAAqE;AACrE;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,2BAA2B;AACtC,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA,WAAW,mBAAmB;AAC9B;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA,WAAW,OAAO;AAClB,WAAW,mBAAmB;AAC9B;AACA,WAAW,QAAQ;AACnB;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,mBAAmB;AAC9B;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,qBAAqB;AACrC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;;AAEA,gBAAgB,oBAAoB;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,8CAA8C;AAC9D;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,wBAAwB;AACnC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;;AAEA,gBAAgB,oBAAoB;AACpC;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;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;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,EAAE;AACf,cAAc,QAAQ;AACtB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,MAAM;AACpB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB;AACA,aAAa,UAAU;AACvB,cAAc,aAAa;AAC3B;;AAEA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA,aAAa,UAAU;AACvB;AACA;;AAEA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,cAAc;AACd;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,UAAU;AACvB,cAAc,QAAQ;AACtB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,mBAAmB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,UAAU;AACvB,cAAc,aAAa;AAC3B;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,UAAU;AACvB,cAAc,aAAa;AAC3B;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,cAAc,QAAQ;AACtB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,eAAe;AAC5B,aAAa,UAAU;AACvB,cAAc,sBAAsB;AACpC;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,UAAU;AACvB,cAAc,QAAQ;AACtB;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,QAAQ;AACtB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B,cAAc;AACd;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,EAAE;AAChB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA,+B;;;;;;;ACjhBA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB;AACA,WAAW,aAAa;AACxB;AACA,WAAW,OAAO;AAClB;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,YAAY;AACxB,aAAa,aAAa;AAC1B;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;;AAEA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA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;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,YAAY;AACzB;AACA,aAAa,YAAY;AACzB;AACA,cAAc,QAAQ;AACtB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,YAAY;AACzB;AACA,aAAa,YAAY;AACzB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB;AACA,aAAa,YAAY;AACzB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,6B;;;;;;;ACvJA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB;AACA,aAAa,YAAY;AACzB;AACA,cAAc,QAAQ;AACtB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,YAAY;AACzB;AACA,aAAa,YAAY;AACzB;AACA,eAAe,QAAQ;AACvB;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,YAAY;AACzB;AACA,aAAa,YAAY;AACzB;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,mC;;;;;;;ACrIA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF,CAAC,E;;;;;;;AC9CD;;AAEA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,OAAO;AACnB,aAAa;AACb;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4B;;;;;;;AC/BA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;;AAEA;AACA;AACA,WAAW,eAAe;AAC1B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,uBAAuB;AAClC,YAAY;AACZ;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,W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","file":"build/amd/senna.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap edae3eb8fdc71ac72201","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.string = exports.object = exports.Disposable = exports.async = exports.array = undefined;\n\nvar _core = require('./core');\n\nObject.keys(_core).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _core[key];\n    }\n  });\n});\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _array = require('./array/array');\n\nvar _array2 = _interopRequireDefault(_array);\n\nvar _async = require('./async/async');\n\nvar _async2 = _interopRequireDefault(_async);\n\nvar _Disposable = require('./disposable/Disposable');\n\nvar _Disposable2 = _interopRequireDefault(_Disposable);\n\nvar _object = require('./object/object');\n\nvar _object2 = _interopRequireDefault(_object);\n\nvar _string = require('./string/string');\n\nvar _string2 = _interopRequireDefault(_string);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.array = _array2.default;\nexports.async = _async2.default;\nexports.Disposable = _Disposable2.default;\nexports.object = _object2.default;\nexports.string = _string2.default;\nexports.default = _core2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal/lib/metal.js\n// module id = 0\n// module chunks = 0","var globals = globals || {};\n\nif (typeof window !== 'undefined') {\n\tglobals.window = window;\n}\n\nif (typeof document !== 'undefined') {\n\tglobals.document = document;\n}\n\nexport default globals;\n\n\n\n// WEBPACK FOOTER //\n// ./src/globals/globals.js","'use strict';\n\n// This file exists just for backwards compatibility, making sure that old\n// default imports for this file still work. It's best to use the named exports\n// for each function instead though, since that allows bundlers like Rollup to\n// reduce the bundle size by removing unused code.\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dom = undefined;\n\nvar _domNamed = require('./domNamed');\n\nObject.keys(_domNamed).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _domNamed[key];\n    }\n  });\n});\n\nvar dom = _interopRequireWildcard(_domNamed);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = dom;\nexports.dom = dom;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/dom.js\n// module id = 2\n// module chunks = 0","/*!\n * Promises polyfill from Google's Closure Library.\n *\n *      Copyright 2013 The Closure Library Authors. All Rights Reserved.\n *\n * NOTE(eduardo): Promise support is not ready on all supported browsers,\n * therefore metal-promise is temporarily using Google's promises as polyfill.\n * It supports cancellable promises and has clean and fast implementation.\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CancellablePromise = undefined;\n\nvar _metal = require('metal');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Provides a more strict interface for Thenables in terms of\n * http://promisesaplus.com for interop with {@see CancellablePromise}.\n *\n * @interface\n * @extends {IThenable.<TYPE>}\n * @template TYPE\n */\nvar Thenable = function Thenable() {};\n\n/**\n * Adds callbacks that will operate on the result of the Thenable, returning a\n * new child Promise.\n *\n * If the Thenable is fulfilled, the {@code onFulfilled} callback will be\n * invoked with the fulfillment value as argument, and the child Promise will\n * be fulfilled with the return value of the callback. If the callback throws\n * an exception, the child Promise will be rejected with the thrown value\n * instead.\n *\n * If the Thenable is rejected, the {@code onRejected} callback will be invoked\n * with the rejection reason as argument, and the child Promise will be rejected\n * with the return value of the callback or thrown value.\n *\n * @param {?(function(this:THIS, TYPE):\n *             (RESULT|IThenable.<RESULT>|Thenable))=} opt_onFulfilled A\n *     function that will be invoked with the fulfillment value if the Promise\n *     is fullfilled.\n * @param {?(function(*): *)=} opt_onRejected A function that will be invoked\n *     with the rejection reason if the Promise is rejected.\n * @param {THIS=} opt_context An optional context object that will be the\n *     execution context for the callbacks. By default, functions are executed\n *     with the default this.\n * @return {!CancellablePromise.<RESULT>} A new Promise that will receive the\n *     result of the fulfillment or rejection callback.\n * @template RESULT,THIS\n */\nThenable.prototype.then = function () {};\n\n/**\n * An expando property to indicate that an object implements\n * {@code Thenable}.\n *\n * {@see addImplementation}.\n *\n * @const\n */\nThenable.IMPLEMENTED_BY_PROP = '$goog_Thenable';\n\n/**\n * Marks a given class (constructor) as an implementation of Thenable, so\n * that we can query that fact at runtime. The class must have already\n * implemented the interface.\n * Exports a 'then' method on the constructor prototype, so that the objects\n * also implement the extern {@see Thenable} interface for interop with\n * other Promise implementations.\n * @param {function(new:Thenable,...[?])} ctor The class constructor. The\n *     corresponding class must have already implemented the interface.\n */\nThenable.addImplementation = function (ctor) {\n  ctor.prototype.then = ctor.prototype.then;\n  ctor.prototype.$goog_Thenable = true;\n};\n\n/**\n * @param {*} object\n * @return {boolean} Whether a given instance implements {@code Thenable}.\n *     The class/superclass of the instance must call {@code addImplementation}.\n */\nThenable.isImplementedBy = function (object) {\n  if (!object) {\n    return false;\n  }\n  try {\n    return !!object.$goog_Thenable;\n  } catch (e) {\n    // Property access seems to be forbidden.\n    return false;\n  }\n};\n\n/**\n * Like bind(), except that a 'this object' is not required. Useful when the\n * target function is already bound.\n *\n * Usage:\n * var g = partial(f, arg1, arg2);\n * g(arg3, arg4);\n *\n * @param {Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially applied to fn.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n */\nvar partial = function partial(fn) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function () {\n    // Clone the array (with slice()) and append additional arguments\n    // to the existing arguments.\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(this, newArgs);\n  };\n};\n\n/**\n * Promises provide a result that may be resolved asynchronously. A Promise may\n * be resolved by being fulfilled or rejected with a value, which will be known\n * as the fulfillment value or the rejection reason. Whether fulfilled or\n * rejected, the Promise result is immutable once it is set.\n *\n * Promises may represent results of any type, including undefined. Rejection\n * reasons are typically Errors, but may also be of any type. Closure Promises\n * allow for optional type annotations that enforce that fulfillment values are\n * of the appropriate types at compile time.\n *\n * The result of a Promise is accessible by calling {@code then} and registering\n * {@code onFulfilled} and {@code onRejected} callbacks. Once the Promise\n * resolves, the relevant callbacks are invoked with the fulfillment value or\n * rejection reason as argument. Callbacks are always invoked in the order they\n * were registered, even when additional {@code then} calls are made from inside\n * another callback. A callback is always run asynchronously sometime after the\n * scope containing the registering {@code then} invocation has returned.\n *\n * If a Promise is resolved with another Promise, the first Promise will block\n * until the second is resolved, and then assumes the same result as the second\n * Promise. This allows Promises to depend on the results of other Promises,\n * linking together multiple asynchronous operations.\n *\n * This implementation is compatible with the Promises/A+ specification and\n * passes that specification's conformance test suite. A Closure Promise may be\n * resolved with a Promise instance (or sufficiently compatible Promise-like\n * object) created by other Promise implementations. From the specification,\n * Promise-like objects are known as \"Thenables\".\n *\n * @see http://promisesaplus.com/\n *\n * @param {function(\n *             this:RESOLVER_CONTEXT,\n *             function((TYPE|IThenable.<TYPE>|Thenable)),\n *             function(*)): void} resolver\n *     Initialization function that is invoked immediately with {@code resolve}\n *     and {@code reject} functions as arguments. The Promise is resolved or\n *     rejected with the first argument passed to either function.\n * @param {RESOLVER_CONTEXT=} opt_context An optional context for executing the\n *     resolver function. If unspecified, the resolver function will be executed\n *     in the default scope.\n * @constructor\n * @struct\n * @final\n * @implements {Thenable.<TYPE>}\n * @template TYPE,RESOLVER_CONTEXT\n */\nvar CancellablePromise = function CancellablePromise(resolver, opt_context) {\n  /**\n   * The internal state of this Promise. Either PENDING, FULFILLED, REJECTED, or\n   * BLOCKED.\n   * @private {CancellablePromise.State_}\n   */\n  this.state_ = CancellablePromise.State_.PENDING;\n\n  /**\n   * The resolved result of the Promise. Immutable once set with either a\n   * fulfillment value or rejection reason.\n   * @private {*}\n   */\n  this.result_ = undefined;\n\n  /**\n   * For Promises created by calling {@code then()}, the originating parent.\n   * @private {CancellablePromise}\n   */\n  this.parent_ = null;\n\n  /**\n   * The list of {@code onFulfilled} and {@code onRejected} callbacks added to\n   * this Promise by calls to {@code then()}.\n   * @private {Array.<CancellablePromise.CallbackEntry_>}\n   */\n  this.callbackEntries_ = null;\n\n  /**\n   * Whether the Promise is in the queue of Promises to execute.\n   * @private {boolean}\n   */\n  this.executing_ = false;\n\n  if (CancellablePromise.UNHANDLED_REJECTION_DELAY > 0) {\n    /**\n     * A timeout ID used when the {@code UNHANDLED_REJECTION_DELAY} is greater\n     * than 0 milliseconds. The ID is set when the Promise is rejected, and\n     * cleared only if an {@code onRejected} callback is invoked for the\n     * Promise (or one of its descendants) before the delay is exceeded.\n     *\n     * If the rejection is not handled before the timeout completes, the\n     * rejection reason is passed to the unhandled rejection handler.\n     * @private {number}\n     */\n    this.unhandledRejectionId_ = 0;\n  } else if (CancellablePromise.UNHANDLED_REJECTION_DELAY === 0) {\n    /**\n     * When the {@code UNHANDLED_REJECTION_DELAY} is set to 0 milliseconds, a\n     * boolean that is set if the Promise is rejected, and reset to false if an\n     * {@code onRejected} callback is invoked for the Promise (or one of its\n     * descendants). If the rejection is not handled before the next timestep,\n     * the rejection reason is passed to the unhandled rejection handler.\n     * @private {boolean}\n     */\n    this.hadUnhandledRejection_ = false;\n  }\n\n  try {\n    var self = this;\n    resolver.call(opt_context, function (value) {\n      self.resolve_(CancellablePromise.State_.FULFILLED, value);\n    }, function (reason) {\n      self.resolve_(CancellablePromise.State_.REJECTED, reason);\n    });\n  } catch (e) {\n    this.resolve_(CancellablePromise.State_.REJECTED, e);\n  }\n};\n\n/**\n * The delay in milliseconds before a rejected Promise's reason is passed to\n * the rejection handler. By default, the rejection handler rethrows the\n * rejection reason so that it appears in the developer console or\n * {@code window.onerror} handler.\n * Rejections are rethrown as quickly as possible by default. A negative value\n * disables rejection handling entirely.\n * @type {number}\n */\nCancellablePromise.UNHANDLED_REJECTION_DELAY = 0;\n\n/**\n * The possible internal states for a Promise. These states are not directly\n * observable to external callers.\n * @enum {number}\n * @private\n */\nCancellablePromise.State_ = {\n  /** The Promise is waiting for resolution. */\n  PENDING: 0,\n\n  /** The Promise is blocked waiting for the result of another Thenable. */\n  BLOCKED: 1,\n\n  /** The Promise has been resolved with a fulfillment value. */\n  FULFILLED: 2,\n\n  /** The Promise has been resolved with a rejection reason. */\n  REJECTED: 3\n};\n\n/**\n * Typedef for entries in the callback chain. Each call to {@code then},\n * {@code thenCatch}, or {@code thenAlways} creates an entry containing the\n * functions that may be invoked once the Promise is resolved.\n *\n * @typedef {{\n *   child: CancellablePromise,\n *   onFulfilled: function(*),\n *   onRejected: function(*)\n * }}\n * @private\n */\nCancellablePromise.CallbackEntry_ = null;\n\n/**\n * @param {(TYPE|Thenable.<TYPE>|Thenable)=} opt_value\n * @return {!CancellablePromise.<TYPE>} A new Promise that is immediately resolved\n *     with the given value.\n * @template TYPE\n */\nCancellablePromise.resolve = function (opt_value) {\n  return new CancellablePromise(function (resolve) {\n    resolve(opt_value);\n  });\n};\n\n/**\n * @param {*=} opt_reason\n * @return {!CancellablePromise} A new Promise that is immediately rejected with the\n *     given reason.\n */\nCancellablePromise.reject = function (opt_reason) {\n  return new CancellablePromise(function (resolve, reject) {\n    reject(opt_reason);\n  });\n};\n\n/**\n * @param {!Array.<!(Thenable.<TYPE>|Thenable)>} promises\n * @return {!CancellablePromise.<TYPE>} A Promise that receives the result of the\n *     first Promise (or Promise-like) input to complete.\n * @template TYPE\n */\nCancellablePromise.race = function (promises) {\n  return new CancellablePromise(function (resolve, reject) {\n    if (!promises.length) {\n      resolve(undefined);\n    }\n    for (var i = 0, promise; promise = promises[i]; i++) {\n      promise.then(resolve, reject);\n    }\n  });\n};\n\n/**\n * @param {!Array.<!(Thenable.<TYPE>|Thenable)>} promises\n * @return {!CancellablePromise.<!Array.<TYPE>>} A Promise that receives a list of\n *     every fulfilled value once every input Promise (or Promise-like) is\n *     successfully fulfilled, or is rejected by the first rejection result.\n * @template TYPE\n */\nCancellablePromise.all = function (promises) {\n  return new CancellablePromise(function (resolve, reject) {\n    var toFulfill = promises.length;\n    var values = [];\n\n    if (!toFulfill) {\n      resolve(values);\n      return;\n    }\n\n    var onFulfill = function onFulfill(index, value) {\n      toFulfill--;\n      values[index] = value;\n      if (toFulfill === 0) {\n        resolve(values);\n      }\n    };\n\n    var onReject = function onReject(reason) {\n      reject(reason);\n    };\n\n    for (var i = 0, promise; promise = promises[i]; i++) {\n      promise.then(partial(onFulfill, i), onReject);\n    }\n  });\n};\n\n/**\n * @param {!Array.<!(Thenable.<TYPE>|Thenable)>} promises\n * @return {!CancellablePromise.<TYPE>} A Promise that receives the value of\n *     the first input to be fulfilled, or is rejected with a list of every\n *     rejection reason if all inputs are rejected.\n * @template TYPE\n */\nCancellablePromise.firstFulfilled = function (promises) {\n  return new CancellablePromise(function (resolve, reject) {\n    var toReject = promises.length;\n    var reasons = [];\n\n    if (!toReject) {\n      resolve(undefined);\n      return;\n    }\n\n    var onFulfill = function onFulfill(value) {\n      resolve(value);\n    };\n\n    var onReject = function onReject(index, reason) {\n      toReject--;\n      reasons[index] = reason;\n      if (toReject === 0) {\n        reject(reasons);\n      }\n    };\n\n    for (var i = 0, promise; promise = promises[i]; i++) {\n      promise.then(onFulfill, partial(onReject, i));\n    }\n  });\n};\n\n/**\n * Adds callbacks that will operate on the result of the Promise, returning a\n * new child Promise.\n *\n * If the Promise is fulfilled, the {@code onFulfilled} callback will be invoked\n * with the fulfillment value as argument, and the child Promise will be\n * fulfilled with the return value of the callback. If the callback throws an\n * exception, the child Promise will be rejected with the thrown value instead.\n *\n * If the Promise is rejected, the {@code onRejected} callback will be invoked\n * with the rejection reason as argument, and the child Promise will be rejected\n * with the return value (or thrown value) of the callback.\n *\n * @override\n */\nCancellablePromise.prototype.then = function (opt_onFulfilled, opt_onRejected, opt_context) {\n  return this.addChildPromise_((0, _metal.isFunction)(opt_onFulfilled) ? opt_onFulfilled : null, (0, _metal.isFunction)(opt_onRejected) ? opt_onRejected : null, opt_context);\n};\nThenable.addImplementation(CancellablePromise);\n\n/**\n * Adds a callback that will be invoked whether the Promise is fulfilled or\n * rejected. The callback receives no argument, and no new child Promise is\n * created. This is useful for ensuring that cleanup takes place after certain\n * asynchronous operations. Callbacks added with {@code thenAlways} will be\n * executed in the same order with other calls to {@code then},\n * {@code thenAlways}, or {@code thenCatch}.\n *\n * Since it does not produce a new child Promise, cancellation propagation is\n * not prevented by adding callbacks with {@code thenAlways}. A Promise that has\n * a cleanup handler added with {@code thenAlways} will be canceled if all of\n * its children created by {@code then} (or {@code thenCatch}) are canceled.\n *\n * @param {function(this:THIS): void} onResolved A function that will be invoked\n *     when the Promise is resolved.\n * @param {THIS=} opt_context An optional context object that will be the\n *     execution context for the callbacks. By default, functions are executed\n *     in the global scope.\n * @return {!CancellablePromise.<TYPE>} This Promise, for chaining additional calls.\n * @template THIS\n */\nCancellablePromise.prototype.thenAlways = function (onResolved, opt_context) {\n  var callback = function callback() {\n    try {\n      // Ensure that no arguments are passed to onResolved.\n      onResolved.call(opt_context);\n    } catch (err) {\n      CancellablePromise.handleRejection_.call(null, err);\n    }\n  };\n\n  this.addCallbackEntry_({\n    child: null,\n    onRejected: callback,\n    onFulfilled: callback\n  });\n  return this;\n};\n\n/**\n * Adds a callback that will be invoked only if the Promise is rejected. This\n * is equivalent to {@code then(null, onRejected)}.\n *\n * @param {!function(this:THIS, *): *} onRejected A function that will be\n *     invoked with the rejection reason if the Promise is rejected.\n * @param {THIS=} opt_context An optional context object that will be the\n *     execution context for the callbacks. By default, functions are executed\n *     in the global scope.\n * @return {!CancellablePromise} A new Promise that will receive the result of the\n *     callback.\n * @template THIS\n */\nCancellablePromise.prototype.thenCatch = function (onRejected, opt_context) {\n  return this.addChildPromise_(null, onRejected, opt_context);\n};\n\n/**\n * Alias of {@link CancellablePromise.prototype.thenCatch}\n */\nCancellablePromise.prototype.catch = CancellablePromise.prototype.thenCatch;\n\n/**\n * Cancels the Promise if it is still pending by rejecting it with a cancel\n * Error. No action is performed if the Promise is already resolved.\n *\n * All child Promises of the canceled Promise will be rejected with the same\n * cancel error, as with normal Promise rejection. If the Promise to be canceled\n * is the only child of a pending Promise, the parent Promise will also be\n * canceled. Cancellation may propagate upward through multiple generations.\n *\n * @param {string=} opt_message An optional debugging message for describing the\n *     cancellation reason.\n */\nCancellablePromise.prototype.cancel = function (opt_message) {\n  if (this.state_ === CancellablePromise.State_.PENDING) {\n    _metal.async.run(function () {\n      var err = new CancellablePromise.CancellationError(opt_message);\n      err.IS_CANCELLATION_ERROR = true;\n      this.cancelInternal_(err);\n    }, this);\n  }\n};\n\n/**\n * Cancels this Promise with the given error.\n *\n * @param {!Error} err The cancellation error.\n * @private\n */\nCancellablePromise.prototype.cancelInternal_ = function (err) {\n  if (this.state_ === CancellablePromise.State_.PENDING) {\n    if (this.parent_) {\n      // Cancel the Promise and remove it from the parent's child list.\n      this.parent_.cancelChild_(this, err);\n    } else {\n      this.resolve_(CancellablePromise.State_.REJECTED, err);\n    }\n  }\n};\n\n/**\n * Cancels a child Promise from the list of callback entries. If the Promise has\n * not already been resolved, reject it with a cancel error. If there are no\n * other children in the list of callback entries, propagate the cancellation\n * by canceling this Promise as well.\n *\n * @param {!CancellablePromise} childPromise The Promise to cancel.\n * @param {!Error} err The cancel error to use for rejecting the Promise.\n * @private\n */\nCancellablePromise.prototype.cancelChild_ = function (childPromise, err) {\n  if (!this.callbackEntries_) {\n    return;\n  }\n  var childCount = 0;\n  var childIndex = -1;\n\n  // Find the callback entry for the childPromise, and count whether there are\n  // additional child Promises.\n  for (var i = 0, entry; entry = this.callbackEntries_[i]; i++) {\n    var child = entry.child;\n    if (child) {\n      childCount++;\n      if (child === childPromise) {\n        childIndex = i;\n      }\n      if (childIndex >= 0 && childCount > 1) {\n        break;\n      }\n    }\n  }\n\n  // If the child Promise was the only child, cancel this Promise as well.\n  // Otherwise, reject only the child Promise with the cancel error.\n  if (childIndex >= 0) {\n    if (this.state_ === CancellablePromise.State_.PENDING && childCount === 1) {\n      this.cancelInternal_(err);\n    } else {\n      var callbackEntry = this.callbackEntries_.splice(childIndex, 1)[0];\n      this.executeCallback_(callbackEntry, CancellablePromise.State_.REJECTED, err);\n    }\n  }\n};\n\n/**\n * Adds a callback entry to the current Promise, and schedules callback\n * execution if the Promise has already been resolved.\n *\n * @param {CancellablePromise.CallbackEntry_} callbackEntry Record containing\n *     {@code onFulfilled} and {@code onRejected} callbacks to execute after\n *     the Promise is resolved.\n * @private\n */\nCancellablePromise.prototype.addCallbackEntry_ = function (callbackEntry) {\n  if ((!this.callbackEntries_ || !this.callbackEntries_.length) && (this.state_ === CancellablePromise.State_.FULFILLED || this.state_ === CancellablePromise.State_.REJECTED)) {\n    this.scheduleCallbacks_();\n  }\n  if (!this.callbackEntries_) {\n    this.callbackEntries_ = [];\n  }\n  this.callbackEntries_.push(callbackEntry);\n};\n\n/**\n * Creates a child Promise and adds it to the callback entry list. The result of\n * the child Promise is determined by the state of the parent Promise and the\n * result of the {@code onFulfilled} or {@code onRejected} callbacks as\n * specified in the Promise resolution procedure.\n *\n * @see http://promisesaplus.com/#the__method\n *\n * @param {?function(this:THIS, TYPE):\n *          (RESULT|CancellablePromise.<RESULT>|Thenable)} onFulfilled A callback that\n *     will be invoked if the Promise is fullfilled, or null.\n * @param {?function(this:THIS, *): *} onRejected A callback that will be\n *     invoked if the Promise is rejected, or null.\n * @param {THIS=} opt_context An optional execution context for the callbacks.\n *     in the default calling context.\n * @return {!CancellablePromise} The child Promise.\n * @template RESULT,THIS\n * @private\n */\nCancellablePromise.prototype.addChildPromise_ = function (onFulfilled, onRejected, opt_context) {\n\n  var callbackEntry = {\n    child: null,\n    onFulfilled: null,\n    onRejected: null\n  };\n\n  callbackEntry.child = new CancellablePromise(function (resolve, reject) {\n    // Invoke onFulfilled, or resolve with the parent's value if absent.\n    callbackEntry.onFulfilled = onFulfilled ? function (value) {\n      try {\n        var result = onFulfilled.call(opt_context, value);\n        resolve(result);\n      } catch (err) {\n        reject(err);\n      }\n    } : resolve;\n\n    // Invoke onRejected, or reject with the parent's reason if absent.\n    callbackEntry.onRejected = onRejected ? function (reason) {\n      try {\n        var result = onRejected.call(opt_context, reason);\n        if (!(0, _metal.isDef)(result) && reason.IS_CANCELLATION_ERROR) {\n          // Propagate cancellation to children if no other result is returned.\n          reject(reason);\n        } else {\n          resolve(result);\n        }\n      } catch (err) {\n        reject(err);\n      }\n    } : reject;\n  });\n\n  callbackEntry.child.parent_ = this;\n  this.addCallbackEntry_(\n  /** @type {CancellablePromise.CallbackEntry_} */callbackEntry);\n  return callbackEntry.child;\n};\n\n/**\n * Unblocks the Promise and fulfills it with the given value.\n *\n * @param {TYPE} value\n * @private\n */\nCancellablePromise.prototype.unblockAndFulfill_ = function (value) {\n  if (this.state_ !== CancellablePromise.State_.BLOCKED) {\n    throw new Error('CancellablePromise is not blocked.');\n  }\n  this.state_ = CancellablePromise.State_.PENDING;\n  this.resolve_(CancellablePromise.State_.FULFILLED, value);\n};\n\n/**\n * Unblocks the Promise and rejects it with the given rejection reason.\n *\n * @param {*} reason\n * @private\n */\nCancellablePromise.prototype.unblockAndReject_ = function (reason) {\n  if (this.state_ !== CancellablePromise.State_.BLOCKED) {\n    throw new Error('CancellablePromise is not blocked.');\n  }\n  this.state_ = CancellablePromise.State_.PENDING;\n  this.resolve_(CancellablePromise.State_.REJECTED, reason);\n};\n\n/**\n * Attempts to resolve a Promise with a given resolution state and value. This\n * is a no-op if the given Promise has already been resolved.\n *\n * If the given result is a Thenable (such as another Promise), the Promise will\n * be resolved with the same state and result as the Thenable once it is itself\n * resolved.\n *\n * If the given result is not a Thenable, the Promise will be fulfilled or\n * rejected with that result based on the given state.\n *\n * @see http://promisesaplus.com/#the_promise_resolution_procedure\n *\n * @param {CancellablePromise.State_} state\n * @param {*} x The result to apply to the Promise.\n * @private\n */\nCancellablePromise.prototype.resolve_ = function (state, x) {\n  if (this.state_ !== CancellablePromise.State_.PENDING) {\n    return;\n  }\n\n  if (this === x) {\n    state = CancellablePromise.State_.REJECTED;\n    x = new TypeError('CancellablePromise cannot resolve to itself');\n  } else if (Thenable.isImplementedBy(x)) {\n    x = /** @type {!Thenable} */x;\n    this.state_ = CancellablePromise.State_.BLOCKED;\n    x.then(this.unblockAndFulfill_, this.unblockAndReject_, this);\n    return;\n  } else if ((0, _metal.isObject)(x)) {\n    try {\n      var then = x.then;\n      if ((0, _metal.isFunction)(then)) {\n        this.tryThen_(x, then);\n        return;\n      }\n    } catch (e) {\n      state = CancellablePromise.State_.REJECTED;\n      x = e;\n    }\n  }\n\n  this.result_ = x;\n  this.state_ = state;\n  this.scheduleCallbacks_();\n\n  if (state === CancellablePromise.State_.REJECTED && !x.IS_CANCELLATION_ERROR) {\n    CancellablePromise.addUnhandledRejection_(this, x);\n  }\n};\n\n/**\n * Attempts to call the {@code then} method on an object in the hopes that it is\n * a Promise-compatible instance. This allows interoperation between different\n * Promise implementations, however a non-compliant object may cause a Promise\n * to hang indefinitely. If the {@code then} method throws an exception, the\n * dependent Promise will be rejected with the thrown value.\n *\n * @see http://promisesaplus.com/#point-70\n *\n * @param {Thenable} thenable An object with a {@code then} method that may be\n *     compatible with the Promise/A+ specification.\n * @param {!Function} then The {@code then} method of the Thenable object.\n * @private\n */\nCancellablePromise.prototype.tryThen_ = function (thenable, then) {\n  this.state_ = CancellablePromise.State_.BLOCKED;\n  var promise = this;\n  var called = false;\n\n  var resolve = function resolve(value) {\n    if (!called) {\n      called = true;\n      promise.unblockAndFulfill_(value);\n    }\n  };\n\n  var reject = function reject(reason) {\n    if (!called) {\n      called = true;\n      promise.unblockAndReject_(reason);\n    }\n  };\n\n  try {\n    then.call(thenable, resolve, reject);\n  } catch (e) {\n    reject(e);\n  }\n};\n\n/**\n * Executes the pending callbacks of a resolved Promise after a timeout.\n *\n * Section 2.2.4 of the Promises/A+ specification requires that Promise\n * callbacks must only be invoked from a call stack that only contains Promise\n * implementation code, which we accomplish by invoking callback execution after\n * a timeout. If {@code startExecution_} is called multiple times for the same\n * Promise, the callback chain will be evaluated only once. Additional callbacks\n * may be added during the evaluation phase, and will be executed in the same\n * event loop.\n *\n * All Promises added to the waiting list during the same browser event loop\n * will be executed in one batch to avoid using a separate timeout per Promise.\n *\n * @private\n */\nCancellablePromise.prototype.scheduleCallbacks_ = function () {\n  if (!this.executing_) {\n    this.executing_ = true;\n    _metal.async.run(this.executeCallbacks_, this);\n  }\n};\n\n/**\n * Executes all pending callbacks for this Promise.\n *\n * @private\n */\nCancellablePromise.prototype.executeCallbacks_ = function () {\n  while (this.callbackEntries_ && this.callbackEntries_.length) {\n    var entries = this.callbackEntries_;\n    this.callbackEntries_ = [];\n\n    for (var i = 0; i < entries.length; i++) {\n      this.executeCallback_(entries[i], this.state_, this.result_);\n    }\n  }\n  this.executing_ = false;\n};\n\n/**\n * Executes a pending callback for this Promise. Invokes an {@code onFulfilled}\n * or {@code onRejected} callback based on the resolved state of the Promise.\n *\n * @param {!CancellablePromise.CallbackEntry_} callbackEntry An entry containing the\n *     onFulfilled and/or onRejected callbacks for this step.\n * @param {CancellablePromise.State_} state The resolution status of the Promise,\n *     either FULFILLED or REJECTED.\n * @param {*} result The resolved result of the Promise.\n * @private\n */\nCancellablePromise.prototype.executeCallback_ = function (callbackEntry, state, result) {\n  if (state === CancellablePromise.State_.FULFILLED) {\n    callbackEntry.onFulfilled(result);\n  } else {\n    this.removeUnhandledRejection_();\n    callbackEntry.onRejected(result);\n  }\n};\n\n/**\n * Marks this rejected Promise as having being handled. Also marks any parent\n * Promises in the rejected state as handled. The rejection handler will no\n * longer be invoked for this Promise (if it has not been called already).\n *\n * @private\n */\nCancellablePromise.prototype.removeUnhandledRejection_ = function () {\n  var p;\n  if (CancellablePromise.UNHANDLED_REJECTION_DELAY > 0) {\n    for (p = this; p && p.unhandledRejectionId_; p = p.parent_) {\n      clearTimeout(p.unhandledRejectionId_);\n      p.unhandledRejectionId_ = 0;\n    }\n  } else if (CancellablePromise.UNHANDLED_REJECTION_DELAY === 0) {\n    for (p = this; p && p.hadUnhandledRejection_; p = p.parent_) {\n      p.hadUnhandledRejection_ = false;\n    }\n  }\n};\n\n/**\n * Marks this rejected Promise as unhandled. If no {@code onRejected} callback\n * is called for this Promise before the {@code UNHANDLED_REJECTION_DELAY}\n * expires, the reason will be passed to the unhandled rejection handler. The\n * handler typically rethrows the rejection reason so that it becomes visible in\n * the developer console.\n *\n * @param {!CancellablePromise} promise The rejected Promise.\n * @param {*} reason The Promise rejection reason.\n * @private\n */\nCancellablePromise.addUnhandledRejection_ = function (promise, reason) {\n  if (CancellablePromise.UNHANDLED_REJECTION_DELAY > 0) {\n    promise.unhandledRejectionId_ = setTimeout(function () {\n      CancellablePromise.handleRejection_.call(null, reason);\n    }, CancellablePromise.UNHANDLED_REJECTION_DELAY);\n  } else if (CancellablePromise.UNHANDLED_REJECTION_DELAY === 0) {\n    promise.hadUnhandledRejection_ = true;\n    _metal.async.run(function () {\n      if (promise.hadUnhandledRejection_) {\n        CancellablePromise.handleRejection_.call(null, reason);\n      }\n    });\n  }\n};\n\n/**\n * A method that is invoked with the rejection reasons for Promises that are\n * rejected but have no {@code onRejected} callbacks registered yet.\n * @type {function(*)}\n * @private\n */\nCancellablePromise.handleRejection_ = _metal.async.throwException;\n\n/**\n * Sets a handler that will be called with reasons from unhandled rejected\n * Promises. If the rejected Promise (or one of its descendants) has an\n * {@code onRejected} callback registered, the rejection will be considered\n * handled, and the rejection handler will not be called.\n *\n * By default, unhandled rejections are rethrown so that the error may be\n * captured by the developer console or a {@code window.onerror} handler.\n *\n * @param {function(*)} handler A function that will be called with reasons from\n *     rejected Promises. Defaults to {@code async.throwException}.\n */\nCancellablePromise.setUnhandledRejectionHandler = function (handler) {\n  CancellablePromise.handleRejection_ = handler;\n};\n\n/**\n * Error used as a rejection reason for canceled Promises.\n *\n * @param {string=} opt_message\n * @constructor\n * @extends {Error}\n * @final\n */\nCancellablePromise.CancellationError = function (_Error) {\n  _inherits(_class, _Error);\n\n  function _class(opt_message) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, _Error.call(this, opt_message));\n\n    if (opt_message) {\n      _this.message = opt_message;\n    }\n    return _this;\n  }\n\n  return _class;\n}(Error);\n\n/** @override */\nCancellablePromise.CancellationError.prototype.name = 'cancel';\n\nexports.CancellablePromise = CancellablePromise;\nexports.default = CancellablePromise;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-promise/lib/promise/Promise.js\n// module id = 3\n// module chunks = 0","'use strict';\n\nvar Uri = require('./lib/Uri').default;\n\nif (typeof URL === 'undefined' && typeof require !== 'undefined') {\n\t// If there is no \"document\", then this should be running in NodeJS or in ReactNative env and\n\t// in this case we should use the \"url\" NPM module as the parse function.\n\t// In ReactNative env \"path\" will be replaced with \"path-browserify\".\n\n\tvar path = require('path');\n\tvar url = require('url');\n\n\tUri.setParseFn(function(urlStr) {\n\t\tvar parsed = url.parse(urlStr);\n\t\tparsed.pathname = path.normalize(parsed.pathname);\n\t\treturn parsed;\n\t});\n}\n\nmodule.exports = Uri;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-uri/node.js\n// module id = 4\n// module chunks = 0","'use strict';\n\nimport globals from '../globals/globals';\nimport Uri from 'metal-uri';\n\n/**\n * A collection of static utility functions.\n * @const\n */\nclass utils {\n\n\t/**\n\t * Copies attributes form source node to target node.\n\t * @return {void}\n\t * @static\n\t */\n\tstatic copyNodeAttributes(source, target) {\n\t\tArray.prototype.slice.call(source.attributes).forEach((attribute) => target.setAttribute(attribute.name, attribute.value));\n\t}\n\n\t/**\n\t * Gets the current browser path including hashbang.\n\t * @return {!string}\n\t * @static\n\t */\n\tstatic getCurrentBrowserPath() {\n\t\treturn this.getCurrentBrowserPathWithoutHash() + globals.window.location.hash;\n\t}\n\n\t/**\n\t * Gets the current browser path excluding hashbang.\n\t * @return {!string}\n\t * @static\n\t */\n\tstatic getCurrentBrowserPathWithoutHash() {\n\t\treturn globals.window.location.pathname + globals.window.location.search;\n\t}\n\n\t/**\n\t * Gets the given node offset coordinates.\n\t * @return {!object}\n\t * @static\n\t */\n\tstatic getNodeOffset(node) {\n\t\tlet [offsetLeft, offsetTop] = [0, 0];\n\t\tdo {\n\t\t\toffsetLeft += node.offsetLeft;\n\t\t\toffsetTop += node.offsetTop;\n\t\t\tnode = node.offsetParent;\n\t\t} while (node);\n\t\treturn {\n\t\t\toffsetLeft,\n\t\t\toffsetTop\n\t\t};\n\t}\n\n\t/**\n\t * Extracts the path part of an url.\n\t * @return {!string}\n\t * @static\n\t */\n\tstatic getUrlPath(url) {\n\t\tvar uri = new Uri(url);\n\t\treturn uri.getPathname() + uri.getSearch() + uri.getHash();\n\t}\n\n\t/**\n\t * Extracts the path part of an url without hashbang.\n\t * @return {!string}\n\t * @static\n\t */\n\tstatic getUrlPathWithoutHash(url) {\n\t\tvar uri = new Uri(url);\n\t\treturn uri.getPathname() + uri.getSearch();\n\t}\n\n\t/**\n\t * Extracts the path part of an url without hashbang and query search.\n\t * @return {!string}\n\t * @static\n\t */\n\tstatic getUrlPathWithoutHashAndSearch(url) {\n\t\tvar uri = new Uri(url);\n\t\treturn uri.getPathname();\n\t}\n\n\t/**\n\t * Checks if url is in the same browser current url excluding the hashbang.\n\t * @param  {!string} url\n\t * @return {boolean}\n\t * @static\n\t */\n\tstatic isCurrentBrowserPath(url) {\n\t\tif (url) {\n\t\t\tconst currentBrowserPath = this.getCurrentBrowserPathWithoutHash();\n\t\t\t// the getUrlPath will create a Uri and will normalize the path and\n\t\t\t// remove the trailling '/' for properly comparing paths.\n\t\t\treturn utils.getUrlPathWithoutHash(url) === this.getUrlPath(currentBrowserPath);\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns true if HTML5 History api is supported.\n\t * @return {boolean}\n\t * @static\n\t */\n\tstatic isHtml5HistorySupported() {\n\t\treturn !!(globals.window.history && globals.window.history.pushState);\n\t}\n\n\t/**\n\t * Checks if a given url is a valid http(s) uri and returns the formed Uri\n\t * or false if the parsing failed\n\t * @return {Uri|boolean}\n\t * @static\n\t */\n\tstatic isWebUri(url) {\n\t\ttry {\n\t\t\treturn new Uri(url);\n\t\t} catch (err) {\n\t\t\tconsole.error(`${err.message} ${url}`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Removes all attributes form node.\n\t * @return {void}\n\t * @static\n\t */\n\tstatic clearNodeAttributes(node) {\n\t\tArray.prototype.slice.call(node.attributes).forEach((attribute) => node.removeAttribute(attribute.name));\n\t}\n\n\t/**\n\t* Removes trailing slash in path.\n\t* @param {!string}\n\t* @return {string}\n\t*/\n\tstatic removePathTrailingSlash(path) {\n\t\tvar length = path ? path.length : 0;\n\t\tif (length > 1 && path[length - 1] === '/') {\n\t\t\tpath = path.substr(0, length - 1);\n\t\t}\n\t\treturn path;\n\t}\n}\n\nexport default utils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.globalEvalStyles = exports.globalEval = exports.features = exports.DomEventHandle = exports.DomEventEmitterProxy = exports.domData = undefined;\n\nvar _dom = require('../dom');\n\nObject.keys(_dom).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _dom[key];\n    }\n  });\n});\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _domData = require('../domData');\n\nvar _domData2 = _interopRequireDefault(_domData);\n\nvar _DomEventEmitterProxy = require('../DomEventEmitterProxy');\n\nvar _DomEventEmitterProxy2 = _interopRequireDefault(_DomEventEmitterProxy);\n\nvar _DomEventHandle = require('../DomEventHandle');\n\nvar _DomEventHandle2 = _interopRequireDefault(_DomEventHandle);\n\nvar _features = require('../features');\n\nvar _features2 = _interopRequireDefault(_features);\n\nvar _globalEval = require('../globalEval');\n\nvar _globalEval2 = _interopRequireDefault(_globalEval);\n\nvar _globalEvalStyles = require('../globalEvalStyles');\n\nvar _globalEvalStyles2 = _interopRequireDefault(_globalEvalStyles);\n\nrequire('../events');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.domData = _domData2.default;\nexports.DomEventEmitterProxy = _DomEventEmitterProxy2.default;\nexports.DomEventHandle = _DomEventHandle2.default;\nexports.features = _features2.default;\nexports.globalEval = _globalEval2.default;\nexports.globalEvalStyles = _globalEvalStyles2.default;\nexports.default = _dom2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/all/dom.js\n// module id = 6\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EventHandler = exports.EventHandle = exports.EventEmitterProxy = exports.EventEmitter = undefined;\n\nvar _EventEmitter = require('./EventEmitter');\n\nvar _EventEmitter2 = _interopRequireDefault(_EventEmitter);\n\nvar _EventEmitterProxy = require('./EventEmitterProxy');\n\nvar _EventEmitterProxy2 = _interopRequireDefault(_EventEmitterProxy);\n\nvar _EventHandle = require('./EventHandle');\n\nvar _EventHandle2 = _interopRequireDefault(_EventHandle);\n\nvar _EventHandler = require('./EventHandler');\n\nvar _EventHandler2 = _interopRequireDefault(_EventHandler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _EventEmitter2.default;\nexports.EventEmitter = _EventEmitter2.default;\nexports.EventEmitterProxy = _EventEmitterProxy2.default;\nexports.EventHandle = _EventHandle2.default;\nexports.EventHandler = _EventHandler2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-events/lib/events.js\n// module id = 7\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar METAL_DATA = '__metal_data__';\n\nvar domData = function () {\n\tfunction domData() {\n\t\t_classCallCheck(this, domData);\n\t}\n\n\t_createClass(domData, null, [{\n\t\tkey: 'get',\n\n\t\t/**\n   * Gets Metal.js's data for the given element.\n   * @param {!Element} element\n   * @param {string=} opt_name Optional property from the data to be returned.\n   * @param {*} opt_initialVal Optinal value to the set the requested property\n   *     to if it doesn't exist yet in the data.\n   * @return {!Object}\n   */\n\t\tvalue: function get(element, opt_name, opt_initialVal) {\n\t\t\tif (!element[METAL_DATA]) {\n\t\t\t\telement[METAL_DATA] = {};\n\t\t\t}\n\t\t\tif (!opt_name) {\n\t\t\t\treturn element[METAL_DATA];\n\t\t\t}\n\t\t\tif (!element[METAL_DATA][opt_name] && opt_initialVal) {\n\t\t\t\telement[METAL_DATA][opt_name] = opt_initialVal;\n\t\t\t}\n\t\t\treturn element[METAL_DATA][opt_name];\n\t\t}\n\n\t\t/**\n   * Checks if the given element has data stored in it.\n   * @param {!Element} element\n   * @return {boolean}\n   */\n\n\t}, {\n\t\tkey: 'has',\n\t\tvalue: function has(element) {\n\t\t\treturn !!element[METAL_DATA];\n\t\t}\n\t}]);\n\n\treturn domData;\n}();\n\nexports.default = domData;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/domData.js\n// module id = 8\n// module chunks = 0","'use strict';\n\nimport { isDefAndNotNull, isFunction, isString } from 'metal';\nimport { extractData, parse, toRegex } from 'metal-path-parser';\n\nclass Route {\n\n\t/**\n\t * Route class.\n\t * @param {!string|RegExp|Function} path\n\t * @param {!Function} handler\n\t * @constructor\n\t */\n\tconstructor(path, handler) {\n\t\tif (!isDefAndNotNull(path)) {\n\t\t\tthrow new Error('Route path not specified.');\n\t\t}\n\t\tif (!isFunction(handler)) {\n\t\t\tthrow new Error('Route handler is not a function.');\n\t\t}\n\n\t\t/**\n\t\t * Defines the handler which will execute once a URL in the application\n\t\t * matches the path.\n\t\t * @type {!Function}\n\t\t * @protected\n\t\t */\n\t\tthis.handler = handler;\n\n\t\t/**\n\t\t * Defines the path which will trigger the route handler.\n\t\t * @type {!string|RegExp|Function}\n\t\t * @protected\n\t\t */\n\t\tthis.path = path;\n\t}\n\n\t/**\n\t* Builds parsed data (regex and tokens) for this route.\n\t* @return {!Object}\n\t* @protected\n\t*/\n\tbuildParsedData_() {\n\t\tif (!this.parsedData_) {\n\t\t\tvar tokens = parse(this.path);\n\t\t\tvar regex = toRegex(tokens);\n\t\t\tthis.parsedData_ = {\n\t\t\t\tregex,\n\t\t\t\ttokens\n\t\t\t};\n\t\t}\n\t\treturn this.parsedData_;\n\t}\n\n\t/**\n\t * Extracts param data from the given path, according to this route.\n\t * @param {string} path The url path to extract params from.\n\t * @return {Object} The extracted data, if the path matches this route, or\n\t *     null otherwise.\n\t */\n\textractParams(path) {\n\t\tif (isString(this.path)) {\n\t\t\treturn extractData(this.buildParsedData_().tokens, path);\n\t\t}\n\t\treturn {};\n\t}\n\n\t/**\n\t * Gets the route handler.\n\t * @return {!Function}\n\t */\n\tgetHandler() {\n\t\treturn this.handler;\n\t}\n\n\t/**\n\t * Gets the route path.\n\t * @return {!string|RegExp|Function}\n\t */\n\tgetPath() {\n\t\treturn this.path;\n\t}\n\n\t/**\n \t * Matches if the router can handle the tested path.\n \t * @param {!string} value Path to test (may contain the querystring part).\n\t * @return {boolean} Returns true if matches any route.\n\t */\n\tmatchesPath(value) {\n\t\tvar path = this.path;\n\n\t\tif (isFunction(path)) {\n\t\t\treturn path(value);\n\t\t}\n\t\tif (isString(path)) {\n\t\t\tpath = this.buildParsedData_().regex;\n\t\t}\n\t\tif (path instanceof RegExp) {\n\t\t\treturn value.search(path) > -1;\n\t\t}\n\n\t\treturn false;\n\t}\n\n}\n\nexport default Route;\n\n\n\n// WEBPACK FOOTER //\n// ./src/route/Route.js","'use strict';\n\nimport { getUid } from 'metal';\nimport { globalEval } from 'metal-dom';\nimport Cacheable from '../cacheable/Cacheable';\nimport CancellablePromise from 'metal-promise';\n\nclass Screen extends Cacheable {\n\n\t/**\n\t * Screen class is a special type of route handler that provides helper\n\t * utilities that adds lifecycle and methods to provide content to each\n\t * registered surface.\n\t * @constructor\n\t * @extends {Cacheable}\n\t */\n\tconstructor() {\n\t\tsuper();\n\n\t\t/**\n\t\t * Holds the screen id.\n\t\t * @type {string}\n\t\t * @protected\n\t\t */\n\t\tthis.id = this.makeId_(getUid());\n\n\t\t/**\n\t\t * Holds the screen title. Relevant when the page title should be\n\t\t * upadated when screen is rendered.\n\t\t * @type {?string=}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis.title = null;\n\t}\n\n\t/**\n\t * Fires when the screen is active. Allows a screen to perform any setup\n\t * that requires its DOM to be visible. Lifecycle.\n\t */\n\tactivate() {\n\t\tconsole.log('Screen [' + this + '] activate');\n\t}\n\n\t/**\n\t * Gives the Screen a chance to cancel the navigation and stop itself from\n\t * being deactivated. Can be used, for example, if the screen has unsaved\n\t * state. Lifecycle. Clean-up should not be preformed here, since the\n\t * navigation may still be cancelled. Do clean-up in deactivate.\n\t * @return {boolean=} If returns true, the current screen is locked and the\n\t *     next nagivation interrupted.\n\t */\n\tbeforeDeactivate() {\n\t\tconsole.log('Screen [' + this + '] beforeDeactivate');\n\t}\n\n\t/**\n\t * Gives the Screen a chance format the path before history update.\n\t * @path {!string} path Navigation path.\n\t * @return {!string} Navigation path to use on history.\n\t */\n\tbeforeUpdateHistoryPath(path) {\n\t\treturn path;\n\t}\n\n\t/**\n\t * Gives the Screen a chance format the state before history update.\n\t * @path {!object} state History state.\n\t * @return {!object} History state to use on history.\n\t */\n\tbeforeUpdateHistoryState(state) {\n\t\treturn state;\n\t}\n\n\t/**\n\t * Allows a screen to do any cleanup necessary after it has been\n\t * deactivated, for example cancelling outstanding requests or stopping\n\t * timers. Lifecycle.\n\t */\n\tdeactivate() {\n\t\tconsole.log('Screen [' + this + '] deactivate');\n\t}\n\n\t/**\n\t * Dispose a screen, either after it is deactivated (in the case of a\n\t * non-cacheable view) or when the App is itself disposed for whatever\n\t * reason. Lifecycle.\n\t */\n\tdisposeInternal() {\n\t\tsuper.disposeInternal();\n\t\tconsole.log('Screen [' + this + '] dispose');\n\t}\n\n\t/**\n\t * Allows a screen to evaluate scripts before the element is made visible.\n\t * Lifecycle.\n\t * @param {!object} surfaces Map of surfaces to flip keyed by surface id.\n\t * @return {?CancellablePromise=} This can return a promise, which will\n\t *     pause the navigation until it is resolved.\n\t */\n\tevaluateScripts(surfaces) {\n\t\tObject.keys(surfaces).forEach(sId => {\n\t\t\tif (surfaces[sId].activeChild) {\n\t\t\t\tglobalEval.runScriptsInElement(surfaces[sId].activeChild);\n\t\t\t}\n\t\t});\n\t\treturn CancellablePromise.resolve();\n\t}\n\n\t/**\n\t * Allows a screen to evaluate styles before the element is made visible.\n\t * Lifecycle.\n\t * @param {!object} surfaces Map of surfaces to flip keyed by surface id.\n\t * @return {?CancellablePromise=} This can return a promise, which will\n\t *     pause the navigation until it is resolved.\n\t */\n\tevaluateStyles() {\n\t\treturn CancellablePromise.resolve();\n\t}\n\n\t/**\n\t * Allows a screen to perform any setup immediately before the element is\n\t * made visible. Lifecycle.\n\t * @param {!object} surfaces Map of surfaces to flip keyed by surface id.\n\t * @return {?CancellablePromise=} This can return a promise, which will pause the\n\t *     navigation until it is resolved.\n\t */\n\tflip(surfaces) {\n\t\tconsole.log('Screen [' + this + '] flip');\n\n\t\tvar transitions = [];\n\n\t\tObject.keys(surfaces).forEach(sId => {\n\t\t\tvar surface = surfaces[sId];\n\t\t\tvar deferred = surface.show(this.id);\n\t\t\ttransitions.push(deferred);\n\t\t});\n\n\t\treturn CancellablePromise.all(transitions);\n\t}\n\n\t/**\n\t * Gets the screen id.\n\t * @return {string}\n\t */\n\tgetId() {\n\t\treturn this.id;\n\t}\n\n\t/**\n\t * Returns the content for the given surface, or null if the surface isn't\n\t * used by this screen. This will be called when a screen is initially\n\t * constructed or, if a screen is non-cacheable, when navigated.\n\t * @param {!string} surfaceId The id of the surface DOM element.\n\t * @param {!Object} params Params extracted from the current path.\n\t * @return {?string|Element=} This can return a string or node representing\n\t *     the content of the surface. If returns falsy values surface default\n\t *     content is restored.\n\t */\n\tgetSurfaceContent() {\n\t\tconsole.log('Screen [' + this + '] getSurfaceContent');\n\t}\n\n\t/**\n\t * Gets the screen title.\n\t * @return {?string=}\n\t */\n\tgetTitle() {\n\t\treturn this.title;\n\t}\n\n\t/**\n\t * Returns all contents for the surfaces. This will pass the loaded content\n\t * to <code>Screen.load</code> with all information you\n\t * need to fulfill the surfaces. Lifecycle.\n\t * @param {!string=} path The requested path.\n\t * @return {!CancellablePromise} This can return a string representing the\n\t *     contents of the surfaces or a promise, which will pause the navigation\n\t *     until it is resolved. This is useful for loading async content.\n\t */\n\tload() {\n\t\tconsole.log('Screen [' + this + '] load');\n\t\treturn CancellablePromise.resolve();\n\t}\n\n\t/**\n\t * Makes the id for the screen.\n\t * @param {!string} id The screen id the content belongs too.\n\t * @return {string}\n\t * @private\n\t */\n\tmakeId_(id) {\n\t\treturn 'screen_' + id;\n\t}\n\n\t/**\n\t * Sets the screen id.\n\t * @param {!string} id\n\t */\n\tsetId(id) {\n\t\tthis.id = id;\n\t}\n\n\t/**\n\t * Sets the screen title.\n\t * @param {?string=} title\n\t */\n\tsetTitle(title) {\n\t\tthis.title = title;\n\t}\n\n\t/**\n\t * @return {string}\n\t */\n\ttoString() {\n\t\treturn this.id;\n\t}\n\n}\n\n/**\n * @param {*} object\n * @return {boolean} Whether a given instance implements\n * <code>Screen</code>.\n */\nScreen.isImplementedBy = function(object) {\n\treturn object instanceof Screen;\n};\n\nexport default Screen;\n\n\n\n// WEBPACK FOOTER //\n// ./src/screen/Screen.js","'use strict';\n\n// This file exists just for backwards compatibility, making sure that old\n// default imports for this file still work. It's best to use the named exports\n// for each function instead though, since that allows bundlers like Rollup to\n// reduce the bundle size by removing unused code.\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.core = undefined;\n\nvar _coreNamed = require('./coreNamed');\n\nObject.keys(_coreNamed).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _coreNamed[key];\n    }\n  });\n});\n\nvar core = _interopRequireWildcard(_coreNamed);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = core;\nexports.core = core;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal/lib/core.js\n// module id = 11\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TreeNode = exports.MultiMap = undefined;\n\nvar _MultiMap = require('../MultiMap');\n\nvar _MultiMap2 = _interopRequireDefault(_MultiMap);\n\nvar _TreeNode = require('../TreeNode');\n\nvar _TreeNode2 = _interopRequireDefault(_TreeNode);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.MultiMap = _MultiMap2.default;\nexports.TreeNode = _TreeNode2.default;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-structs/lib/all/structs.js\n// module id = 12\n// module chunks = 0","'use strict';\n\nimport { addClasses, delegate, match, on, removeClasses } from 'metal-dom';\nimport { array, async, isDefAndNotNull, isString } from 'metal';\nimport { EventEmitter, EventHandler } from 'metal-events';\nimport CancellablePromise from 'metal-promise';\nimport debounce from 'metal-debounce';\nimport globals from '../globals/globals';\nimport Route from '../route/Route';\nimport Screen from '../screen/Screen';\nimport Surface from '../surface/Surface';\nimport Uri from 'metal-uri';\nimport utils from '../utils/utils';\n\nclass App extends EventEmitter {\n\n\t/**\n\t * App class that handle routes and screens lifecycle.\n\t * @constructor\n\t * @extends {EventEmitter}\n\t */\n\tconstructor() {\n\t\tsuper();\n\n\t\t/**\n\t\t * Holds the active screen.\n\t\t * @type {?Screen}\n\t\t * @protected\n\t\t */\n\t\tthis.activeScreen = null;\n\n\t\t/**\n\t\t * Holds the active path containing the query parameters.\n\t\t * @type {?string}\n\t\t * @protected\n\t\t */\n\t\tthis.activePath = null;\n\n\t\t/**\n\t\t * Allows prevent navigate from dom prevented event.\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t * @protected\n\t\t */\n\t\tthis.allowPreventNavigate = true;\n\n\t\t/**\n\t\t * Holds link base path.\n\t\t * @type {!string}\n\t\t * @default ''\n\t\t * @protected\n\t\t */\n\t\tthis.basePath = '';\n\n\t\t/**\n\t\t * Holds the value of the browser path before a navigation is performed.\n\t\t * @type {!string}\n\t\t * @default the current browser path.\n\t\t * @protected\n\t\t */\n\t\tthis.browserPathBeforeNavigate = utils.getCurrentBrowserPathWithoutHash();\n\n\t\t/**\n\t\t * Captures scroll position from scroll event.\n\t\t * @type {!boolean}\n\t\t * @default true\n\t\t * @protected\n\t\t */\n\t\tthis.captureScrollPositionFromScrollEvent = true;\n\n\t\t/**\n\t\t * Holds the default page title.\n\t\t * @type {string}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis.defaultTitle = globals.document.title;\n\n\t\t/**\n\t\t * Holds the form selector to define forms that are routed.\n\t\t * @type {!string}\n\t\t * @default form[enctype=\"multipart/form-data\"]:not([data-senna-off])\n\t\t * @protected\n\t\t */\n\t\tthis.formSelector = 'form[enctype=\"multipart/form-data\"]:not([data-senna-off])';\n\n\t\t/**\n\t\t * When enabled, the route matching ignores query string from the path.\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t * @protected\n\t\t */\n\t\tthis.ignoreQueryStringFromRoutePath = false;\n\n\t\t/**\n\t\t * Holds the link selector to define links that are routed.\n\t\t * @type {!string}\n\t\t * @default a:not([data-senna-off])\n\t\t * @protected\n\t\t */\n\t\tthis.linkSelector = 'a:not([data-senna-off]):not([target=\"_blank\"])';\n\n\t\t/**\n\t\t * Holds the loading css class.\n\t\t * @type {!string}\n\t\t * @default senna-loading\n\t\t * @protected\n\t\t */\n\t\tthis.loadingCssClass = 'senna-loading';\n\n\t\t/**\n\t\t * Using the History API to manage your URLs is awesome and, as it happens,\n\t\t * a crucial feature of good web apps. One of its downsides, however, is\n\t\t * that scroll positions are stored and then, more importantly, restored\n\t\t * whenever you traverse the history. This often means unsightly jumps as\n\t\t * the scroll position changes automatically, and especially so if your app\n\t\t * does transitions, or changes the contents of the page in any way.\n\t\t * Ultimately this leads to an horrible user experience. The good news is,\n\t\t * however, that theres a potential fix: history.scrollRestoration.\n\t\t * https://developers.google.com/web/updates/2015/09/history-api-scroll-restoration\n\t\t * @type {boolean}\n\t\t * @protected\n\t\t */\n\t\tthis.nativeScrollRestorationSupported = ('scrollRestoration' in globals.window.history);\n\n\t\t/**\n\t\t * When set to true there is a pendingNavigate that has not yet been\n\t\t * resolved or rejected.\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t * @protected\n\t\t */\n\t\tthis.isNavigationPending = false;\n\n\t\t/**\n\t\t * Holds a deferred with the current navigation.\n\t\t * @type {?CancellablePromise}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis.pendingNavigate = null;\n\n\t\t/**\n\t\t * Holds the window horizontal scroll position when the navigation using\n\t\t * back or forward happens to be restored after the surfaces are updated.\n\t\t * @type {!Number}\n\t\t * @default 0\n\t\t * @protected\n\t\t */\n\t\tthis.popstateScrollLeft = 0;\n\n\t\t/**\n\t\t * Holds the window vertical scroll position when the navigation using\n\t\t * back or forward happens to be restored after the surfaces are updated.\n\t\t * @type {!Number}\n\t\t * @default 0\n\t\t * @protected\n\t\t */\n\t\tthis.popstateScrollTop = 0;\n\n\t\t/**\n\t\t * Holds the redirect path containing the query parameters.\n\t\t * @type {?string}\n\t\t * @protected\n\t\t */\n\t\tthis.redirectPath = null;\n\n\t\t/**\n\t\t * Holds the screen routes configuration.\n\t\t * @type {?Array}\n\t\t * @default []\n\t\t * @protected\n\t\t */\n\t\tthis.routes = [];\n\n\t\t/**\n\t\t * Maps the screen instances by the url containing the parameters.\n\t\t * @type {?Object}\n\t\t * @default {}\n\t\t * @protected\n\t\t */\n\t\tthis.screens = {};\n\n\t\t/**\n\t\t * When set to true the first erroneous popstate fired on page load will be\n\t\t * ignored, only if <code>globals.window.history.state</code> is also\n\t\t * <code>null</code>.\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t * @protected\n\t\t */\n\t\tthis.skipLoadPopstate = false;\n\n\t\t/**\n\t\t * Maps that index the surfaces instances by the surface id.\n\t\t * @type {?Object}\n\t\t * @default {}\n\t\t * @protected\n\t\t */\n\t\tthis.surfaces = {};\n\n\t\t/**\n\t\t * When set to true, moves the scroll position after popstate, or to the\n\t\t * top of the viewport for new navigation. If false, the browser will\n\t\t * take care of scroll restoration.\n\t\t * @type {!boolean}\n\t\t * @default true\n\t\t * @protected\n\t\t */\n\t\tthis.updateScrollPosition = true;\n\n\t\tthis.appEventHandlers_ = new EventHandler();\n\n\t\tthis.appEventHandlers_.add(\n\t\t\ton(globals.window, 'scroll', debounce(this.onScroll_.bind(this), 100)),\n\t\t\ton(globals.window, 'load', this.onLoad_.bind(this)),\n\t\t\ton(globals.window, 'popstate', this.onPopstate_.bind(this))\n\t\t);\n\n\t\tthis.on('startNavigate', this.onStartNavigate_);\n\t\tthis.on('beforeNavigate', this.onBeforeNavigate_);\n\t\tthis.on('beforeNavigate', this.onBeforeNavigateDefault_, true);\n\t\tthis.on('beforeUnload', this.onBeforeUnloadDefault_);\n\n\t\tthis.setLinkSelector(this.linkSelector);\n\t\tthis.setFormSelector(this.formSelector);\n\n\t\tthis.maybeOverloadBeforeUnload_();\n\t}\n\n\t/**\n\t * Adds one or more screens to the application.\n\t *\n\t * Example:\n\t *\n\t * <code>\n\t *   app.addRoutes({ path: '/foo', handler: FooScreen });\n\t *   or\n\t *   app.addRoutes([{ path: '/foo', handler: function(route) { return new FooScreen(); } }]);\n\t * </code>\n\t *\n\t * @param {Object} or {Array} routes Single object or an array of object.\n\t *     Each object should contain <code>path</code> and <code>screen</code>.\n\t *     The <code>path</code> should be a string or a regex that maps the\n\t *     navigation route to a screen class definition (not an instance), e.g:\n\t *         <code>{ path: \"/home:param1\", handler: MyScreen }</code>\n\t *         <code>{ path: /foo.+/, handler: MyScreen }</code>\n\t * @chainable\n\t */\n\taddRoutes(routes) {\n\t\tif (!Array.isArray(routes)) {\n\t\t\troutes = [routes];\n\t\t}\n\t\troutes.forEach((route) => {\n\t\t\tif (!(route instanceof Route)) {\n\t\t\t\troute = new Route(route.path, route.handler);\n\t\t\t}\n\t\t\tthis.routes.push(route);\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds one or more surfaces to the application.\n\t * @param {Surface|String|Array.<Surface|String>} surfaces\n\t *     Surface element id or surface instance. You can also pass an Array\n\t *     whichcontains surface instances or id. In case of ID, these should be\n\t *     the id of surface element.\n\t * @chainable\n\t */\n\taddSurfaces(surfaces) {\n\t\tif (!Array.isArray(surfaces)) {\n\t\t\tsurfaces = [surfaces];\n\t\t}\n\t\tsurfaces.forEach((surface) => {\n\t\t\tif (isString(surface)) {\n\t\t\t\tsurface = new Surface(surface);\n\t\t\t}\n\t\t\tthis.surfaces[surface.getId()] = surface;\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns if can navigate to path.\n\t * @param {!string} url\n\t * @return {boolean}\n\t */\n\tcanNavigate(url) {\n\t\tconst uri = utils.isWebUri(url);\n\n\t\tif (!uri) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst path = utils.getUrlPath(url);\n\n\t\tif (!this.isLinkSameOrigin_(uri.getHostname())) {\n\t\t\tconsole.log('Offsite link clicked');\n\t\t\treturn false;\n\t\t}\n\t\tif (!this.isSameBasePath_(path)) {\n\t\t\tconsole.log('Link clicked outside app\\'s base path');\n\t\t\treturn false;\n\t\t}\n\t\t// Prevents navigation if it's a hash change on the same url.\n\t\tif (uri.getHash() && utils.isCurrentBrowserPath(path)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this.findRoute(path)) {\n\t\t\tconsole.log('No route for ' + path);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Clear screens cache.\n\t * @chainable\n\t */\n\tclearScreensCache() {\n\t\tObject.keys(this.screens).forEach((path) => {\n\t\t\tif (path === this.activePath) {\n\t\t\t\tthis.activeScreen.clearCache();\n\t\t\t} else {\n\t\t\t\tthis.removeScreen(path);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves or create a screen instance to a path.\n\t * @param {!string} path Path containing the querystring part.\n\t * @return {Screen}\n\t */\n\tcreateScreenInstance(path, route) {\n\t\tif (!this.pendingNavigate && path === this.activePath) {\n\t\t\tconsole.log('Already at destination, refresh navigation');\n\t\t\treturn this.activeScreen;\n\t\t}\n\t\t/* jshint newcap: false */\n\t\tvar screen = this.screens[path];\n\t\tif (!screen) {\n\t\t\tvar handler = route.getHandler();\n\t\t\tif (handler === Screen || Screen.isImplementedBy(handler.prototype)) {\n\t\t\t\tscreen = new handler();\n\t\t\t} else {\n\t\t\t\tscreen = handler(route) || new Screen();\n\t\t\t}\n\t\t\tconsole.log('Create screen for [' + path + '] [' + screen + ']');\n\t\t}\n\t\treturn screen;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tif (this.activeScreen) {\n\t\t\tthis.removeScreen(this.activePath);\n\t\t}\n\t\tthis.clearScreensCache();\n\t\tthis.formEventHandler_.removeListener();\n\t\tthis.linkEventHandler_.removeListener();\n\t\tthis.appEventHandlers_.removeAllListeners();\n\t\tsuper.disposeInternal();\n\t}\n\n\t/**\n\t * Dispatches to the first route handler that matches the current path, if\n\t * any.\n\t * @return {CancellablePromise} Returns a pending request cancellable promise.\n\t */\n\tdispatch() {\n\t\treturn this.navigate(utils.getCurrentBrowserPath(), true);\n\t}\n\n\t/**\n\t * Starts navigation to a path.\n\t * @param {!string} path Path containing the querystring part.\n\t * @param {boolean=} opt_replaceHistory Replaces browser history.\n\t * @return {CancellablePromise} Returns a pending request cancellable promise.\n\t */\n\tdoNavigate_(path, opt_replaceHistory) {\n\t\tif (this.activeScreen && this.activeScreen.beforeDeactivate()) {\n\t\t\tthis.pendingNavigate = CancellablePromise.reject(new CancellablePromise.CancellationError('Cancelled by active screen'));\n\t\t\treturn this.pendingNavigate;\n\t\t}\n\n\t\tvar route = this.findRoute(path);\n\t\tif (!route) {\n\t\t\tthis.pendingNavigate = CancellablePromise.reject(new CancellablePromise.CancellationError('No route for ' + path));\n\t\t\treturn this.pendingNavigate;\n\t\t}\n\n\t\tconsole.log('Navigate to [' + path + ']');\n\n\t\tthis.stopPendingNavigate_();\n\t\tthis.isNavigationPending = true;\n\n\t\tvar nextScreen = this.createScreenInstance(path, route);\n\n\t\treturn nextScreen.load(path)\n\t\t\t.then(() => {\n\t\t\t\tif (this.activeScreen) {\n\t\t\t\t\tthis.activeScreen.deactivate();\n\t\t\t\t}\n\t\t\t\tthis.prepareNavigateHistory_(path, nextScreen, opt_replaceHistory);\n\t\t\t\tthis.prepareNavigateSurfaces_(\n\t\t\t\t\tnextScreen,\n\t\t\t\t\tthis.surfaces,\n\t\t\t\t\tthis.extractParams(route, path)\n\t\t\t\t);\n\t\t\t})\n\t\t\t.then(() => nextScreen.evaluateStyles(this.surfaces))\n\t\t\t.then(() => nextScreen.flip(this.surfaces))\n\t\t\t.then(() => nextScreen.evaluateScripts(this.surfaces))\n\t\t\t.then(() => this.maybeUpdateScrollPositionState_())\n\t\t\t.then(() => this.syncScrollPositionSyncThenAsync_())\n\t\t\t.then(() => this.finalizeNavigate_(path, nextScreen))\n\t\t\t.then(() => this.maybeOverloadBeforeUnload_())\n\t\t\t.catch((reason) => {\n\t\t\t\tthis.isNavigationPending = false;\n\t\t\t\tthis.handleNavigateError_(path, nextScreen, reason);\n\t\t\t\tthrow reason;\n\t\t\t});\n\t}\n\n\t/**\n\t * Extracts params according to the given path and route.\n\t * @param {!Route} route\n\t * @param {string} path\n\t * @param {!Object}\n\t */\n\textractParams(route, path) {\n\t\treturn route.extractParams(this.getRoutePath(path));\n\t}\n\n\t/**\n\t * Finalizes a screen navigation.\n\t * @param {!string} path Path containing the querystring part.\n\t * @param {!Screen} nextScreen\n\t * @protected\n\t */\n\tfinalizeNavigate_(path, nextScreen) {\n\t\tnextScreen.activate();\n\n\t\tif (this.activeScreen && !this.activeScreen.isCacheable()) {\n\t\t\tif (this.activeScreen !== nextScreen) {\n\t\t\t\tthis.removeScreen(this.activePath);\n\t\t\t}\n\t\t}\n\n\t\tthis.activePath = path;\n\t\tthis.activeScreen = nextScreen;\n\t\tthis.browserPathBeforeNavigate = utils.getCurrentBrowserPathWithoutHash();\n\t\tthis.screens[path] = nextScreen;\n\t\tthis.isNavigationPending = false;\n\t\tthis.pendingNavigate = null;\n\t\tglobals.capturedFormElement = null;\n\t\tglobals.capturedFormButtonElement = null;\n\t\tconsole.log('Navigation done');\n\t}\n\n\t/**\n\t * Finds a route for the test path. Returns true if matches has a route,\n\t * otherwise returns null.\n\t * @param {!string} path Path containing the querystring part.\n\t * @return {?Object} Route handler if match any or <code>null</code> if the\n\t *     path is the same as the current url and the path contains a fragment.\n\t */\n\tfindRoute(path) {\n\t\tpath = this.getRoutePath(path);\n\t\tfor (var i = 0; i < this.routes.length; i++) {\n\t\t\tvar route = this.routes[i];\n\t\t\tif (route.matchesPath(path)) {\n\t\t\t\treturn route;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Gets allow prevent navigate.\n\t * @return {boolean}\n\t */\n\tgetAllowPreventNavigate() {\n\t\treturn this.allowPreventNavigate;\n\t}\n\n\t/**\n\t * Gets link base path.\n\t * @return {!string}\n\t */\n\tgetBasePath() {\n\t\treturn this.basePath;\n\t}\n\n\t/**\n\t * Gets the default page title.\n\t * @return {string} defaultTitle\n\t */\n\tgetDefaultTitle() {\n\t\treturn this.defaultTitle;\n\t}\n\n\t/**\n\t * Gets the form selector.\n\t * @return {!string}\n\t */\n\tgetFormSelector() {\n\t\treturn this.formSelector;\n\t}\n\n\t/**\n\t * Check if route matching is ignoring query string from the route path.\n\t * @return {boolean}\n\t */\n\tgetIgnoreQueryStringFromRoutePath() {\n\t\treturn this.ignoreQueryStringFromRoutePath;\n\t}\n\n\t/**\n\t * Gets the link selector.\n\t * @return {!string}\n\t */\n\tgetLinkSelector() {\n\t\treturn this.linkSelector;\n\t}\n\n\t/**\n\t * Gets the loading css class.\n\t * @return {!string}\n\t */\n\tgetLoadingCssClass() {\n\t\treturn this.loadingCssClass;\n\t}\n\n\t/**\n\t * Returns the given path formatted to be matched by a route. This will,\n\t * for example, remove the base path from it, but make sure it will end\n\t * with a '/'.\n\t * @param {string} path\n\t * @return {string}\n\t */\n\tgetRoutePath(path) {\n\t\tif (this.getIgnoreQueryStringFromRoutePath()) {\n\t\t\tpath = utils.getUrlPathWithoutHashAndSearch(path);\n\t\t\treturn utils.getUrlPathWithoutHashAndSearch(path.substr(this.basePath.length));\n\t\t}\n\n\t\tpath = utils.getUrlPathWithoutHash(path);\n\t\treturn utils.getUrlPathWithoutHash(path.substr(this.basePath.length));\n\t}\n\n\t/**\n\t * Gets the update scroll position value.\n\t * @return {boolean}\n\t */\n\tgetUpdateScrollPosition() {\n\t\treturn this.updateScrollPosition;\n\t}\n\n\t/**\n\t * Handle navigation error.\n\t * @param {!string} path Path containing the querystring part.\n\t * @param {!Screen} nextScreen\n\t * @param {!Error} error\n\t * @protected\n\t */\n\thandleNavigateError_(path, nextScreen, error) {\n\t\tconsole.log('Navigation error for [' + nextScreen + '] (' + error + ')');\n\t\tthis.emit('navigationError', {\n\t\t\terror,\n\t\t\tnextScreen,\n\t\t\tpath\n\t\t});\n\t\tif (!utils.isCurrentBrowserPath(path)) {\n\t\t\tif (this.isNavigationPending && this.pendingNavigate) {\n\t\t\t\tthis.pendingNavigate.thenAlways(() => this.removeScreen(path), this);\n\t\t\t} else {\n\t\t\t\tthis.removeScreen(path);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if app has routes.\n\t * @return {boolean}\n\t */\n\thasRoutes() {\n\t\treturn this.routes.length > 0;\n\t}\n\n\t/**\n\t * Tests if hostname is an offsite link.\n\t * @param {!string} hostname Link hostname to compare with\n\t *     <code>globals.window.location.hostname</code>.\n\t * @return {boolean}\n\t * @protected\n\t */\n\tisLinkSameOrigin_(hostname) {\n\t\treturn hostname === globals.window.location.hostname;\n\t}\n\n\t/**\n\t * Tests if link element has the same app's base path.\n\t * @param {!string} path Link path containing the querystring part.\n\t * @return {boolean}\n\t * @protected\n\t */\n\tisSameBasePath_(path) {\n\t\treturn path.indexOf(this.basePath) === 0;\n\t}\n\n\t/**\n\t * Lock the document scroll in order to avoid the browser native back and\n\t * forward navigation to change the scroll position. In the end of\n\t * navigation lifecycle scroll is repositioned.\n\t * @protected\n\t */\n\tlockHistoryScrollPosition_() {\n\t\tvar state = globals.window.history.state;\n\t\tif (!state) {\n\t\t\treturn;\n\t\t}\n\t\t// Browsers are inconsistent when re-positioning the scroll history on\n\t\t// popstate. At some browsers, history scroll happens before popstate, then\n\t\t// lock the scroll on the last known position as soon as possible after the\n\t\t// current JS execution context and capture the current value. Some others,\n\t\t// history scroll happens after popstate, in this case, we bind an once\n\t\t// scroll event to lock the las known position. Lastly, the previous two\n\t\t// behaviors can happen even on the same browser, hence the race will decide\n\t\t// the winner.\n\t\tvar winner = false;\n\t\tvar switchScrollPositionRace = function() {\n\t\t\tglobals.document.removeEventListener('scroll', switchScrollPositionRace, false);\n\t\t\tif (!winner) {\n\t\t\t\tglobals.window.scrollTo(state.scrollLeft, state.scrollTop);\n\t\t\t\twinner = true;\n\t\t\t}\n\t\t};\n\t\tasync.nextTick(switchScrollPositionRace);\n\t\tglobals.document.addEventListener('scroll', switchScrollPositionRace, false);\n\t}\n\n\t/**\n\t * If supported by the browser, disables native scroll restoration and\n\t * stores current value.\n\t */\n\tmaybeDisableNativeScrollRestoration() {\n\t\tif (this.nativeScrollRestorationSupported) {\n\t\t\tthis.nativeScrollRestoration_ = globals.window.history.scrollRestoration;\n\t\t\tglobals.window.history.scrollRestoration = 'manual';\n\t\t}\n\t}\n\n\t/**\n\t * Maybe navigate to a path.\n\t * @param {string} href Information about the link's href.\n\t * @param {Event} event Dom event that initiated the navigation.\n\t */\n\tmaybeNavigate_(href, event) {\n\t\tif (!this.canNavigate(href)) {\n\t\t\treturn;\n\t\t}\n\n\t\tglobals.capturedFormElement = event.capturedFormElement;\n\t\tglobals.capturedFormButtonElement = event.capturedFormButtonElement;\n\n\t\tvar navigateFailed = false;\n\t\ttry {\n\t\t\tthis.navigate(utils.getUrlPath(href), false, event);\n\t\t} catch (err) {\n\t\t\t// Do not prevent link navigation in case some synchronous error occurs\n\t\t\tnavigateFailed = true;\n\t\t}\n\n\t\tif (!navigateFailed) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t/**\n\t * Checks whether the onbeforeunload global event handler is overloaded\n\t * by client code. If so, it replaces with a function that halts the normal\n\t * event flow in relation with the client onbeforeunload function.\n\t * This can be in most part used to prematurely terminate navigation to other pages\n\t * according to the given constrait(s). \n\t * @protected \n\t */\n\tmaybeOverloadBeforeUnload_() {\n\t\tif ('function' === typeof window.onbeforeunload) {\n\t\t\twindow._onbeforeunload = window.onbeforeunload;\n\n\t\t\twindow.onbeforeunload = event => {\n\t\t\t\tthis.emit('beforeUnload', event);\n\t\t\t\tif (event && event.defaultPrevented) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// mark the updated handler due unwanted recursion \n\t\t\twindow.onbeforeunload._overloaded = true;\n\t\t}\n\t}\n\n\t/**\n\t * Maybe reposition scroll to hashed anchor.\n\t */\n\tmaybeRepositionScrollToHashedAnchor() {\n\t\tconst hash = globals.window.location.hash;\n\t\tif (hash) {\n\t\t\tlet anchorElement = globals.document.getElementById(hash.substring(1));\n\t\t\tif (anchorElement) {\n\t\t\t\tconst {offsetLeft, offsetTop} = utils.getNodeOffset(anchorElement);\n\t\t\t\tglobals.window.scrollTo(offsetLeft, offsetTop);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * If supported by the browser, restores native scroll restoration to the\n\t * value captured by `maybeDisableNativeScrollRestoration`.\n\t */\n\tmaybeRestoreNativeScrollRestoration() {\n\t\tif (this.nativeScrollRestorationSupported && this.nativeScrollRestoration_) {\n\t\t\tglobals.window.history.scrollRestoration = this.nativeScrollRestoration_;\n\t\t}\n\t}\n\n\t/**\n\t * Maybe restore redirected path hash in case both the current path and\n\t * the given path are the same.\n\t * @param {!string} path Path before navigation.\n\t * @param {!string} redirectPath Path after navigation.\n\t * @param {!string} hash Hash to be added to the path.\n\t * @return {!string} Returns the path with the hash restored.\n\t */\n\tmaybeRestoreRedirectPathHash_(path, redirectPath, hash) {\n\t\tif (redirectPath === utils.getUrlPathWithoutHash(path)) {\n\t\t\treturn redirectPath + hash;\n\t\t}\n\t\treturn redirectPath;\n\t}\n\n\t/**\n\t * Maybe update scroll position in history state to anchor on path.\n\t * @param {!string} path Path containing anchor\n\t */\n\tmaybeUpdateScrollPositionState_() {\n\t\tvar hash = globals.window.location.hash;\n\t\tvar anchorElement = globals.document.getElementById(hash.substring(1));\n\t\tif (anchorElement) {\n\t\t\tconst {offsetLeft, offsetTop} = utils.getNodeOffset(anchorElement);\n\t\t\tthis.saveHistoryCurrentPageScrollPosition_(offsetTop, offsetLeft);\n\t\t}\n\t}\n\n\t/**\n\t * Navigates to the specified path if there is a route handler that matches.\n\t * @param {!string} path Path to navigate containing the base path.\n\t * @param {boolean=} opt_replaceHistory Replaces browser history.\n\t * @param {Event=} event Optional event object that triggered the navigation.\n\t * @return {CancellablePromise} Returns a pending request cancellable promise.\n\t */\n\tnavigate(path, opt_replaceHistory, opt_event) {\n\t\tif (!utils.isHtml5HistorySupported()) {\n\t\t\tthrow new Error('HTML5 History is not supported. Senna will not intercept navigation.');\n\t\t}\n\n\t\t// When reloading the same path do replaceState instead of pushState to\n\t\t// avoid polluting history with states with the same path.\n\t\tif (path === this.activePath) {\n\t\t\topt_replaceHistory = true;\n\t\t}\n\n\t\tthis.emit('beforeNavigate', {\n\t\t\tevent: opt_event,\n\t\t\tpath: path,\n\t\t\treplaceHistory: !!opt_replaceHistory\n\t\t});\n\n\t\treturn this.pendingNavigate;\n\t}\n\n\t/**\n\t * Befores navigation to a path.\n\t * @param {!Event} event Event facade containing <code>path</code> and\n\t *     <code>replaceHistory</code>.\n\t * @protected\n\t */\n\tonBeforeNavigate_(event) {\n\t\tif (globals.capturedFormElement) {\n\t\t\tevent.form = globals.capturedFormElement;\n\t\t}\n\t}\n\n\t/**\n\t * Befores navigation to a path. Runs after external listeners.\n\t * @param {!Event} event Event facade containing <code>path</code> and\n\t *     <code>replaceHistory</code>.\n\t * @protected\n\t */\n\tonBeforeNavigateDefault_(event) {\n\t\tif (this.pendingNavigate) {\n\t\t\tif (this.pendingNavigate.path === event.path) {\n\t\t\t\tconsole.log('Waiting...');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.emit('beforeUnload', event);\n\n\t\tthis.emit('startNavigate', {\n\t\t\tform: event.form,\n\t\t\tpath: event.path,\n\t\t\treplaceHistory: event.replaceHistory\n\t\t});\n\t}\n\n\t/**\n\t * Custom event handler that executes the original listener that has been\n\t * added by the client code and terminates the navigation accordingly.\n\t * @param {!Event} event original Event facade.\n\t * @protected\n\t */\n\tonBeforeUnloadDefault_(event) {\n\t\tvar func = window._onbeforeunload;\n\t\tif (func && !func._overloaded && func()) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t/**\n\t * Intercepts document clicks and test link elements in order to decide\n\t * whether Surface app can navigate.\n\t * @param {!Event} event Event facade\n\t * @protected\n\t */\n\tonDocClickDelegate_(event) {\n\t\tif (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey || event.button) {\n\t\t\tconsole.log('Navigate aborted, invalid mouse button or modifier key pressed.');\n\t\t\treturn;\n\t\t}\n\t\tthis.maybeNavigate_(event.delegateTarget.href, event);\n\t}\n\n\t/**\n\t * Intercepts document form submits and test action path in order to decide\n\t * whether Surface app can navigate.\n\t * @param {!Event} event Event facade\n\t * @protected\n\t */\n\tonDocSubmitDelegate_(event) {\n\t\tvar form = event.delegateTarget;\n\t\tif (form.method === 'get') {\n\t\t\tconsole.log('GET method not supported');\n\t\t\treturn;\n\t\t}\n\t\tevent.capturedFormElement = form;\n\t\tconst buttonSelector = 'button:not([type]),button[type=submit],input[type=submit]';\n\t\tif (match(globals.document.activeElement, buttonSelector)) {\n\t\t\tevent.capturedFormButtonElement = globals.document.activeElement;\n\t\t} else {\n\t\t\tevent.capturedFormButtonElement = form.querySelector(buttonSelector);\n\t\t}\n\t\tthis.maybeNavigate_(form.action, event);\n\t}\n\n\t/**\n\t * Listens to the window's load event in order to avoid issues with some browsers\n\t * that trigger popstate calls on the first load. For more information see\n\t * http://stackoverflow.com/questions/6421769/popstate-on-pages-load-in-chrome.\n\t * @protected\n\t */\n\tonLoad_() {\n\t\tthis.skipLoadPopstate = true;\n\t\tsetTimeout(() => {\n\t\t\t// The timeout ensures that popstate events will be unblocked right\n\t\t\t// after the load event occured, but not in the same event-loop cycle.\n\t\t\tthis.skipLoadPopstate = false;\n\t\t}, 0);\n\t\t// Try to reposition scroll to the hashed anchor when page loads.\n\t\tthis.maybeRepositionScrollToHashedAnchor();\n\t}\n\n\t/**\n\t * Handles browser history changes and fires app's navigation if the state\n\t * belows to us. If we detect a popstate and the state is <code>null</code>,\n\t * assume it is navigating to an external page or to a page we don't have\n\t * route, then <code>globals.window.location.reload()</code> is invoked in order to\n\t * reload the content to the current url.\n\t * @param {!Event} event Event facade\n\t * @protected\n\t */\n\tonPopstate_(event) {\n\t\tif (this.skipLoadPopstate) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Do not navigate if the popstate was triggered by a hash change.\n\t\tif (utils.isCurrentBrowserPath(this.browserPathBeforeNavigate)) {\n\t\t\tthis.maybeRepositionScrollToHashedAnchor();\n\t\t\treturn;\n\t\t}\n\n\t\tvar state = event.state;\n\n\t\tif (!state) {\n\t\t\tif (globals.window.location.hash) {\n\t\t\t\t// If senna is on an redirect path and a hash popstate happens\n\t\t\t\t// to a different url, reload the browser. This behavior doesn't\n\t\t\t\t// require senna to route hashed links and is closer to native\n\t\t\t\t// browser behavior.\n\t\t\t\tif (this.redirectPath && !utils.isCurrentBrowserPath(this.redirectPath)) {\n\t\t\t\t\tthis.reloadPage();\n\t\t\t\t}\n\t\t\t\t// Always try to reposition scroll to the hashed anchor when\n\t\t\t\t// hash popstate happens.\n\t\t\t\tthis.maybeRepositionScrollToHashedAnchor();\n\t\t\t} else {\n\t\t\t\tthis.reloadPage();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (state.senna) {\n\t\t\tconsole.log('History navigation to [' + state.path + ']');\n\t\t\tthis.popstateScrollTop = state.scrollTop;\n\t\t\tthis.popstateScrollLeft = state.scrollLeft;\n\t\t\tif (!this.nativeScrollRestorationSupported) {\n\t\t\t\tthis.lockHistoryScrollPosition_();\n\t\t\t}\n\t\t\tthis.navigate(state.path, true);\n\t\t}\n\t}\n\n\t/**\n\t * Listens document scroll changes in order to capture the possible lock\n\t * scroll position for history scrolling.\n\t * @protected\n\t */\n\tonScroll_() {\n\t\tif (this.captureScrollPositionFromScrollEvent) {\n\t\t\tthis.saveHistoryCurrentPageScrollPosition_(globals.window.pageYOffset, globals.window.pageXOffset);\n\t\t}\n\t}\n\n\t/**\n\t * Starts navigation to a path.\n\t * @param {!Event} event Event facade containing <code>path</code> and\n\t *     <code>replaceHistory</code>.\n\t * @protected\n\t */\n\tonStartNavigate_(event) {\n\t\tthis.maybeDisableNativeScrollRestoration();\n\t\tthis.captureScrollPositionFromScrollEvent = false;\n\t\taddClasses(globals.document.documentElement, this.loadingCssClass);\n\n\t\tvar endNavigatePayload = {\n\t\t\tform: event.form,\n\t\t\tpath: event.path\n\t\t};\n\n\t\tthis.pendingNavigate = this.doNavigate_(event.path, event.replaceHistory)\n\t\t\t.catch((reason) => {\n\t\t\t\tendNavigatePayload.error = reason;\n\t\t\t\tthrow reason;\n\t\t\t})\n\t\t\t.thenAlways(() => {\n\t\t\t\tif (!this.pendingNavigate) {\n\t\t\t\t\tremoveClasses(globals.document.documentElement, this.loadingCssClass);\n\t\t\t\t\tthis.maybeRestoreNativeScrollRestoration();\n\t\t\t\t\tthis.captureScrollPositionFromScrollEvent = true;\n\t\t\t\t}\n\t\t\t\tthis.emit('endNavigate', endNavigatePayload);\n\t\t\t});\n\n\t\tthis.pendingNavigate.path = event.path;\n\t}\n\n\t/**\n\t * Prefetches the specified path if there is a route handler that matches.\n\t * @param {!string} path Path to navigate containing the base path.\n\t * @return {CancellablePromise} Returns a pending request cancellable promise.\n\t */\n\tprefetch(path) {\n\t\tvar route = this.findRoute(path);\n\t\tif (!route) {\n\t\t\treturn CancellablePromise.reject(new CancellablePromise.CancellationError('No route for ' + path));\n\t\t}\n\n\t\tconsole.log('Prefetching [' + path + ']');\n\n\t\tvar nextScreen = this.createScreenInstance(path, route);\n\n\t\treturn nextScreen.load(path)\n\t\t\t.then(() => this.screens[path] = nextScreen)\n\t\t\t.catch((reason) => {\n\t\t\t\tthis.handleNavigateError_(path, nextScreen, reason);\n\t\t\t\tthrow reason;\n\t\t\t});\n\t}\n\n\t/**\n\t * Prepares screen flip. Updates history state and surfaces content.\n\t * @param {!string} path Path containing the querystring part.\n\t * @param {!Screen} nextScreen\n\t * @param {boolean=} opt_replaceHistory Replaces browser history.\n\t */\n\tprepareNavigateHistory_(path, nextScreen, opt_replaceHistory) {\n\t\tlet title = nextScreen.getTitle();\n\t\tif (!isString(title)) {\n\t\t\ttitle = this.getDefaultTitle();\n\t\t}\n\t\tlet redirectPath = nextScreen.beforeUpdateHistoryPath(path);\n\t\tconst historyState = {\n\t\t\tform: isDefAndNotNull(globals.capturedFormElement),\n\t\t\tpath,\n\t\t\tredirectPath,\n\t\t\tscrollLeft: 0,\n\t\t\tscrollTop: 0,\n\t\t\tsenna: true\n\t\t};\n\t\tif (opt_replaceHistory) {\n\t\t\thistoryState.scrollTop = this.popstateScrollTop;\n\t\t\thistoryState.scrollLeft = this.popstateScrollLeft;\n\t\t}\n\t\tconst hash = new Uri(path).getHash();\n\t\tredirectPath = this.maybeRestoreRedirectPathHash_(path, redirectPath, hash);\n\t\tthis.updateHistory_(title, redirectPath, nextScreen.beforeUpdateHistoryState(historyState), opt_replaceHistory);\n\t\tthis.redirectPath = redirectPath;\n\t}\n\n\t/**\n\t * Prepares screen flip. Updates history state and surfaces content.\n\t * @param {!Screen} nextScreen\n\t * @param {!Object} surfaces Map of surfaces to flip keyed by surface id.\n\t * @param {!Object} params Params extracted from the current path.\n\t */\n\tprepareNavigateSurfaces_(nextScreen, surfaces, params) {\n\t\tObject.keys(surfaces).forEach((id) => {\n\t\t\tvar surfaceContent = nextScreen.getSurfaceContent(id, params);\n\t\t\tsurfaces[id].addContent(nextScreen.getId(), surfaceContent);\n\t\t\tconsole.log('Screen [' + nextScreen.getId() + '] add content to surface ' +\n\t\t\t\t'[' + surfaces[id] + '] [' + (isDefAndNotNull(surfaceContent) ? '...' : 'empty') + ']');\n\t\t});\n\t}\n\n\t/**\n\t * Reloads the page by performing `window.location.reload()`.\n\t */\n\treloadPage() {\n\t\tglobals.window.location.reload();\n\t}\n\n\t/**\n\t * Removes route instance from app routes.\n\t * @param {Route} route\n\t * @return {boolean} True if an element was removed.\n\t */\n\tremoveRoute(route) {\n\t\treturn array.remove(this.routes, route);\n\t}\n\n\t/**\n\t * Removes a screen.\n\t * @param {!string} path Path containing the querystring part.\n\t */\n\tremoveScreen(path) {\n\t\tvar screen = this.screens[path];\n\t\tif (screen) {\n\t\t\tObject.keys(this.surfaces).forEach((surfaceId) => this.surfaces[surfaceId].remove(screen.getId()));\n\t\t\tscreen.dispose();\n\t\t\tdelete this.screens[path];\n\t\t}\n\t}\n\n\t/**\n\t * Saves given scroll position into history state.\n\t * @param {!number} scrollTop Number containing the top scroll position to be saved.\n\t * @param {!number} scrollLeft Number containing the left scroll position to be saved.\n\t */\n\tsaveHistoryCurrentPageScrollPosition_(scrollTop, scrollLeft) {\n\t\tvar state = globals.window.history.state;\n\t\tif (state && state.senna) {\n\t\t\t[state.scrollTop, state.scrollLeft] = [scrollTop, scrollLeft];\n\t\t\tglobals.window.history.replaceState(state, null, null);\n\t\t}\n\t}\n\n\t/**\n\t * Sets allow prevent navigate.\n\t * @param {boolean} allowPreventNavigate\n\t */\n\tsetAllowPreventNavigate(allowPreventNavigate) {\n\t\tthis.allowPreventNavigate = allowPreventNavigate;\n\t}\n\n\t/**\n\t * Sets link base path.\n\t * @param {!string} path\n\t */\n\tsetBasePath(basePath) {\n\t\tthis.basePath = utils.removePathTrailingSlash(basePath);\n\t}\n\n\t/**\n\t * Sets the default page title.\n\t * @param {string} defaultTitle\n\t */\n\tsetDefaultTitle(defaultTitle) {\n\t\tthis.defaultTitle = defaultTitle;\n\t}\n\n\t/**\n\t * Sets the form selector.\n\t * @param {!string} formSelector\n\t */\n\tsetFormSelector(formSelector) {\n\t\tthis.formSelector = formSelector;\n\t\tif (this.formEventHandler_) {\n\t\t\tthis.formEventHandler_.removeListener();\n\t\t}\n\t\tthis.formEventHandler_ = delegate(document, 'submit', this.formSelector, this.onDocSubmitDelegate_.bind(this), this.allowPreventNavigate);\n\t}\n\n\t/**\n\t * Sets if route matching should ignore query string from the route path.\n\t * @param {boolean} ignoreQueryStringFromRoutePath\n\t */\n\tsetIgnoreQueryStringFromRoutePath(ignoreQueryStringFromRoutePath) {\n\t\tthis.ignoreQueryStringFromRoutePath = ignoreQueryStringFromRoutePath;\n\t}\n\n\t/**\n\t * Sets the link selector.\n\t * @param {!string} linkSelector\n\t */\n\tsetLinkSelector(linkSelector) {\n\t\tthis.linkSelector = linkSelector;\n\t\tif (this.linkEventHandler_) {\n\t\t\tthis.linkEventHandler_.removeListener();\n\t\t}\n\t\tthis.linkEventHandler_ = delegate(document, 'click', this.linkSelector, this.onDocClickDelegate_.bind(this), this.allowPreventNavigate);\n\t}\n\n\t/**\n\t * Sets the loading css class.\n\t * @param {!string} loadingCssClass\n\t */\n\tsetLoadingCssClass(loadingCssClass) {\n\t\tthis.loadingCssClass = loadingCssClass;\n\t}\n\n\t/**\n\t * Sets the update scroll position value.\n\t * @param {boolean} updateScrollPosition\n\t */\n\tsetUpdateScrollPosition(updateScrollPosition) {\n\t\tthis.updateScrollPosition = updateScrollPosition;\n\t}\n\n\t/**\n\t * Cancels pending navigate with <code>Cancel pending navigation</code> error.\n\t * @protected\n\t */\n\tstopPendingNavigate_() {\n\t\tif (this.pendingNavigate) {\n\t\t\tthis.pendingNavigate.cancel('Cancel pending navigation');\n\t\t\tthis.pendingNavigate = null;\n\t\t}\n\t}\n\n\t/**\n\t * Sync document scroll position twice, the first one synchronous and then\n\t * one inside <code>async.nextTick</code>. Relevant to browsers that fires\n\t * scroll restoration asynchronously after popstate.\n\t * @protected\n\t * @return {?CancellablePromise=}\n\t */\n\tsyncScrollPositionSyncThenAsync_() {\n\t\tvar state = globals.window.history.state;\n\t\tif (!state) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar scrollTop = state.scrollTop;\n\t\tvar scrollLeft = state.scrollLeft;\n\n\t\tvar sync = () => {\n\t\t\tif (this.updateScrollPosition) {\n\t\t\t\tglobals.window.scrollTo(scrollLeft, scrollTop);\n\t\t\t}\n\t\t};\n\n\t\treturn new CancellablePromise((resolve) => sync() & async.nextTick(() => sync() & resolve()));\n\t}\n\n\t/**\n\t * Updates or replace browser history.\n\t * @param {?string} title Document title.\n\t * @param {!string} path Path containing the querystring part.\n\t * @param {!object} state\n\t * @param {boolean=} opt_replaceHistory Replaces browser history.\n\t * @protected\n\t */\n\tupdateHistory_(title, path, state, opt_replaceHistory) {\n\t\tif (opt_replaceHistory) {\n\t\t\tglobals.window.history.replaceState(state, title, path);\n\t\t} else {\n\t\t\tglobals.window.history.pushState(state, title, path);\n\t\t}\n\n\t\tlet titleNode = globals.document.querySelector('title');\n\t\tif (titleNode) {\n\t\t\ttitleNode.innerHTML = title;\n\t\t} else {\n\t\t\tglobals.document.title = title;\n\t\t}\n\t}\n\n}\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/App.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metal = require('metal');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * EventHandle utility. Holds information about an event subscription, and\n * allows removing them easily.\n * EventHandle is a Disposable, but it's important to note that the\n * EventEmitter that created it is not the one responsible for disposing it.\n * That responsibility is for the code that holds a reference to it.\n * @param {!EventEmitter} emitter Emitter the event was subscribed to.\n * @param {string} event The name of the event that was subscribed to.\n * @param {!Function} listener The listener subscribed to the event.\n * @constructor\n * @extends {Disposable}\n */\nvar EventHandle = function (_Disposable) {\n\t_inherits(EventHandle, _Disposable);\n\n\tfunction EventHandle(emitter, event, listener) {\n\t\t_classCallCheck(this, EventHandle);\n\n\t\t/**\n   * The EventEmitter instance that the event was subscribed to.\n   * @type {EventEmitter}\n   * @protected\n   */\n\t\tvar _this = _possibleConstructorReturn(this, (EventHandle.__proto__ || Object.getPrototypeOf(EventHandle)).call(this));\n\n\t\t_this.emitter_ = emitter;\n\n\t\t/**\n   * The name of the event that was subscribed to.\n   * @type {string}\n   * @protected\n   */\n\t\t_this.event_ = event;\n\n\t\t/**\n   * The listener subscribed to the event.\n   * @type {Function}\n   * @protected\n   */\n\t\t_this.listener_ = listener;\n\t\treturn _this;\n\t}\n\n\t/**\n  * Disposes of this instance's object references.\n  * @override\n  */\n\n\n\t_createClass(EventHandle, [{\n\t\tkey: 'disposeInternal',\n\t\tvalue: function disposeInternal() {\n\t\t\tthis.removeListener();\n\t\t\tthis.emitter_ = null;\n\t\t\tthis.listener_ = null;\n\t\t}\n\n\t\t/**\n   * Removes the listener subscription from the emitter.\n   */\n\n\t}, {\n\t\tkey: 'removeListener',\n\t\tvalue: function removeListener() {\n\t\t\tif (!this.emitter_.isDisposed()) {\n\t\t\t\tthis.emitter_.removeListener(this.event_, this.listener_);\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn EventHandle;\n}(_metal.Disposable);\n\nexports.default = EventHandle;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-events/lib/EventHandle.js\n// module id = 14\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metalEvents = require('metal-events');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * This is a special EventHandle, that is responsible for dom events, instead\n * of EventEmitter events.\n * @extends {EventHandle}\n */\nvar DomEventHandle = function (_EventHandle) {\n\t_inherits(DomEventHandle, _EventHandle);\n\n\t/**\n  * The constructor for `DomEventHandle`.\n  * @param {!EventEmitter} emitter Emitter the event was subscribed to.\n  * @param {string} event The name of the event that was subscribed to.\n  * @param {!Function} listener The listener subscribed to the event.\n  * @param {boolean} opt_capture Flag indicating if listener should be triggered\n  *   during capture phase, instead of during the bubbling phase. Defaults to false.\n  * @constructor\n  */\n\tfunction DomEventHandle(emitter, event, listener, opt_capture) {\n\t\t_classCallCheck(this, DomEventHandle);\n\n\t\tvar _this = _possibleConstructorReturn(this, (DomEventHandle.__proto__ || Object.getPrototypeOf(DomEventHandle)).call(this, emitter, event, listener));\n\n\t\t_this.capture_ = opt_capture;\n\t\treturn _this;\n\t}\n\n\t/**\n  * @inheritDoc\n  */\n\n\n\t_createClass(DomEventHandle, [{\n\t\tkey: 'removeListener',\n\t\tvalue: function removeListener() {\n\t\t\tthis.emitter_.removeEventListener(this.event_, this.listener_, this.capture_);\n\t\t}\n\t}]);\n\n\treturn DomEventHandle;\n}(_metalEvents.EventHandle);\n\nexports.default = DomEventHandle;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/DomEventHandle.js\n// module id = 15\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dom = require('./dom');\n\nvar _metal = require('metal');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Class with static methods responsible for doing browser feature checks.\n */\nvar features = function () {\n\tfunction features() {\n\t\t_classCallCheck(this, features);\n\t}\n\n\t_createClass(features, null, [{\n\t\tkey: 'checkAnimationEventName',\n\n\t\t/**\n   * Some browsers still supports prefixed animation events. This method can\n   * be used to retrieve the current browser event name for both, animation\n   * and transition.\n   * @return {object}\n   */\n\t\tvalue: function checkAnimationEventName() {\n\t\t\tif (features.animationEventName_ === undefined) {\n\t\t\t\tfeatures.animationEventName_ = {\n\t\t\t\t\tanimation: features.checkAnimationEventName_('animation'),\n\t\t\t\t\ttransition: features.checkAnimationEventName_('transition')\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn features.animationEventName_;\n\t\t}\n\n\t\t/**\n   * @protected\n   * @param {string} type Type to test: animation, transition.\n   * @return {string} Browser event name.\n   */\n\n\t}, {\n\t\tkey: 'checkAnimationEventName_',\n\t\tvalue: function checkAnimationEventName_(type) {\n\t\t\tvar prefixes = ['Webkit', 'MS', 'O', ''];\n\t\t\tvar typeTitleCase = _metal.string.replaceInterval(type, 0, 1, type.substring(0, 1).toUpperCase());\n\t\t\tvar suffixes = [typeTitleCase + 'End', typeTitleCase + 'End', typeTitleCase + 'End', type + 'end'];\n\t\t\tfor (var i = 0; i < prefixes.length; i++) {\n\t\t\t\tif (features.animationElement_.style[prefixes[i] + typeTitleCase] !== undefined) {\n\t\t\t\t\treturn prefixes[i].toLowerCase() + suffixes[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn type + 'end';\n\t\t}\n\n\t\t/**\n   * Some browsers (like IE9) change the order of element attributes, when html\n   * is rendered. This method can be used to check if this behavior happens on\n   * the current browser.\n   * @return {boolean}\n   */\n\n\t}, {\n\t\tkey: 'checkAttrOrderChange',\n\t\tvalue: function checkAttrOrderChange() {\n\t\t\tif (features.attrOrderChange_ === undefined) {\n\t\t\t\tvar originalContent = '<div data-component=\"\" data-ref=\"\"></div>';\n\t\t\t\tvar element = document.createElement('div');\n\t\t\t\t(0, _dom.append)(element, originalContent);\n\t\t\t\tfeatures.attrOrderChange_ = originalContent !== element.innerHTML;\n\t\t\t}\n\t\t\treturn features.attrOrderChange_;\n\t\t}\n\t}]);\n\n\treturn features;\n}();\n\nfeatures.animationElement_ = document.createElement('div');\nfeatures.animationEventName_ = undefined;\nfeatures.attrOrderChange_ = undefined;\n\nexports.default = features;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/features.js\n// module id = 16\n// module chunks = 0","'use strict';\n\nimport globals from '../globals/globals';\nimport { Disposable, isDefAndNotNull } from 'metal';\nimport { append, removeChildren, exitDocument } from 'metal-dom';\nimport CancellablePromise from 'metal-promise';\n\nclass Surface extends Disposable {\n\n\t/**\n\t * Surface class representing the references to elements on the page that\n\t * can potentially be updated by <code>App</code>.\n\t * @param {string} id\n\t * @constructor\n\t */\n\tconstructor(id) {\n\t\tsuper();\n\n\t\tif (!id) {\n\t\t\tthrow new Error('Surface element id not specified. A surface element requires a valid id.');\n\t\t}\n\n\t\t/**\n\t\t * Holds the active child element.\n\t\t * @type {Element}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis.activeChild = null;\n\n\t\t/**\n\t\t * Holds the default child element.\n\t\t * @type {Element}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis.defaultChild = null;\n\n\t\t/**\n\t\t * Holds the element with the specified surface id, if not found creates a\n\t\t * new element with the specified id.\n\t\t * @type {Element}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis.element = null;\n\n\t\t/**\n\t\t * Holds the surface id.\n\t\t * @type {String}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis.id = id;\n\n\t\t/**\n\t\t * Holds the default transitionFn for the surfaces.\n\t\t * @param {?Element=} from The visible surface element.\n\t\t * @param {?Element=} to The surface element to be flipped.\n\t\t * @default null\n\t\t */\n\t\tthis.transitionFn = null;\n\n\t\tthis.defaultChild = this.getChild(Surface.DEFAULT);\n\t\tthis.maybeWrapContentAsDefault_();\n\t\tthis.activeChild = this.defaultChild;\n\t}\n\n\t/**\n\t * Adds screen content to a surface. If content hasn't been passed, see if\n\t * an element exists in the DOM that matches the id. By convention, the\n\t * element should already be nested in the right element and should have an\n\t * id that is a concatentation of the surface id + '-' + the screen id.\n\t * @param {!string} screenId The screen id the content belongs too.\n\t * @param {?string|Element=} opt_content The string content or element to\n\t *     add be added as surface content.\n\t * @return {Element}\n\t */\n\taddContent(screenId, opt_content) {\n\t\tvar child = this.defaultChild;\n\n\t\tif (isDefAndNotNull(opt_content)) {\n\t\t\tchild = this.getChild(screenId);\n\t\t\tif (child) {\n\t\t\t\tremoveChildren(child);\n\t\t\t} else {\n\t\t\t\tchild = this.createChild(screenId);\n\t\t\t\tthis.transition(child, null);\n\t\t\t}\n\t\t\tappend(child, opt_content);\n\t\t}\n\n\t\tvar element = this.getElement();\n\n\t\tif (element && child) {\n\t\t\tappend(element, child);\n\t\t}\n\n\t\treturn child;\n\t}\n\n\t/**\n\t * Creates child node for the surface.\n\t * @param {!string} screenId The screen id.\n\t * @return {Element}\n\t */\n\tcreateChild(screenId) {\n\t\tvar child = globals.document.createElement('div');\n\t\tchild.setAttribute('id', this.makeId_(screenId));\n\t\treturn child;\n\t}\n\n\t/**\n\t * Gets child node of the surface.\n\t * @param {!string} screenId The screen id.\n\t * @return {?Element}\n\t */\n\tgetChild(screenId) {\n\t\treturn globals.document.getElementById(this.makeId_(screenId));\n\t}\n\n\t/**\n\t * Gets the surface element from element, and sets it to the el property of\n\t * the current instance.\n\t * <code>this.element</code> will be used.\n\t * @return {?Element} The current surface element.\n\t */\n\tgetElement() {\n\t\tif (this.element) {\n\t\t\treturn this.element;\n\t\t}\n\t\tthis.element = globals.document.getElementById(this.id);\n\t\treturn this.element;\n\t}\n\n\t/**\n\t * Gets the surface id.\n\t * @return {String}\n\t */\n\tgetId() {\n\t\treturn this.id;\n\t}\n\n\t/**\n\t * Gets the surface transition function.\n\t * See <code>Surface.defaultTransition</code>.\n\t * @return {?Function=} The transition function.\n\t */\n\tgetTransitionFn() {\n\t\treturn this.transitionFn;\n\t}\n\n\t/**\n\t * Makes the id for the element that holds content for a screen.\n\t * @param {!string} screenId The screen id the content belongs too.\n\t * @return {String}\n\t * @private\n\t */\n\tmakeId_(screenId) {\n\t\treturn this.id + '-' + screenId;\n\t}\n\n\t/**\n\t * If default child is missing, wraps surface content as default child. If\n\t * surface have static content, make sure to place a\n\t * <code>surfaceId-default</code> element inside surface, only contents\n\t * inside the default child will be replaced by navigation.\n\t */\n\tmaybeWrapContentAsDefault_() {\n\t\tvar element = this.getElement();\n\t\tif (element && !this.defaultChild) {\n\t\t\tvar fragment = globals.document.createDocumentFragment();\n\t\t\twhile (element.firstChild) {\n\t\t\t\tfragment.appendChild(element.firstChild);\n\t\t\t}\n\t\t\tthis.defaultChild = this.addContent(Surface.DEFAULT, fragment);\n\t\t\tthis.transition(null, this.defaultChild);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the surface id.\n\t * @param {!string} id\n\t */\n\tsetId(id) {\n\t\tthis.id = id;\n\t}\n\n\t/**\n\t * Sets the surface transition function.\n\t * See <code>Surface.defaultTransition</code>.\n\t * @param {?Function=} transitionFn The transition function.\n\t */\n\tsetTransitionFn(transitionFn) {\n\t\tthis.transitionFn = transitionFn;\n\t}\n\n\t/**\n\t * Shows screen content from a surface.\n\t * @param {String} screenId The screen id to show.\n\t * @return {CancellablePromise} Pauses the navigation until it is resolved.\n\t */\n\tshow(screenId) {\n\t\tvar from = this.activeChild;\n\t\tvar to = this.getChild(screenId);\n\t\tif (!to) {\n\t\t\tto = this.defaultChild;\n\t\t}\n\t\tthis.activeChild = to;\n\t\treturn this.transition(from, to).thenAlways(() => {\n\t\t\tif (from && from !== to) {\n\t\t\t\texitDocument(from);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Removes screen content from a surface.\n\t * @param {!string} screenId The screen id to remove.\n\t */\n\tremove(screenId) {\n\t\tvar child = this.getChild(screenId);\n\t\tif (child) {\n\t\t\texitDocument(child);\n\t\t}\n\t}\n\n\t/**\n\t * @return {String}\n\t */\n\ttoString() {\n\t\treturn this.id;\n\t}\n\n\t/**\n\t * Invokes the transition function specified on <code>transition</code> attribute.\n\t * @param {?Element=} from\n\t * @param {?Element=} to\n\t * @return {?CancellablePromise=} This can return a promise, which will pause the\n\t *     navigation until it is resolved.\n\t */\n\ttransition(from, to) {\n\t\tvar transitionFn = this.transitionFn || Surface.defaultTransition;\n\t\treturn CancellablePromise.resolve(transitionFn.call(this, from, to));\n\t}\n\n}\n\n/**\n   * Holds the default surface name. Elements on the page must contain a child\n   * element containing the default content, this element must be as following:\n   *\n   * Example:\n   * <code>\n   *   <div id=\"mysurface\">\n   *     <div id=\"mysurface-default\">Default surface content.</div>\n   *   </div>\n   * </code>\n   *\n   * The default content is relevant for the initial page content. When a\n   * screen doesn't provide content for the surface the default content is\n   * restored into the page.\n   *\n   * @type {!String}\n   * @default default\n   * @static\n   */\nSurface.DEFAULT = 'default';\n\n/**\n * Holds the default transition for all surfaces. Each surface could have its\n * own transition.\n *\n * Example:\n *\n * <code>\n * surface.setTransitionFn(function(from, to) {\n *   if (from) {\n *     from.style.display = 'none';\n *     from.classList.remove('flipped');\n *   }\n *   if (to) {\n *     to.style.display = 'block';\n *     to.classList.add('flipped');\n *   }\n *   return null;\n * });\n * </code>\n *\n * @param {?Element=} from The visible surface element.\n * @param {?Element=} to The surface element to be flipped.\n * @static\n */\nSurface.defaultTransition = function(from, to) {\n\tif (from) {\n\t\tfrom.style.display = 'none';\n\t\tfrom.classList.remove('flipped');\n\t}\n\tif (to) {\n\t\tto.style.display = 'block';\n\t\tto.classList.add('flipped');\n\t}\n};\n\nexport default Surface;\n\n\n\n// WEBPACK FOOTER //\n// ./src/surface/Surface.js","'use strict';\n\nimport { getUid } from 'metal';\nimport { buildFragment, exitDocument, globalEval, globalEvalStyles, match } from 'metal-dom';\nimport CancellablePromise from 'metal-promise';\nimport globals from '../globals/globals';\nimport RequestScreen from './RequestScreen';\nimport Surface from '../surface/Surface';\nimport UA from 'metal-useragent';\nimport Uri from 'metal-uri';\nimport utils from '../utils/utils';\n\nclass HtmlScreen extends RequestScreen {\n\n\t/**\n\t * Screen class that perform a request and extracts surface contents from\n\t * the response content.\n\t * @constructor\n\t * @extends {RequestScreen}\n\t */\n\tconstructor() {\n\t\tsuper();\n\n\t\t/**\n\t\t * Holds the title selector. Relevant to extract the <code><title></code>\n\t\t * element from request fragments to use as the screen title.\n\t\t * @type {!string}\n\t\t * @default title\n\t\t * @protected\n\t\t */\n\t\tthis.titleSelector = 'title';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tactivate() {\n\t\tsuper.activate();\n\t\tthis.releaseVirtualDocument();\n\t\tthis.pendingStyles = null;\n\t}\n\n\t/**\n\t * Allocates virtual document for content. After allocated virtual document\n\t * can be accessed by <code>this.virtualDocument</code>.\n\t * @param {!string} htmlString\n\t */\n\tallocateVirtualDocumentForContent(htmlString) {\n\t\tif (!this.virtualDocument) {\n\t\t\tthis.virtualDocument = globals.document.createElement('html');\n\t\t}\n\n\t\tthis.copyNodeAttributesFromContent_(htmlString, this.virtualDocument);\n\n\t\tthis.virtualDocument.innerHTML = htmlString;\n\t}\n\n\t/**\n\t * Customizes logic to append styles into document. Relevant to when\n\t * tracking a style by id make sure to re-positions the new style in the\n\t * same dom order.\n\t * @param {Element} newStyle\n\t */\n\tappendStyleIntoDocument_(newStyle) {\n\t\tvar isTemporaryStyle = match(newStyle, HtmlScreen.selectors.stylesTemporary);\n\t\tif (isTemporaryStyle) {\n\t\t\tthis.pendingStyles.push(newStyle);\n\t\t}\n\t\tif (newStyle.id) {\n\t\t\tvar styleInDoc = globals.document.getElementById(newStyle.id);\n\t\t\tif (styleInDoc) {\n\t\t\t\tstyleInDoc.parentNode.insertBefore(newStyle, styleInDoc.nextSibling);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tglobals.document.head.appendChild(newStyle);\n\t}\n\n\t/**\n\t * If body is used as surface forces the requested documents to have same id\n\t * of the initial page.\n\t */\n\tassertSameBodyIdInVirtualDocument() {\n\t\tvar bodySurface = this.virtualDocument.querySelector('body');\n\t\tif (!globals.document.body.id) {\n\t\t\tglobals.document.body.id = 'senna_surface_' + getUid();\n\t\t}\n\t\tif (bodySurface) {\n\t\t\tbodySurface.id = globals.document.body.id;\n\t\t}\n\t}\n\n\t/**\n\t * Copies attributes from the <html> tag of content to the given node.\n\t */\n\tcopyNodeAttributesFromContent_(content, node) {\n\t\tcontent = content.replace(/[<]\\s*html/ig, '<senna');\n\t\tcontent = content.replace(/\\/html\\s*\\>/ig, '/senna>');\n\t\tnode.innerHTML = content;\n\t\tvar placeholder = node.querySelector('senna');\n\t\tif (placeholder) {\n\t\t\tutils.clearNodeAttributes(node);\n\t\t\tutils.copyNodeAttributes(placeholder, node);\n\t\t}\n\t}\n\n\t/**\n\t * @Override\n\t */\n\tdisposeInternal() {\n\t\tthis.disposePendingStyles();\n\t\tsuper.disposeInternal();\n\t}\n\n\t/**\n\t * Disposes pending styles if screen get disposed prior to its loading.\n\t */\n\tdisposePendingStyles() {\n\t\tif (this.pendingStyles) {\n\t\t\tthis.pendingStyles.forEach((style) => exitDocument(style));\n\t\t}\n\t}\n\n\t/**\n\t * @Override\n\t */\n\tevaluateScripts(surfaces) {\n\t\tvar evaluateTrackedScripts = this.evaluateTrackedResources_(\n\t\t\tglobalEval.runScriptsInElement, HtmlScreen.selectors.scripts,\n\t\t\tHtmlScreen.selectors.scriptsTemporary, HtmlScreen.selectors.scriptsPermanent);\n\n\t\treturn evaluateTrackedScripts.then(() => super.evaluateScripts(surfaces));\n\t}\n\n\t/**\n\t * @Override\n\t */\n\tevaluateStyles(surfaces) {\n\t\tthis.pendingStyles = [];\n\t\tvar evaluateTrackedStyles = this.evaluateTrackedResources_(\n\t\t\tglobalEvalStyles.runStylesInElement, HtmlScreen.selectors.styles,\n\t\t\tHtmlScreen.selectors.stylesTemporary, HtmlScreen.selectors.stylesPermanent,\n\t\t\tthis.appendStyleIntoDocument_.bind(this));\n\n\t\treturn evaluateTrackedStyles.then(() => super.evaluateStyles(surfaces));\n\t}\n\n\t/**\n\t * Evaluates tracked resources inside incoming fragment and remove existing\n\t * temporary resources.\n\t * @param {?function()} appendFn Function to append the node into document.\n\t * @param {!string} selector Selector used to find resources to track.\n\t * @param {!string} selectorTemporary Selector used to find temporary\n\t *     resources to track.\n\t * @param {!string} selectorPermanent Selector used to find permanent\n\t *     resources to track.\n\t * @param {!function} opt_appendResourceFn Optional function used to\n\t *     evaluate fragment containing resources.\n\t * @return {CancellablePromise} Deferred that waits resources evaluation to\n\t *     complete.\n\t * @private\n\t */\n\tevaluateTrackedResources_(evaluatorFn, selector, selectorTemporary, selectorPermanent, opt_appendResourceFn) {\n\t\tvar tracked = this.virtualQuerySelectorAll_(selector);\n\t\tvar temporariesInDoc = this.querySelectorAll_(selectorTemporary);\n\t\tvar permanentsInDoc = this.querySelectorAll_(selectorPermanent);\n\n\t\t// Adds permanent resources in document to cache.\n\t\tpermanentsInDoc.forEach((resource) => {\n\t\t\tvar resourceKey = this.getResourceKey_(resource);\n\t\t\tif (resourceKey) {\n\t\t\t\tHtmlScreen.permanentResourcesInDoc[resourceKey] = true;\n\t\t\t}\n\t\t});\n\n\t\tvar frag = buildFragment();\n\t\ttracked.forEach((resource) => {\n\t\t\tvar resourceKey = this.getResourceKey_(resource);\n\t\t\t// Do not load permanent resources if already in document.\n\t\t\tif (!HtmlScreen.permanentResourcesInDoc[resourceKey]) {\n\t\t\t\tfrag.appendChild(resource);\n\t\t\t}\n\t\t\t// If resource has key and is permanent add to cache.\n\t\t\tif (resourceKey && match(resource, selectorPermanent)) {\n\t\t\t\tHtmlScreen.permanentResourcesInDoc[resourceKey] = true;\n\t\t\t}\n\t\t});\n\n\t\treturn new CancellablePromise((resolve) => {\n\t\t\tevaluatorFn(frag, () => {\n\t\t\t\ttemporariesInDoc.forEach((resource) => exitDocument(resource));\n\t\t\t\tresolve();\n\t\t\t}, opt_appendResourceFn);\n\t\t});\n\t}\n\n\t/**\n\t * @Override\n\t */\n\tflip(surfaces) {\n\t\treturn super.flip(surfaces).then(() => {\n\t\t\tutils.clearNodeAttributes(document.documentElement);\n\t\t\tutils.copyNodeAttributes(this.virtualDocument, document.documentElement);\n\t\t});\n\t}\n\n\t/**\n\t * Extracts a key to identify the resource based on its attributes.\n\t * @param {Element} resource\n\t * @return {string} Extracted key based on resource attributes in order of\n\t *     preference: id, href, src.\n\t */\n\tgetResourceKey_(resource) {\n\t\treturn resource.id || resource.href || resource.src || '';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetSurfaceContent(surfaceId) {\n\t\tvar surface = this.virtualDocument.querySelector('#' + surfaceId);\n\t\tif (surface) {\n\t\t\tvar defaultChild = surface.querySelector('#' + surfaceId + '-' + Surface.DEFAULT);\n\t\t\tif (defaultChild) {\n\t\t\t\treturn defaultChild.innerHTML;\n\t\t\t}\n\t\t\treturn surface.innerHTML; // If default content not found, use surface content\n\t\t}\n\t}\n\n\t/**\n\t * Gets the title selector.\n\t * @return {!string}\n\t */\n\tgetTitleSelector() {\n\t\treturn this.titleSelector;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tload(path) {\n\t\treturn super.load(path)\n\t\t\t.then(content => {\n\t\t\t\tthis.allocateVirtualDocumentForContent(content);\n\t\t\t\tthis.resolveTitleFromVirtualDocument();\n\t\t\t\tthis.assertSameBodyIdInVirtualDocument();\n\t\t\t\tif (UA.isIe) {\n\t\t\t\t\tthis.makeTemporaryStylesHrefsUnique_();\n\t\t\t\t}\n\t\t\t\treturn content;\n\t\t\t});\n\t}\n\n\t/**\n\t * Queries temporary styles from virtual document, and makes them unique.\n\t * This is necessary for caching and load event firing issues specific to\n\t * IE11. https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7940171/\n\t */\n\tmakeTemporaryStylesHrefsUnique_() {\n\t\tvar temporariesInDoc = this.virtualQuerySelectorAll_(HtmlScreen.selectors.stylesTemporary);\n\t\ttemporariesInDoc.forEach((style) => this.replaceStyleAndMakeUnique_(style));\n\t}\n\n\t/**\n\t * Creates a new element from given, copies attributes, mutates href to be\n\t * unique to prevent caching and more than one load/error event from firing.\n\t */\n\treplaceStyleAndMakeUnique_(style) {\n\t\tif (style.href) {\n\t\t\tvar newStyle = globals.document.createElement(style.tagName);\n\t\t\tstyle.href = new Uri(style.href).makeUnique().toString();\n\t\t\tutils.copyNodeAttributes(style, newStyle);\n\t\t\tstyle.parentNode.replaceChild(newStyle, style);\n\t\t\tstyle.disabled = true;\n\t\t}\n\t}\n\n\t/**\n\t * Queries elements from virtual document and returns an array of elements.\n\t * @param {!string} selector\n\t * @return {array.<Element>}\n\t */\n\tvirtualQuerySelectorAll_(selector) {\n\t\treturn Array.prototype.slice.call(this.virtualDocument.querySelectorAll(selector));\n\t}\n\n\t/**\n\t * Queries elements from document and returns an array of elements.\n\t * @param {!string} selector\n\t * @return {array.<Element>}\n\t */\n\tquerySelectorAll_(selector) {\n\t\treturn Array.prototype.slice.call(globals.document.querySelectorAll(selector));\n\t}\n\n\t/**\n\t * Releases virtual document allocated for content.\n\t */\n\treleaseVirtualDocument() {\n\t\tthis.virtualDocument = null;\n\t}\n\n\t/**\n\t * Resolves title from allocated virtual document.\n\t */\n\tresolveTitleFromVirtualDocument() {\n\t\tvar title = this.virtualDocument.querySelector(this.titleSelector);\n\t\tif (title) {\n\t\t\tthis.setTitle(title.textContent.trim());\n\t\t}\n\t}\n\n\t/**\n\t * Sets the title selector.\n\t * @param {!string} titleSelector\n\t */\n\tsetTitleSelector(titleSelector) {\n\t\tthis.titleSelector = titleSelector;\n\t}\n\n}\n\n/**\n * Helper selectors for tracking resources.\n * @type {object}\n * @protected\n * @static\n */\nHtmlScreen.selectors = {\n\tscripts: 'script[data-senna-track]',\n\tscriptsPermanent: 'script[data-senna-track=\"permanent\"]',\n\tscriptsTemporary: 'script[data-senna-track=\"temporary\"]',\n\tstyles: 'style[data-senna-track],link[data-senna-track]',\n\tstylesPermanent: 'style[data-senna-track=\"permanent\"],link[data-senna-track=\"permanent\"]',\n\tstylesTemporary: 'style[data-senna-track=\"temporary\"],link[data-senna-track=\"temporary\"]'\n};\n\n/**\n * Caches permanent resource keys.\n * @type {object}\n * @protected\n * @static\n */\nHtmlScreen.permanentResourcesInDoc = {};\n\nexport default HtmlScreen;\n\n\n\n// WEBPACK FOOTER //\n// ./src/screen/HtmlScreen.js","'use strict';\n\nimport { isDefAndNotNull } from 'metal';\nimport Ajax from 'metal-ajax';\nimport { MultiMap } from 'metal-structs';\nimport CancellablePromise from 'metal-promise';\nimport errors from '../errors/errors';\nimport utils from '../utils/utils';\nimport globals from '../globals/globals';\nimport Screen from './Screen';\nimport Uri from 'metal-uri';\nimport UA from 'metal-useragent';\n\nclass RequestScreen extends Screen {\n\n\t/**\n\t * Request screen abstract class to perform io operations on descendant\n\t * screens.\n\t * @constructor\n\t * @extends {Screen}\n\t */\n\tconstructor() {\n\t\tsuper();\n\n\t\t/**\n\t\t * @inheritDoc\n\t\t * @default true\n\t\t */\n\t\tthis.cacheable = true;\n\n\t\t/**\n\t\t * Holds default http headers to set on request.\n\t\t * @type {?Object=}\n\t\t * @default {\n\t\t *   'X-PJAX': 'true',\n\t\t *   'X-Requested-With': 'XMLHttpRequest'\n\t\t * }\n\t\t * @protected\n\t\t */\n\t\tthis.httpHeaders = {\n\t\t\t'X-PJAX': 'true',\n\t\t\t'X-Requested-With': 'XMLHttpRequest'\n\t\t};\n\n\t\t/**\n\t\t * Holds default http method to perform the request.\n\t\t * @type {!string}\n\t\t * @default RequestScreen.GET\n\t\t * @protected\n\t\t */\n\t\tthis.httpMethod = RequestScreen.GET;\n\n\t\t/**\n\t\t * Holds the XHR object responsible for the request.\n\t\t * @type {XMLHttpRequest}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis.request = null;\n\n\t\t/**\n\t\t * Holds the request timeout in milliseconds.\n\t\t * @type {!number}\n\t\t * @default 30000\n\t\t * @protected\n\t\t */\n\t\tthis.timeout = 30000;\n\t}\n\n\t/**\n\t * Asserts that response status code is valid.\n\t * @param {number} status\n\t * @protected\n\t */\n\tassertValidResponseStatusCode(status) {\n\t\tif (!this.isValidResponseStatusCode(status)) {\n\t\t\tvar error = new Error(errors.INVALID_STATUS);\n\t\t\terror.invalidStatus = true;\n\t\t\terror.statusCode = status;\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tbeforeUpdateHistoryPath(path) {\n\t\tvar redirectPath = this.getRequestPath();\n\t\tif (redirectPath && redirectPath !== path) {\n\t\t\treturn redirectPath;\n\t\t}\n\t\treturn path;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tbeforeUpdateHistoryState(state) {\n\t\t// If state is ours and navigate to post-without-redirect-get set\n\t\t// history state to null, that way Senna will reload the page on\n\t\t// popstate since it cannot predict post data.\n\t\tif (state.senna && state.form && state.redirectPath === state.path) {\n\t\t\treturn null;\n\t\t}\n\t\treturn state;\n\t}\n\n\t/**\n\t * Formats load path before invoking ajax call.\n\t * @param {string} path\n\t * @return {string} Formatted path;\n\t * @protected\n\t */\n\tformatLoadPath(path) {\n\t\tvar uri = new Uri(path);\n\n\t\turi.setHostname(globals.window.location.hostname);\n\t\turi.setProtocol(globals.window.location.protocol);\n\n\t\tif (globals.window.location.port) {\n\t\t\turi.setPort(globals.window.location.port);\n\t\t}\n\n\t\tif (UA.isIeOrEdge && this.httpMethod === RequestScreen.GET) {\n\t\t\treturn uri.makeUnique().toString();\n\t\t}\n\n\t\treturn uri.toString();\n\t}\n\n\t/**\n\t * Gets the http headers.\n\t * @return {?Object=}\n\t */\n\tgetHttpHeaders() {\n\t\treturn this.httpHeaders;\n\t}\n\n\t/**\n\t * Gets the http method.\n\t * @return {!string}\n\t */\n\tgetHttpMethod() {\n\t\treturn this.httpMethod;\n\t}\n\n\t/**\n\t * Gets request path.\n\t * @return {string=}\n\t */\n\tgetRequestPath() {\n\t\tvar request = this.getRequest();\n\t\tif (request) {\n\t\t\tvar requestPath = request.requestPath;\n\t\t\tvar responseUrl = this.maybeExtractResponseUrlFromRequest(request);\n\t\t\tif (responseUrl) {\n\t\t\t\trequestPath = responseUrl;\n\t\t\t}\n\t\t\tif (UA.isIeOrEdge && this.httpMethod === RequestScreen.GET) {\n\t\t\t\trequestPath = new Uri(requestPath).removeUnique().toString();\n\t\t\t}\n\t\t\treturn utils.getUrlPath(requestPath);\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Gets the request object.\n\t * @return {?Object}\n\t */\n\tgetRequest() {\n\t\treturn this.request;\n\t}\n\n\t/**\n\t * Gets the request timeout.\n\t * @return {!number}\n\t */\n\tgetTimeout() {\n\t\treturn this.timeout;\n\t}\n\n\t/**\n\t * Checks if response succeeded. Any status code 2xx or 3xx is considered\n\t * valid.\n\t * @param {number} statusCode\n\t */\n\tisValidResponseStatusCode(statusCode) {\n\t\treturn statusCode >= 200 && statusCode <= 399;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tload(path) {\n\t\tconst cache = this.getCache();\n\t\tif (isDefAndNotNull(cache)) {\n\t\t\treturn CancellablePromise.resolve(cache);\n\t\t}\n\t\tlet body = null;\n\t\tlet httpMethod = this.httpMethod;\n\t\tconst headers = new MultiMap();\n\t\tObject.keys(this.httpHeaders).forEach(header => headers.add(header, this.httpHeaders[header]));\n\t\tif (globals.capturedFormElement) {\n\t\t\tbody = new FormData(globals.capturedFormElement);\n\t\t\tthis.maybeAppendSubmitButtonValue_(body);\n\t\t\thttpMethod = RequestScreen.POST;\n\t\t\tif (UA.isIeOrEdge) {\n\t\t\t\theaders.add('If-None-Match', '\"0\"');\n\t\t\t}\n\t\t}\n\t\tconst requestPath = this.formatLoadPath(path);\n\t\treturn Ajax\n\t\t\t.request(requestPath, httpMethod, body, headers, null, this.timeout)\n\t\t\t.then(xhr => {\n\t\t\t\tthis.setRequest(xhr);\n\t\t\t\tthis.assertValidResponseStatusCode(xhr.status);\n\t\t\t\tif (httpMethod === RequestScreen.GET && this.isCacheable()) {\n\t\t\t\t\tthis.addCache(xhr.responseText);\n\t\t\t\t}\n\t\t\t\txhr.requestPath = requestPath;\n\t\t\t\treturn xhr.responseText;\n\t\t\t})\n\t\t\t.catch((reason) => {\n\t\t\t\tswitch (reason.message) {\n\t\t\t\t\tcase errors.REQUEST_TIMEOUT:\n\t\t\t\t\t\treason.timeout = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase errors.REQUEST_ERROR:\n\t\t\t\t\t\treason.requestError = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase errors.REQUEST_PREMATURE_TERMINATION:\n\t\t\t\t\t\treason.requestError = true;\n\t\t\t\t\t\treason.requestPrematureTermination = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthrow reason;\n\t\t\t});\n\t}\n\n\t/**\n\t * Adds aditional data to the body of the request in case a submit button\n\t * is captured during form submission.\n\t * @param {!FormData} body The FormData containing the request body.\n\t * @protected\n\t */\n\tmaybeAppendSubmitButtonValue_(body) {\n\t\tconst button = globals.capturedFormButtonElement;\n\t\tif (button && button.name) {\n\t\t\tbody.append(button.name, button.value);\n\t\t}\n\t}\n\n\t/**\n\t * The following method tries to extract the response url value by checking\n\t * the custom response header 'X-Request-URL' if proper value is not present\n\t * in XMLHttpRequest. The value of responseURL will be the final URL\n\t * obtained after any redirects. Internet Explorer, Edge and Safari <= 7\n\t * does not yet support the feature. For more information see:\n\t * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseURL\n\t * https://xhr.spec.whatwg.org/#the-responseurl-attribute\n\t * @param {XMLHttpRequest} request\n\t * @return {?string} Response url best match.\n\t */\n\tmaybeExtractResponseUrlFromRequest(request) {\n\t\tvar responseUrl = request.responseURL;\n\t\tif (responseUrl) {\n\t\t\treturn responseUrl;\n\t\t}\n\t\treturn request.getResponseHeader(RequestScreen.X_REQUEST_URL_HEADER);\n\t}\n\n\t/**\n\t * Sets the http headers.\n\t * @param {?Object=} httpHeaders\n\t */\n\tsetHttpHeaders(httpHeaders) {\n\t\tthis.httpHeaders = httpHeaders;\n\t}\n\n\t/**\n\t * Sets the http method.\n\t * @param {!string} httpMethod\n\t */\n\tsetHttpMethod(httpMethod) {\n\t\tthis.httpMethod = httpMethod.toLowerCase();\n\t}\n\n\t/**\n\t * Sets the request object.\n\t * @param {?Object} request\n\t */\n\tsetRequest(request) {\n\t\tthis.request = request;\n\t}\n\n\t/**\n\t * Sets the request timeout in milliseconds.\n\t * @param {!number} timeout\n\t */\n\tsetTimeout(timeout) {\n\t\tthis.timeout = timeout;\n\t}\n\n}\n\n/**\n * Holds value for method get.\n * @type {string}\n * @default 'get'\n * @static\n */\nRequestScreen.GET = 'get';\n\n/**\n * Holds value for method post.\n * @type {string}\n * @default 'post'\n * @static\n */\nRequestScreen.POST = 'post';\n\n/**\n * Fallback http header to retrieve response request url.\n * @type {string}\n * @default 'X-Request-URL'\n * @static\n */\nRequestScreen.X_REQUEST_URL_HEADER = 'X-Request-URL';\n\nexport default RequestScreen;\n\n\n\n// WEBPACK FOOTER //\n// ./src/screen/RequestScreen.js","'use strict';\n\n/**\n * Metal.js browser user agent detection. It's extremely recommended the usage\n * of feature checking over browser user agent sniffing. Unfortunately, in some\n * situations feature checking can be slow or even impossible, therefore use\n * this utility with caution.\n * @see <a href=\"http://www.useragentstring.com/\">User agent strings</a>.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UA = function () {\n\tfunction UA() {\n\t\t_classCallCheck(this, UA);\n\t}\n\n\t_createClass(UA, null, [{\n\t\tkey: 'getNativeUserAgent',\n\n\t\t/**\n   * Gets the native userAgent string from navigator if it exists. If\n   * navigator or navigator.userAgent string is missing, returns an empty\n   * string.\n   * @return {string}\n   * @private\n   * @static\n   */\n\t\tvalue: function getNativeUserAgent() {\n\t\t\tvar navigator = UA.globals.window.navigator;\n\t\t\tif (navigator) {\n\t\t\t\tvar userAgent = navigator.userAgent;\n\t\t\t\tif (userAgent) {\n\t\t\t\t\treturn userAgent;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '';\n\t\t}\n\n\t\t/**\n   * Gets the native platform string from navigator if it exists. If\n   * navigator or navigator.platform string is missing, returns an empty\n   * string.\n   * @return {string}\n   * @private\n   * @static\n   */\n\n\t}, {\n\t\tkey: 'getNativePlatform',\n\t\tvalue: function getNativePlatform() {\n\t\t\tvar navigator = UA.globals.window.navigator;\n\t\t\tif (navigator) {\n\t\t\t\tvar platform = navigator.platform;\n\t\t\t\tif (platform) {\n\t\t\t\t\treturn platform;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '';\n\t\t}\n\n\t\t/**\n   * Whether the platform contains the given string, ignoring case.\n   * @param {string} str\n   * @return {boolean}\n   * @private\n   * @static\n  */\n\n\t}, {\n\t\tkey: 'matchPlatform',\n\t\tvalue: function matchPlatform(str) {\n\t\t\treturn UA.platform.indexOf(str) !== -1;\n\t\t}\n\n\t\t/**\n   * Whether the user agent contains the given string, ignoring case.\n   * @param {string} str\n   * @return {boolean}\n   * @private\n   * @static\n  */\n\n\t}, {\n\t\tkey: 'matchUserAgent',\n\t\tvalue: function matchUserAgent(str) {\n\t\t\treturn UA.userAgent.indexOf(str) !== -1;\n\t\t}\n\n\t\t/**\n   * Tests the user agent.\n   * @param {string} userAgent The user agent string.\n   * @static\n   */\n\n\t}, {\n\t\tkey: 'testUserAgent',\n\t\tvalue: function testUserAgent() {\n\t\t\tvar userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t\t\tvar platform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n\t\t\t/**\n    * Holds the user agent value extracted from browser native user agent.\n    * @type {string}\n    * @static\n    */\n\t\t\tUA.userAgent = userAgent;\n\n\t\t\t/**\n    * Holds the platform value extracted from browser native platform.\n    * @type {string}\n    * @static\n    */\n\t\t\tUA.platform = platform;\n\n\t\t\t/**\n    * Whether the user's OS is Mac.\n    * @type {boolean}\n    * @static\n    */\n\t\t\tUA.isMac = UA.matchPlatform('Mac');\n\n\t\t\t/**\n    * Whether the user's OS is Win.\n    * @type {boolean}\n    * @static\n    */\n\t\t\tUA.isWin = UA.matchPlatform('Win');\n\n\t\t\t/**\n    * Whether the user's browser is Opera.\n    * @type {boolean}\n    * @static\n    */\n\t\t\tUA.isOpera = UA.matchUserAgent('Opera') || UA.matchUserAgent('OPR');\n\n\t\t\t/**\n    * Whether the user's browser is IE.\n    * @type {boolean}\n    * @static\n    */\n\t\t\tUA.isIe = UA.matchUserAgent('Trident') || UA.matchUserAgent('MSIE');\n\n\t\t\t/**\n    * Whether the user's browser is Edge.\n    * @type {boolean}\n    * @static\n    */\n\t\t\tUA.isEdge = UA.matchUserAgent('Edge');\n\n\t\t\t/**\n    * Whether the user's browser is IE or Edge.\n    * @type {boolean}\n    * @static\n    */\n\t\t\tUA.isIeOrEdge = UA.isIe || UA.isEdge;\n\n\t\t\t/**\n    * Whether the user's browser is Chrome.\n    * @type {boolean}\n    * @static\n    */\n\t\t\tUA.isChrome = (UA.matchUserAgent('Chrome') || UA.matchUserAgent('CriOS')) && !UA.isOpera && !UA.isEdge;\n\n\t\t\t/**\n    * Whether the user's browser is Safari.\n    * @type {boolean}\n    * @static\n    */\n\t\t\tUA.isSafari = UA.matchUserAgent('Safari') && !(UA.isChrome || UA.isOpera || UA.isEdge);\n\n\t\t\t/**\n    * Whether the user's browser is Firefox.\n    * @type {boolean}\n    * @static\n    */\n\t\t\tUA.isFirefox = UA.matchUserAgent('Firefox');\n\t\t}\n\t}]);\n\n\treturn UA;\n}();\n\n/**\n * Exposes global references.\n * @type {object}\n * @static\n */\n\n\nUA.globals = {\n\twindow: window\n};\n\nUA.testUserAgent(UA.getNativeUserAgent(), UA.getNativePlatform());\n\nexports.default = UA;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-useragent/lib/UA.js\n// module id = 20\n// module chunks = 0","'use strict';\n\nimport utils from './utils/utils';\nimport dataAttributeHandler from './app/dataAttributeHandler';\nimport App from './app/App';\nimport HtmlScreen from './screen/HtmlScreen';\nimport RequestScreen from './screen/RequestScreen';\nimport Route from './route/Route';\nimport Screen from './screen/Screen';\n\nexport default App;\nexport { dataAttributeHandler, utils, App, HtmlScreen, Route, RequestScreen, Screen };\n\n\n// WEBPACK FOOTER //\n// ./src/senna.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metal = require('metal');\n\nvar _parse = require('./parse');\n\nvar _parse2 = _interopRequireDefault(_parse);\n\nvar _metalStructs = require('metal-structs');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar parseFn_ = _parse2.default;\n\nvar Uri = function () {\n\n\t/**\n  * This class contains setters and getters for the parts of the URI.\n  * The following figure displays an example URIs and their component parts.\n  *\n  *                                  path\n  *\t                             \n  *\t  abc://example.com:123/path/data?key=value#fragid1\n  *\t                  \n  * protocol  hostname  port            search    hash\n  *          \n  *                host\n  *\n  * @param {*=} opt_uri Optional string URI to parse\n  * @constructor\n  */\n\tfunction Uri() {\n\t\tvar opt_uri = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n\t\t_classCallCheck(this, Uri);\n\n\t\tthis.url = Uri.parse(this.maybeAddProtocolAndHostname_(opt_uri));\n\t}\n\n\t/**\n  * Adds parameters to uri from a <code>MultiMap</code> as source.\n  * @param {MultiMap} multimap The <code>MultiMap</code> containing the\n  *   parameters.\n  * @protected\n  * @chainable\n  */\n\n\n\t_createClass(Uri, [{\n\t\tkey: 'addParametersFromMultiMap',\n\t\tvalue: function addParametersFromMultiMap(multimap) {\n\t\t\tvar _this = this;\n\n\t\t\tmultimap.names().forEach(function (name) {\n\t\t\t\tmultimap.getAll(name).forEach(function (value) {\n\t\t\t\t\t_this.addParameterValue(name, value);\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Adds the value of the named query parameters.\n   * @param {string} key The parameter to set.\n   * @param {*} value The new value. Will be explicitly casted to String.\n   * @chainable\n   */\n\n\t}, {\n\t\tkey: 'addParameterValue',\n\t\tvalue: function addParameterValue(name, value) {\n\t\t\tthis.ensureQueryInitialized_();\n\t\t\tif ((0, _metal.isDef)(value)) {\n\t\t\t\tvalue = String(value);\n\t\t\t}\n\t\t\tthis.query.add(name, value);\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Adds the values of the named query parameter.\n   * @param {string} key The parameter to set.\n   * @param {*} value The new value.\n   * @chainable\n   */\n\n\t}, {\n\t\tkey: 'addParameterValues',\n\t\tvalue: function addParameterValues(name, values) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvalues.forEach(function (value) {\n\t\t\t\treturn _this2.addParameterValue(name, value);\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Ensures query internal map is initialized and synced with initial value\n   * extracted from URI search part.\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'ensureQueryInitialized_',\n\t\tvalue: function ensureQueryInitialized_() {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (this.query) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.query = new _metalStructs.MultiMap();\n\t\t\tvar search = this.url.search;\n\t\t\tif (search) {\n\t\t\t\tsearch.substring(1).split('&').forEach(function (param) {\n\t\t\t\t\tvar _param$split = param.split('='),\n\t\t\t\t\t    _param$split2 = _slicedToArray(_param$split, 2),\n\t\t\t\t\t    key = _param$split2[0],\n\t\t\t\t\t    value = _param$split2[1];\n\n\t\t\t\t\tif ((0, _metal.isDef)(value)) {\n\t\t\t\t\t\tvalue = Uri.urlDecode(value);\n\t\t\t\t\t}\n\t\t\t\t\t_this3.addParameterValue(key, value);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Gets the hash part of uri.\n   * @return {string}\n   */\n\n\t}, {\n\t\tkey: 'getHash',\n\t\tvalue: function getHash() {\n\t\t\treturn this.url.hash || '';\n\t\t}\n\n\t\t/**\n   * Gets the host part of uri. E.g. <code>[hostname]:[port]</code>.\n   * @return {string}\n   */\n\n\t}, {\n\t\tkey: 'getHost',\n\t\tvalue: function getHost() {\n\t\t\tvar host = this.getHostname();\n\t\t\tif (host) {\n\t\t\t\tvar port = this.getPort();\n\t\t\t\tif (port && port !== '80') {\n\t\t\t\t\thost += ':' + port;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn host;\n\t\t}\n\n\t\t/**\n   * Gets the hostname part of uri without protocol and port.\n   * @return {string}\n   */\n\n\t}, {\n\t\tkey: 'getHostname',\n\t\tvalue: function getHostname() {\n\t\t\tvar hostname = this.url.hostname;\n\t\t\tif (hostname === Uri.HOSTNAME_PLACEHOLDER) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn hostname;\n\t\t}\n\n\t\t/**\n   * Gets the origin part of uri. E.g. <code>http://[hostname]:[port]</code>.\n   * @return {string}\n   */\n\n\t}, {\n\t\tkey: 'getOrigin',\n\t\tvalue: function getOrigin() {\n\t\t\tvar host = this.getHost();\n\t\t\tif (host) {\n\t\t\t\treturn this.getProtocol() + '//' + host;\n\t\t\t}\n\t\t\treturn '';\n\t\t}\n\n\t\t/**\n   * Returns the first value for a given parameter or undefined if the given\n   * parameter name does not appear in the query string.\n   * @param {string} paramName Unescaped parameter name.\n   * @return {string|undefined} The first value for a given parameter or\n   *   undefined if the given parameter name does not appear in the query\n   *   string.\n   */\n\n\t}, {\n\t\tkey: 'getParameterValue',\n\t\tvalue: function getParameterValue(name) {\n\t\t\tthis.ensureQueryInitialized_();\n\t\t\treturn this.query.get(name);\n\t\t}\n\n\t\t/**\n   * Returns the value<b>s</b> for a given parameter as a list of decoded\n   * query parameter values.\n   * @param {string} name The parameter to get values for.\n   * @return {!Array<?>} The values for a given parameter as a list of decoded\n   *   query parameter values.\n   */\n\n\t}, {\n\t\tkey: 'getParameterValues',\n\t\tvalue: function getParameterValues(name) {\n\t\t\tthis.ensureQueryInitialized_();\n\t\t\treturn this.query.getAll(name);\n\t\t}\n\n\t\t/**\n   * Returns the name<b>s</b> of the parameters.\n   * @return {!Array<string>} The names for the parameters as a list of\n   *   strings.\n   */\n\n\t}, {\n\t\tkey: 'getParameterNames',\n\t\tvalue: function getParameterNames() {\n\t\t\tthis.ensureQueryInitialized_();\n\t\t\treturn this.query.names();\n\t\t}\n\n\t\t/**\n   * Gets the function currently being used to parse URIs.\n   * @return {!function()}\n   */\n\n\t}, {\n\t\tkey: 'getPathname',\n\n\n\t\t/**\n   * Gets the pathname part of uri.\n   * @return {string}\n   */\n\t\tvalue: function getPathname() {\n\t\t\treturn this.url.pathname;\n\t\t}\n\n\t\t/**\n   * Gets the port number part of uri as string.\n   * @return {string}\n   */\n\n\t}, {\n\t\tkey: 'getPort',\n\t\tvalue: function getPort() {\n\t\t\treturn this.url.port;\n\t\t}\n\n\t\t/**\n   * Gets the protocol part of uri. E.g. <code>http:</code>.\n   * @return {string}\n   */\n\n\t}, {\n\t\tkey: 'getProtocol',\n\t\tvalue: function getProtocol() {\n\t\t\treturn this.url.protocol;\n\t\t}\n\n\t\t/**\n   * Gets the search part of uri. Search value is retrieved from query\n   * parameters.\n   * @return {string}\n   */\n\n\t}, {\n\t\tkey: 'getSearch',\n\t\tvalue: function getSearch() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar search = '';\n\t\t\tvar querystring = '';\n\t\t\tthis.getParameterNames().forEach(function (name) {\n\t\t\t\t_this4.getParameterValues(name).forEach(function (value) {\n\t\t\t\t\tquerystring += name;\n\t\t\t\t\tif ((0, _metal.isDef)(value)) {\n\t\t\t\t\t\tquerystring += '=' + encodeURIComponent(value);\n\t\t\t\t\t}\n\t\t\t\t\tquerystring += '&';\n\t\t\t\t});\n\t\t\t});\n\t\t\tquerystring = querystring.slice(0, -1);\n\t\t\tif (querystring) {\n\t\t\t\tsearch += '?' + querystring;\n\t\t\t}\n\t\t\treturn search;\n\t\t}\n\n\t\t/**\n   * Checks if uri contains the parameter.\n   * @param {string} name\n   * @return {boolean}\n   */\n\n\t}, {\n\t\tkey: 'hasParameter',\n\t\tvalue: function hasParameter(name) {\n\t\t\tthis.ensureQueryInitialized_();\n\t\t\treturn this.query.contains(name);\n\t\t}\n\n\t\t/**\n   * Makes this URL unique by adding a random param to it. Useful for avoiding\n   * cache.\n   */\n\n\t}, {\n\t\tkey: 'makeUnique',\n\t\tvalue: function makeUnique() {\n\t\t\tthis.setParameterValue(Uri.RANDOM_PARAM, _metal.string.getRandomString());\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Maybe adds protocol and a hostname placeholder on a parial URI if needed.\n   * Relevent for compatibility with <code>URL</code> native object.\n   * @param {string=} opt_uri\n   * @return {string} URI with protocol and hostname placeholder.\n   */\n\n\t}, {\n\t\tkey: 'maybeAddProtocolAndHostname_',\n\t\tvalue: function maybeAddProtocolAndHostname_(opt_uri) {\n\t\t\tvar url = opt_uri;\n\t\t\tif (opt_uri.indexOf('://') === -1 && opt_uri.indexOf('javascript:') !== 0) {\n\t\t\t\t// jshint ignore:line\n\n\t\t\t\turl = Uri.DEFAULT_PROTOCOL;\n\t\t\t\tif (opt_uri[0] !== '/' || opt_uri[1] !== '/') {\n\t\t\t\t\turl += '//';\n\t\t\t\t}\n\n\t\t\t\tswitch (opt_uri.charAt(0)) {\n\t\t\t\t\tcase '.':\n\t\t\t\t\tcase '?':\n\t\t\t\t\tcase '#':\n\t\t\t\t\t\turl += Uri.HOSTNAME_PLACEHOLDER;\n\t\t\t\t\t\turl += '/';\n\t\t\t\t\t\turl += opt_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '':\n\t\t\t\t\tcase '/':\n\t\t\t\t\t\tif (opt_uri[1] !== '/') {\n\t\t\t\t\t\t\turl += Uri.HOSTNAME_PLACEHOLDER;\n\t\t\t\t\t\t}\n\t\t\t\t\t\turl += opt_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\turl += opt_uri;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\n\t\t/**\n   * Parses the given uri string into an object.\n   * @param {*=} opt_uri Optional string URI to parse\n   */\n\n\t}, {\n\t\tkey: 'removeParameter',\n\n\n\t\t/**\n   * Removes the named query parameter.\n   * @param {string} name The parameter to remove.\n   * @chainable\n   */\n\t\tvalue: function removeParameter(name) {\n\t\t\tthis.ensureQueryInitialized_();\n\t\t\tthis.query.remove(name);\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Removes uniqueness parameter of the uri.\n   * @chainable\n   */\n\n\t}, {\n\t\tkey: 'removeUnique',\n\t\tvalue: function removeUnique() {\n\t\t\tthis.removeParameter(Uri.RANDOM_PARAM);\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Sets the hash.\n   * @param {string} hash\n   * @chainable\n   */\n\n\t}, {\n\t\tkey: 'setHash',\n\t\tvalue: function setHash(hash) {\n\t\t\tthis.url.hash = hash;\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Sets the hostname.\n   * @param {string} hostname\n   * @chainable\n   */\n\n\t}, {\n\t\tkey: 'setHostname',\n\t\tvalue: function setHostname(hostname) {\n\t\t\tthis.url.hostname = hostname;\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Sets the value of the named query parameters, clearing previous values\n   * for that key.\n   * @param {string} key The parameter to set.\n   * @param {*} value The new value.\n   * @chainable\n   */\n\n\t}, {\n\t\tkey: 'setParameterValue',\n\t\tvalue: function setParameterValue(name, value) {\n\t\t\tthis.removeParameter(name);\n\t\t\tthis.addParameterValue(name, value);\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Sets the values of the named query parameters, clearing previous values\n   * for that key.\n   * @param {string} key The parameter to set.\n   * @param {*} value The new value.\n   * @chainable\n   */\n\n\t}, {\n\t\tkey: 'setParameterValues',\n\t\tvalue: function setParameterValues(name, values) {\n\t\t\tvar _this5 = this;\n\n\t\t\tthis.removeParameter(name);\n\t\t\tvalues.forEach(function (value) {\n\t\t\t\treturn _this5.addParameterValue(name, value);\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Sets the pathname.\n   * @param {string} pathname\n   * @chainable\n   */\n\n\t}, {\n\t\tkey: 'setPathname',\n\t\tvalue: function setPathname(pathname) {\n\t\t\tthis.url.pathname = pathname;\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Sets the port number.\n   * @param {*} port Port number.\n   * @chainable\n   */\n\n\t}, {\n\t\tkey: 'setPort',\n\t\tvalue: function setPort(port) {\n\t\t\tthis.url.port = port;\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Sets the function that will be used for parsing the original string uri\n   * into an object.\n   * @param {!function()} parseFn\n   */\n\n\t}, {\n\t\tkey: 'setProtocol',\n\n\n\t\t/**\n   * Sets the protocol. If missing <code>http:</code> is used as default.\n   * @param {string} protocol\n   * @chainable\n   */\n\t\tvalue: function setProtocol(protocol) {\n\t\t\tthis.url.protocol = protocol;\n\t\t\tif (this.url.protocol[this.url.protocol.length - 1] !== ':') {\n\t\t\t\tthis.url.protocol += ':';\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * @return {string} The string form of the url.\n   * @override\n   */\n\n\t}, {\n\t\tkey: 'toString',\n\t\tvalue: function toString() {\n\t\t\tvar href = '';\n\t\t\tvar host = this.getHost();\n\t\t\tif (host) {\n\t\t\t\thref += this.getProtocol() + '//';\n\t\t\t}\n\t\t\thref += host + this.getPathname() + this.getSearch() + this.getHash();\n\t\t\treturn href;\n\t\t}\n\n\t\t/**\n   * Joins the given paths.\n   * @param {string} basePath\n   * @param {...string} ...paths Any number of paths to be joined with the base url.\n   * @static\n   */\n\n\t}], [{\n\t\tkey: 'getParseFn',\n\t\tvalue: function getParseFn() {\n\t\t\treturn parseFn_;\n\t\t}\n\t}, {\n\t\tkey: 'parse',\n\t\tvalue: function parse(opt_uri) {\n\t\t\treturn parseFn_(opt_uri);\n\t\t}\n\t}, {\n\t\tkey: 'setParseFn',\n\t\tvalue: function setParseFn(parseFn) {\n\t\t\tparseFn_ = parseFn;\n\t\t}\n\t}, {\n\t\tkey: 'joinPaths',\n\t\tvalue: function joinPaths(basePath) {\n\t\t\tfor (var _len = arguments.length, paths = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\t\tpaths[_key - 1] = arguments[_key];\n\t\t\t}\n\n\t\t\tif (basePath.charAt(basePath.length - 1) === '/') {\n\t\t\t\tbasePath = basePath.substring(0, basePath.length - 1);\n\t\t\t}\n\t\t\tpaths = paths.map(function (path) {\n\t\t\t\treturn path.charAt(0) === '/' ? path.substring(1) : path;\n\t\t\t});\n\t\t\treturn [basePath].concat(paths).join('/').replace(/\\/$/, '');\n\t\t}\n\n\t\t/**\n   * URL-decodes the string. We need to specially handle '+'s because\n   * the javascript library doesn't convert them to spaces.\n   * @param {string} str The string to url decode.\n   * @return {string} The decoded {@code str}.\n   */\n\n\t}, {\n\t\tkey: 'urlDecode',\n\t\tvalue: function urlDecode(str) {\n\t\t\treturn decodeURIComponent(str.replace(/\\+/g, ' '));\n\t\t}\n\t}]);\n\n\treturn Uri;\n}();\n\n/**\n * Default protocol value.\n * @type {string}\n * @default http:\n * @static\n */\n\n\nvar isSecure = function isSecure() {\n\treturn typeof window !== 'undefined' && window.location && window.location.protocol && window.location.protocol.indexOf('https') === 0;\n};\n\nUri.DEFAULT_PROTOCOL = isSecure() ? 'https:' : 'http:';\n\n/**\n * Hostname placeholder. Relevant to internal usage only.\n * @type {string}\n * @static\n */\nUri.HOSTNAME_PLACEHOLDER = 'hostname' + Date.now();\n\n/**\n * Name used by the param generated by `makeUnique`.\n * @type {string}\n * @static\n */\nUri.RANDOM_PARAM = 'zx';\n\nexports.default = Uri;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-uri/lib/Uri.js\n// module id = 22\n// module chunks = 0","'use strict';\n\n/**\n * A collection of core utility functions.\n * @const\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.abstractMethod = abstractMethod;\nexports.disableCompatibilityMode = disableCompatibilityMode;\nexports.enableCompatibilityMode = enableCompatibilityMode;\nexports.getCompatibilityModeData = getCompatibilityModeData;\nexports.getFunctionName = getFunctionName;\nexports.getStaticProperty = getStaticProperty;\nexports.getUid = getUid;\nexports.identityFunction = identityFunction;\nexports.isBoolean = isBoolean;\nexports.isDef = isDef;\nexports.isDefAndNotNull = isDefAndNotNull;\nexports.isDocument = isDocument;\nexports.isDocumentFragment = isDocumentFragment;\nexports.isElement = isElement;\nexports.isFunction = isFunction;\nexports.isNull = isNull;\nexports.isNumber = isNumber;\nexports.isWindow = isWindow;\nexports.isObject = isObject;\nexports.isPromise = isPromise;\nexports.isString = isString;\nexports.isServerSide = isServerSide;\nexports.nullFunction = nullFunction;\nvar compatibilityModeData_ = void 0;\n\n/**\n * Counter for unique id.\n * @type {Number}\n * @private\n */\nvar uniqueIdCounter_ = 1;\n\n/**\n * Unique id property prefix.\n * @type {String}\n * @protected\n */\nvar UID_PROPERTY = exports.UID_PROPERTY = 'core_' + (Math.random() * 1e9 >>> 0);\n\n/**\n * When defining a class Foo with an abstract method bar(), you can do:\n * Foo.prototype.bar = abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error will be thrown\n * when bar() is invoked.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be overridden.\n */\nfunction abstractMethod() {\n  throw Error('Unimplemented abstract method');\n}\n\n/**\n * Disables Metal.js's compatibility mode.\n */\nfunction disableCompatibilityMode() {\n  compatibilityModeData_ = undefined;\n}\n\n/**\n * Enables Metal.js's compatibility mode with the following features from rc\n * and 1.x versions:\n *     - Using \"key\" to reference component instances. In the current version\n *       this should be done via \"ref\" instead. This allows old code still\n *       using \"key\" to keep working like before. NOTE: this may cause\n *       problems, since \"key\" is meant to be used differently. Only use this\n *       if it's not possible to upgrade the code to use \"ref\" instead.\n * @param {Object=} opt_data Optional object with data to specify more\n *     details, such as:\n *         - renderers {Array} the template renderers that should be in\n *           compatibility mode, either their constructors or strings\n *           representing them (e.g. 'soy' or 'jsx'). By default, all the ones\n *           that extend from IncrementalDomRenderer.\n * @type {Object}\n */\nfunction enableCompatibilityMode() {\n  var opt_data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  compatibilityModeData_ = opt_data;\n}\n\n/**\n * Returns the data used for compatibility mode, or nothing if it hasn't been\n * enabled.\n * @return {Object}\n */\nfunction getCompatibilityModeData() {\n  // Compatibility mode can be set via the __METAL_COMPATIBILITY__ global var.\n  if (compatibilityModeData_ === undefined) {\n    if (typeof window !== 'undefined' && window.__METAL_COMPATIBILITY__) {\n      enableCompatibilityMode(window.__METAL_COMPATIBILITY__);\n    }\n  }\n  return compatibilityModeData_;\n}\n\n/**\n * Returns the first argument if it's truthy, or the second otherwise.\n * @param {*} a\n * @param {*} b\n * @return {*}\n * @protected\n */\nfunction getFirstTruthy_(a, b) {\n  return a || b;\n}\n\n/**\n * Gets the name of the given function. If the current browser doesn't\n * support the `name` property, this will calculate it from the function's\n * content string.\n * @param {!function()} fn\n * @return {string}\n */\nfunction getFunctionName(fn) {\n  if (!fn.name) {\n    var str = fn.toString();\n    fn.name = str.substring(9, str.indexOf('('));\n  }\n  return fn.name;\n}\n\n/**\n * Gets the value of a static property in the given class. The value will be\n * inherited from ancestors as expected, unless a custom merge function is given,\n * which can change how the super classes' value for that property will be merged\n * together.\n * The final merged value will be stored in another property, so that it won't\n * be recalculated even if this function is called multiple times.\n * @param {!function()} ctor Class constructor.\n * @param {string} propertyName Property name to be merged.\n * @param {function(*, *):*=} opt_mergeFn Function that receives the merged\n *     value of the property so far and the next value to be merged to it.\n *     Should return these two merged together. If not passed the final property\n *     will be the first truthy value among ancestors.\n */\nfunction getStaticProperty(ctor, propertyName, opt_mergeFn) {\n  var mergedName = propertyName + '_MERGED';\n  if (!ctor.hasOwnProperty(mergedName)) {\n    var merged = ctor.hasOwnProperty(propertyName) ? ctor[propertyName] : null;\n    if (ctor.__proto__ && !ctor.__proto__.isPrototypeOf(Function)) {\n      var mergeFn = opt_mergeFn || getFirstTruthy_;\n      merged = mergeFn(merged, getStaticProperty(ctor.__proto__, propertyName, mergeFn));\n    }\n    ctor[mergedName] = merged;\n  }\n  return ctor[mergedName];\n}\n\n/**\n * Gets an unique id. If `opt_object` argument is passed, the object is\n * mutated with an unique id. Consecutive calls with the same object\n * reference won't mutate the object again, instead the current object uid\n * returns. See {@link UID_PROPERTY}.\n * @param {Object=} opt_object Optional object to be mutated with the uid. If\n *     not specified this method only returns the uid.\n * @param {boolean=} opt_noInheritance Optional flag indicating if this\n *     object's uid property can be inherited from parents or not.\n * @throws {Error} when invoked to indicate the method should be overridden.\n */\nfunction getUid(opt_object, opt_noInheritance) {\n  if (opt_object) {\n    var id = opt_object[UID_PROPERTY];\n    if (opt_noInheritance && !opt_object.hasOwnProperty(UID_PROPERTY)) {\n      id = null;\n    }\n    return id || (opt_object[UID_PROPERTY] = uniqueIdCounter_++);\n  }\n  return uniqueIdCounter_++;\n}\n\n/**\n * The identity function. Returns its first argument.\n * @param {*=} opt_returnValue The single value that will be returned.\n * @return {?} The first argument.\n */\nfunction identityFunction(opt_returnValue) {\n  return opt_returnValue;\n}\n\n/**\n * Returns true if the specified value is a boolean.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is boolean.\n */\nfunction isBoolean(val) {\n  return typeof val === 'boolean';\n}\n\n/**\n * Returns true if the specified value is not undefined.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is defined.\n */\nfunction isDef(val) {\n  return val !== undefined;\n}\n\n/**\n * Returns true if value is not undefined or null.\n * @param {*} val\n * @return {boolean}\n */\nfunction isDefAndNotNull(val) {\n  return isDef(val) && !isNull(val);\n}\n\n/**\n * Returns true if value is a document.\n * @param {*} val\n * @return {boolean}\n */\nfunction isDocument(val) {\n  return val && (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' && val.nodeType === 9;\n}\n\n/**\n * Returns true if value is a document-fragment.\n * @param {*} val\n * @return {boolean}\n */\nfunction isDocumentFragment(val) {\n  return val && (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' && val.nodeType === 11;\n}\n\n/**\n * Returns true if value is a dom element.\n * @param {*} val\n * @return {boolean}\n */\nfunction isElement(val) {\n  return val && (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' && val.nodeType === 1;\n}\n\n/**\n * Returns true if the specified value is a function.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a function.\n */\nfunction isFunction(val) {\n  return typeof val === 'function';\n}\n\n/**\n * Returns true if value is null.\n * @param {*} val\n * @return {boolean}\n */\nfunction isNull(val) {\n  return val === null;\n}\n\n/**\n * Returns true if the specified value is a number.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a number.\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Returns true if value is a window.\n * @param {*} val\n * @return {boolean}\n */\nfunction isWindow(val) {\n  return val !== null && val === val.window;\n}\n\n/**\n * Returns true if the specified value is an object. This includes arrays\n * and functions.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an object.\n */\nfunction isObject(val) {\n  var type = typeof val === 'undefined' ? 'undefined' : _typeof(val);\n  return type === 'object' && val !== null || type === 'function';\n}\n\n/**\n * Returns true if value is a Promise.\n * @param {*} val\n * @return {boolean}\n */\nfunction isPromise(val) {\n  return val && (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' && typeof val.then === 'function';\n}\n\n/**\n * Returns true if value is a string.\n * @param {*} val\n * @return {boolean}\n */\nfunction isString(val) {\n  return typeof val === 'string' || val instanceof String;\n}\n\n/**\n * Sets to true if running inside Node.js environment with extra check for\n * `process.browser` to skip Karma runner environment. Karma environment has\n * `process` defined even though it runs on the browser.\n * @return {boolean}\n */\nfunction isServerSide() {\n  return typeof process !== 'undefined' && typeof process.env !== 'undefined' && process.env.NODE_ENV !== 'test' && !process.browser;\n}\n\n/**\n * Null function used for default values of callbacks, etc.\n * @return {void} Nothing.\n */\nfunction nullFunction() {}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal/lib/coreNamed.js\n// module id = 23\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _core = require('../core');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar array = function () {\n\tfunction array() {\n\t\t_classCallCheck(this, array);\n\t}\n\n\t_createClass(array, null, [{\n\t\tkey: 'equal',\n\n\t\t/**\n   * Checks if the given arrays have the same content.\n   * @param {!Array<*>} arr1\n   * @param {!Array<*>} arr2\n   * @return {boolean}\n   */\n\t\tvalue: function equal(arr1, arr2) {\n\t\t\tif (arr1 === arr2) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (arr1.length !== arr2.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr1.length; i++) {\n\t\t\t\tif (arr1[i] !== arr2[i]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\t/**\n   * Returns the first value in the given array that isn't undefined.\n   * @param {!Array} arr\n   * @return {*}\n   */\n\n\t}, {\n\t\tkey: 'firstDefinedValue',\n\t\tvalue: function firstDefinedValue(arr) {\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tif (arr[i] !== undefined) {\n\t\t\t\t\treturn arr[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Transforms the input nested array to become flat.\n   * @param {Array.<*|Array.<*>>} arr Nested array to flatten.\n   * @param {Array.<*>} opt_output Optional output array.\n   * @return {Array.<*>} Flat array.\n   */\n\n\t}, {\n\t\tkey: 'flatten',\n\t\tvalue: function flatten(arr, opt_output) {\n\t\t\tvar output = opt_output || [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tif (Array.isArray(arr[i])) {\n\t\t\t\t\tarray.flatten(arr[i], output);\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n   * Removes the first occurrence of a particular value from an array.\n   * @param {Array.<T>} arr Array from which to remove value.\n   * @param {T} obj Object to remove.\n   * @return {boolean} True if an element was removed.\n   * @template T\n   */\n\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove(arr, obj) {\n\t\t\tvar i = arr.indexOf(obj);\n\t\t\tvar rv = void 0;\n\t\t\tif (rv = i >= 0) {\n\t\t\t\tarray.removeAt(arr, i);\n\t\t\t}\n\t\t\treturn rv;\n\t\t}\n\n\t\t/**\n   * Removes from an array the element at index i\n   * @param {Array} arr Array or array like object from which to remove value.\n   * @param {number} i The index to remove.\n   * @return {boolean} True if an element was removed.\n   */\n\n\t}, {\n\t\tkey: 'removeAt',\n\t\tvalue: function removeAt(arr, i) {\n\t\t\treturn Array.prototype.splice.call(arr, i, 1).length === 1;\n\t\t}\n\n\t\t/**\n   * Slices the given array, just like Array.prototype.slice, but this\n   * is faster and working on all array-like objects (like arguments).\n   * @param {!Object} arr Array-like object to slice.\n   * @param {number} start The index that should start the slice.\n   * @param {number=} opt_end The index where the slice should end, not\n   *   included in the final array. If not given, all elements after the\n   *   start index will be included.\n   * @return {!Array}\n   */\n\n\t}, {\n\t\tkey: 'slice',\n\t\tvalue: function slice(arr, start, opt_end) {\n\t\t\tvar sliced = [];\n\t\t\tvar end = (0, _core.isDef)(opt_end) ? opt_end : arr.length;\n\t\t\tfor (var i = start; i < end; i++) {\n\t\t\t\tsliced.push(arr[i]);\n\t\t\t}\n\t\t\treturn sliced;\n\t\t}\n\t}]);\n\n\treturn array;\n}();\n\nexports.default = array;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal/lib/array/array.js\n// module id = 24\n// module chunks = 0","/*!\n * Polyfill from Google's Closure Library.\n * Copyright 2013 The Closure Library Authors. All Rights Reserved.\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar async = {};\n\n/**\n * Throw an item without interrupting the current execution context.  For\n * example, if processing a group of items in a loop, sometimes it is useful\n * to report an error while still allowing the rest of the batch to be\n * processed.\n * @param {*} exception\n */\nasync.throwException = function (exception) {\n\t// Each throw needs to be in its own context.\n\tasync.nextTick(function () {\n\t\tthrow exception;\n\t});\n};\n\n/**\n * Fires the provided callback just before the current callstack unwinds, or as\n * soon as possible after the current JS execution context.\n * @param {function(this:THIS)} callback\n * @param {THIS=} opt_context Object to use as the \"this value\" when calling\n *     the provided function.\n * @template THIS\n */\nasync.run = function (callback, opt_context) {\n\tif (!async.run.workQueueScheduled_) {\n\t\t// Nothing is currently scheduled, schedule it now.\n\t\tasync.nextTick(async.run.processWorkQueue);\n\t\tasync.run.workQueueScheduled_ = true;\n\t}\n\n\tasync.run.workQueue_.push(new async.run.WorkItem_(callback, opt_context));\n};\n\n/** @private {boolean} */\nasync.run.workQueueScheduled_ = false;\n\n/** @private {!Array.<!async.run.WorkItem_>} */\nasync.run.workQueue_ = [];\n\n/**\n * Run any pending async.run work items. This function is not intended\n * for general use, but for use by entry point handlers to run items ahead of\n * async.nextTick.\n */\nasync.run.processWorkQueue = function () {\n\t// NOTE: additional work queue items may be pushed while processing.\n\twhile (async.run.workQueue_.length) {\n\t\t// Don't let the work queue grow indefinitely.\n\t\tvar workItems = async.run.workQueue_;\n\t\tasync.run.workQueue_ = [];\n\t\tfor (var i = 0; i < workItems.length; i++) {\n\t\t\tvar workItem = workItems[i];\n\t\t\ttry {\n\t\t\t\tworkItem.fn.call(workItem.scope);\n\t\t\t} catch (e) {\n\t\t\t\tasync.throwException(e);\n\t\t\t}\n\t\t}\n\t}\n\n\t// There are no more work items, reset the work queue.\n\tasync.run.workQueueScheduled_ = false;\n};\n\n/**\n * @constructor\n * @final\n * @struct\n * @private\n *\n * @param {function()} fn\n * @param {Object|null|undefined} scope\n */\nasync.run.WorkItem_ = function (fn, scope) {\n\t/** @const */\n\tthis.fn = fn;\n\t/** @const */\n\tthis.scope = scope;\n};\n\n/**\n * Fires the provided callbacks as soon as possible after the current JS\n * execution context. setTimeout(, 0) always takes at least 5ms for legacy\n * reasons.\n * @param {function(this:SCOPE)} callback Callback function to fire as soon as\n *     possible.\n * @param {SCOPE=} opt_context Object in whose scope to call the listener.\n * @template SCOPE\n */\nasync.nextTick = function (callback, opt_context) {\n\tvar cb = callback;\n\tif (opt_context) {\n\t\tcb = callback.bind(opt_context);\n\t}\n\tcb = async.nextTick.wrapCallback_(cb);\n\t// Introduced and currently only supported by IE10.\n\t// Verify if variable is defined on the current runtime (i.e., node, browser).\n\t// Can't use typeof enclosed in a function (such as core.isFunction) or an\n\t// exception will be thrown when the function is called on an environment\n\t// where the variable is undefined.\n\tif (typeof setImmediate === 'function') {\n\t\tsetImmediate(cb);\n\t\treturn;\n\t}\n\t// Look for and cache the custom fallback version of setImmediate.\n\tif (!async.nextTick.setImmediate_) {\n\t\tasync.nextTick.setImmediate_ = async.nextTick.getSetImmediateEmulator_();\n\t}\n\tasync.nextTick.setImmediate_(cb);\n};\n\n/**\n * Cache for the setImmediate implementation.\n * @type {function(function())}\n * @private\n */\nasync.nextTick.setImmediate_ = null;\n\n/**\n * Determines the best possible implementation to run a function as soon as\n * the JS event loop is idle.\n * @return {function(function())} The \"setImmediate\" implementation.\n * @private\n */\nasync.nextTick.getSetImmediateEmulator_ = function () {\n\t// Create a private message channel and use it to postMessage empty messages\n\t// to ourselves.\n\tvar Channel = void 0;\n\n\t// Verify if variable is defined on the current runtime (i.e., node, browser).\n\t// Can't use typeof enclosed in a function (such as core.isFunction) or an\n\t// exception will be thrown when the function is called on an environment\n\t// where the variable is undefined.\n\tif (typeof MessageChannel === 'function') {\n\t\tChannel = MessageChannel;\n\t}\n\n\t// If MessageChannel is not available and we are in a browser, implement\n\t// an iframe based polyfill in browsers that have postMessage and\n\t// document.addEventListener. The latter excludes IE8 because it has a\n\t// synchronous postMessage implementation.\n\tif (typeof Channel === 'undefined' && typeof window !== 'undefined' && window.postMessage && window.addEventListener) {\n\t\t/** @constructor */\n\t\tChannel = function Channel() {\n\t\t\t// Make an empty, invisible iframe.\n\t\t\tvar iframe = document.createElement('iframe');\n\t\t\tiframe.style.display = 'none';\n\t\t\tiframe.src = '';\n\t\t\tdocument.documentElement.appendChild(iframe);\n\t\t\tvar win = iframe.contentWindow;\n\t\t\tvar doc = win.document;\n\t\t\tdoc.open();\n\t\t\tdoc.write('');\n\t\t\tdoc.close();\n\t\t\tvar message = 'callImmediate' + Math.random();\n\t\t\tvar origin = win.location.protocol + '//' + win.location.host;\n\t\t\tvar onmessage = function (e) {\n\t\t\t\t// Validate origin and message to make sure that this message was\n\t\t\t\t// intended for us.\n\t\t\t\tif (e.origin !== origin && e.data !== message) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.port1.onmessage();\n\t\t\t}.bind(this);\n\t\t\twin.addEventListener('message', onmessage, false);\n\t\t\tthis.port1 = {};\n\t\t\tthis.port2 = {\n\t\t\t\tpostMessage: function postMessage() {\n\t\t\t\t\twin.postMessage(message, origin);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t}\n\tif (typeof Channel !== 'undefined') {\n\t\tvar channel = new Channel();\n\t\t// Use a fifo linked list to call callbacks in the right order.\n\t\tvar head = {};\n\t\tvar tail = head;\n\t\tchannel.port1.onmessage = function () {\n\t\t\thead = head.next;\n\t\t\tvar cb = head.cb;\n\t\t\thead.cb = null;\n\t\t\tcb();\n\t\t};\n\t\treturn function (cb) {\n\t\t\ttail.next = {\n\t\t\t\tcb: cb\n\t\t\t};\n\t\t\ttail = tail.next;\n\t\t\tchannel.port2.postMessage(0);\n\t\t};\n\t}\n\t// Implementation for IE6-8: Script elements fire an asynchronous\n\t// onreadystatechange event when inserted into the DOM.\n\tif (typeof document !== 'undefined' && 'onreadystatechange' in document.createElement('script')) {\n\t\treturn function (cb) {\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.onreadystatechange = function () {\n\t\t\t\t// Clean up and call the callback.\n\t\t\t\tscript.onreadystatechange = null;\n\t\t\t\tscript.parentNode.removeChild(script);\n\t\t\t\tscript = null;\n\t\t\t\tcb();\n\t\t\t\tcb = null;\n\t\t\t};\n\t\t\tdocument.documentElement.appendChild(script);\n\t\t};\n\t}\n\t// Fall back to setTimeout with 0. In browsers this creates a delay of 5ms\n\t// or more.\n\treturn function (cb) {\n\t\tsetTimeout(cb, 0);\n\t};\n};\n\n/**\n * Helper function that is overrided to protect callbacks with entry point\n * monitor if the application monitors entry points.\n * @param {function()} callback Callback function to fire as soon as possible.\n * @return {function()} The wrapped callback.\n * @private\n */\nasync.nextTick.wrapCallback_ = function (opt_returnValue) {\n\treturn opt_returnValue;\n};\n\nexports.default = async;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal/lib/async/async.js\n// module id = 25\n// module chunks = 0","'use strict';\n\n/**\n * Disposable utility. When inherited provides the `dispose` function to its\n * subclass, which is responsible for disposing of any object references\n * when an instance won't be used anymore. Subclasses should override\n * `disposeInternal` to implement any specific disposing logic.\n * @constructor\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Disposable = function () {\n\tfunction Disposable() {\n\t\t_classCallCheck(this, Disposable);\n\n\t\t/**\n   * Flag indicating if this instance has already been disposed.\n   * @type {boolean}\n   * @protected\n   */\n\t\tthis.disposed_ = false;\n\t}\n\n\t/**\n  * Disposes of this instance's object references. Calls `disposeInternal`.\n  */\n\n\n\t_createClass(Disposable, [{\n\t\tkey: 'dispose',\n\t\tvalue: function dispose() {\n\t\t\tif (!this.disposed_) {\n\t\t\t\tthis.disposeInternal();\n\t\t\t\tthis.disposed_ = true;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Subclasses should override this method to implement any specific\n   * disposing logic (like clearing references and calling `dispose` on other\n   * disposables).\n   */\n\n\t}, {\n\t\tkey: 'disposeInternal',\n\t\tvalue: function disposeInternal() {}\n\n\t\t/**\n   * Checks if this instance has already been disposed.\n   * @return {boolean}\n   */\n\n\t}, {\n\t\tkey: 'isDisposed',\n\t\tvalue: function isDisposed() {\n\t\t\treturn this.disposed_;\n\t\t}\n\t}]);\n\n\treturn Disposable;\n}();\n\nexports.default = Disposable;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal/lib/disposable/Disposable.js\n// module id = 26\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar object = function () {\n\tfunction object() {\n\t\t_classCallCheck(this, object);\n\t}\n\n\t_createClass(object, null, [{\n\t\tkey: 'mixin',\n\n\t\t/**\n   * Copies all the members of a source object to a target object.\n   * @param {Object} target Target object.\n   * @param {...Object} var_args The objects from which values will be copied.\n   * @return {Object} Returns the target object reference.\n   */\n\t\tvalue: function mixin(target) {\n\t\t\tvar key = void 0,\n\t\t\t    source = void 0;\n\t\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\t\tsource = arguments[i];\n\t\t\t\tfor (key in source) {\n\t\t\t\t\ttarget[key] = source[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn target;\n\t\t}\n\n\t\t/**\n   * Returns an object based on its fully qualified external name.\n   * @param {string} name The fully qualified name.\n   * @param {object=} opt_obj The object within which to look; default is\n   *     <code>window</code>.\n   * @return {?} The value (object or primitive) or, if not found, undefined.\n   */\n\n\t}, {\n\t\tkey: 'getObjectByName',\n\t\tvalue: function getObjectByName(name, opt_obj) {\n\t\t\tvar scope = opt_obj || window;\n\t\t\tvar parts = name.split('.');\n\t\t\treturn parts.reduce(function (part, key) {\n\t\t\t\treturn part[key];\n\t\t\t}, scope);\n\t\t}\n\n\t\t/**\n   * Returns a new object with the same keys as the given one, but with\n   * their values set to the return values of the specified function.\n   * @param {!Object} obj\n   * @param {!function(string, *)} fn\n   * @return {!Object}\n   */\n\n\t}, {\n\t\tkey: 'map',\n\t\tvalue: function map(obj, fn) {\n\t\t\tvar mappedObj = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\tmappedObj[keys[i]] = fn(keys[i], obj[keys[i]]);\n\t\t\t}\n\t\t\treturn mappedObj;\n\t\t}\n\n\t\t/**\n   * Checks if the two given objects are equal. This is done via a shallow\n   * check, including only the keys directly contained by the 2 objects.\n   * @return {boolean}\n   */\n\n\t}, {\n\t\tkey: 'shallowEqual',\n\t\tvalue: function shallowEqual(obj1, obj2) {\n\t\t\tif (obj1 === obj2) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar keys1 = Object.keys(obj1);\n\t\t\tvar keys2 = Object.keys(obj2);\n\t\t\tif (keys1.length !== keys2.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < keys1.length; i++) {\n\t\t\t\tif (obj1[keys1[i]] !== obj2[keys1[i]]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}]);\n\n\treturn object;\n}();\n\nexports.default = object;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal/lib/object/object.js\n// module id = 27\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar string = function () {\n\tfunction string() {\n\t\t_classCallCheck(this, string);\n\t}\n\n\t_createClass(string, null, [{\n\t\tkey: 'caseInsensitiveCompare',\n\n\t\t/**\n   * Compares the given strings without taking the case into account.\n   * @param {string|number} str1\n   * @param {string|number} str2\n   * @return {number} Either -1, 0 or 1, according to if the first string is\n   *     \"smaller\", equal or \"bigger\" than the second given string.\n   */\n\t\tvalue: function caseInsensitiveCompare(str1, str2) {\n\t\t\tvar test1 = String(str1).toLowerCase();\n\t\t\tvar test2 = String(str2).toLowerCase();\n\n\t\t\tif (test1 < test2) {\n\t\t\t\treturn -1;\n\t\t\t} else if (test1 === test2) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Removes the breaking spaces from the left and right of the string and\n   * collapses the sequences of breaking spaces in the middle into single spaces.\n   * The original and the result strings render the same way in HTML.\n   * @param {string} str A string in which to collapse spaces.\n   * @return {string} Copy of the string with normalized breaking spaces.\n   */\n\n\t}, {\n\t\tkey: 'collapseBreakingSpaces',\n\t\tvalue: function collapseBreakingSpaces(str) {\n\t\t\treturn str.replace(/[\\t\\r\\n ]+/g, ' ').replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, '');\n\t\t}\n\n\t\t/**\n  * Escapes characters in the string that are not safe to use in a RegExp.\n  * @param {*} str The string to escape. If not a string, it will be casted\n  *     to one.\n  * @return {string} A RegExp safe, escaped copy of {@code s}.\n  */\n\n\t}, {\n\t\tkey: 'escapeRegex',\n\t\tvalue: function escapeRegex(str) {\n\t\t\treturn String(str).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1').replace(/\\x08/g, '\\\\x08');\n\t\t}\n\n\t\t/**\n  * Returns a string with at least 64-bits of randomness.\n  * @return {string} A random string, e.g. sn1s7vb4gcic.\n  */\n\n\t}, {\n\t\tkey: 'getRandomString',\n\t\tvalue: function getRandomString() {\n\t\t\tvar x = 2147483648;\n\t\t\treturn Math.floor(Math.random() * x).toString(36) + Math.abs(Math.floor(Math.random() * x) ^ Date.now()).toString(36);\n\t\t}\n\n\t\t/**\n   * Calculates the hashcode for a string. The hashcode value is computed by\n   * the sum algorithm: s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]. A nice\n   * property of using 31 prime is that the multiplication can be replaced by\n   * a shift and a subtraction for better performance: 31*i == (i<<5)-i.\n   * Modern VMs do this sort of optimization automatically.\n   * @param {String} val Target string.\n   * @return {Number} Returns the string hashcode.\n   */\n\n\t}, {\n\t\tkey: 'hashCode',\n\t\tvalue: function hashCode(val) {\n\t\t\tvar hash = 0;\n\t\t\tfor (var i = 0, len = val.length; i < len; i++) {\n\t\t\t\thash = 31 * hash + val.charCodeAt(i);\n\t\t\t\thash %= 0x100000000;\n\t\t\t}\n\t\t\treturn hash;\n\t\t}\n\n\t\t/**\n   * Replaces interval into the string with specified value, e.g.\n   * `replaceInterval(\"abcde\", 1, 4, \"\")` returns \"ae\".\n   * @param {string} str The input string.\n   * @param {Number} start Start interval position to be replaced.\n   * @param {Number} end End interval position to be replaced.\n   * @param {string} value The value that replaces the specified interval.\n   * @return {string}\n   */\n\n\t}, {\n\t\tkey: 'replaceInterval',\n\t\tvalue: function replaceInterval(str, start, end, value) {\n\t\t\treturn str.substring(0, start) + value + str.substring(end);\n\t\t}\n\t}]);\n\n\treturn string;\n}();\n\nexports.default = string;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal/lib/string/string.js\n// module id = 28\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _metal = require('metal');\n\nvar _parseFromAnchor = require('./parseFromAnchor');\n\nvar _parseFromAnchor2 = _interopRequireDefault(_parseFromAnchor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Parses the given uri string into an object. The URL function will be used\n * when present, otherwise we'll fall back to the anchor node element.\n * @param {*=} opt_uri Optional string URI to parse\n */\nfunction parse(opt_uri) {\n\tif ((0, _metal.isFunction)(URL) && URL.length) {\n\t\tvar url = new URL(opt_uri);\n\n\t\t// Safari Browsers will cap port to the max 16-bit unsigned integer (65535) instead\n\t\t// of throwing a TypeError as per spec. It will still keep the port number in the\n\t\t// href attribute, so we can use this mismatch to raise the expected exception.\n\t\tif (url.port && url.href.indexOf(url.port) === -1) {\n\t\t\tthrow new TypeError(opt_uri + ' is not a valid URL');\n\t\t}\n\n\t\treturn url;\n\t} else {\n\t\treturn (0, _parseFromAnchor2.default)(opt_uri);\n\t}\n}\n\nexports.default = parse;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-uri/lib/parse.js\n// module id = 29\n// module chunks = 0","'use strict';\n\n/**\n * Parses the given uri string into an object.\n * @param {*=} opt_uri Optional string URI to parse\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nfunction parseFromAnchor(opt_uri) {\n\tvar link = document.createElement('a');\n\tlink.href = opt_uri;\n\n\tif (link.protocol === ':' || !/:/.test(link.href)) {\n\t\tthrow new TypeError(opt_uri + ' is not a valid URL');\n\t}\n\n\treturn {\n\t\thash: link.hash,\n\t\thostname: link.hostname,\n\t\tpassword: link.password,\n\t\tpathname: link.pathname[0] === '/' ? link.pathname : '/' + link.pathname,\n\t\tport: link.port,\n\t\tprotocol: link.protocol,\n\t\tsearch: link.search,\n\t\tusername: link.username\n\t};\n}\n\nexports.default = parseFromAnchor;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-uri/lib/parseFromAnchor.js\n// module id = 30\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _metal = require('metal');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * A cached reference to the create function.\n */\nvar create = Object.create;\n\n/**\n * Case insensitive string Multimap implementation. Allows multiple values for\n * the same key name.\n * @extends {Disposable}\n */\n\nvar MultiMap = function (_Disposable) {\n\t_inherits(MultiMap, _Disposable);\n\n\tfunction MultiMap() {\n\t\t_classCallCheck(this, MultiMap);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Disposable.call(this));\n\n\t\t_this.keys = create(null);\n\t\t_this.values = create(null);\n\t\treturn _this;\n\t}\n\n\t/**\n  * Adds value to a key name.\n  * @param {string} name\n  * @param {*} value\n  * @chainable\n  */\n\n\n\tMultiMap.prototype.add = function add(name, value) {\n\t\tthis.keys[name.toLowerCase()] = name;\n\t\tthis.values[name.toLowerCase()] = this.values[name.toLowerCase()] || [];\n\t\tthis.values[name.toLowerCase()].push(value);\n\t\treturn this;\n\t};\n\n\t/**\n  * Clears map names and values.\n  * @chainable\n  */\n\n\n\tMultiMap.prototype.clear = function clear() {\n\t\tthis.keys = create(null);\n\t\tthis.values = create(null);\n\t\treturn this;\n\t};\n\n\t/**\n  * Checks if map contains a value to the key name.\n  * @param {string} name\n  * @return {boolean}\n  * @chainable\n  */\n\n\n\tMultiMap.prototype.contains = function contains(name) {\n\t\treturn name.toLowerCase() in this.values;\n\t};\n\n\t/**\n  * @inheritDoc\n  */\n\n\n\tMultiMap.prototype.disposeInternal = function disposeInternal() {\n\t\tthis.values = null;\n\t};\n\n\t/**\n  * Creates a `MultiMap` instance from the given object.\n  * @param {!Object} obj\n  * @return {!MultiMap}\n  */\n\n\n\tMultiMap.fromObject = function fromObject(obj) {\n\t\tvar map = new MultiMap();\n\t\tvar keys = Object.keys(obj);\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tmap.set(keys[i], obj[keys[i]]);\n\t\t}\n\t\treturn map;\n\t};\n\n\t/**\n  * Gets the first added value from a key name.\n  * @param {string} name\n  * @return {*}\n  * @chainable\n  */\n\n\n\tMultiMap.prototype.get = function get(name) {\n\t\tvar values = this.values[name.toLowerCase()];\n\t\tif (values) {\n\t\t\treturn values[0];\n\t\t}\n\t};\n\n\t/**\n  * Gets all values from a key name.\n  * @param {string} name\n  * @return {Array.<*>}\n  */\n\n\n\tMultiMap.prototype.getAll = function getAll(name) {\n\t\treturn this.values[name.toLowerCase()];\n\t};\n\n\t/**\n  * Returns true if the map is empty, false otherwise.\n  * @return {boolean}\n  */\n\n\n\tMultiMap.prototype.isEmpty = function isEmpty() {\n\t\treturn this.size() === 0;\n\t};\n\n\t/**\n  * Gets array of key names.\n  * @return {Array.<string>}\n  */\n\n\n\tMultiMap.prototype.names = function names() {\n\t\tvar _this2 = this;\n\n\t\treturn Object.keys(this.values).map(function (key) {\n\t\t\treturn _this2.keys[key];\n\t\t});\n\t};\n\n\t/**\n  * Removes all values from a key name.\n  * @param {string} name\n  * @chainable\n  */\n\n\n\tMultiMap.prototype.remove = function remove(name) {\n\t\tdelete this.keys[name.toLowerCase()];\n\t\tdelete this.values[name.toLowerCase()];\n\t\treturn this;\n\t};\n\n\t/**\n  * Sets the value of a key name. Relevant to replace the current values with\n  * a new one.\n  * @param {string} name\n  * @param {*} value\n  * @chainable\n  */\n\n\n\tMultiMap.prototype.set = function set(name, value) {\n\t\tthis.keys[name.toLowerCase()] = name;\n\t\tthis.values[name.toLowerCase()] = [value];\n\t\treturn this;\n\t};\n\n\t/**\n  * Gets the size of the map key names.\n  * @return {number}\n  */\n\n\n\tMultiMap.prototype.size = function size() {\n\t\treturn this.names().length;\n\t};\n\n\t/**\n  * Returns the parsed values as a string.\n  * @return {string}\n  */\n\n\n\tMultiMap.prototype.toString = function toString() {\n\t\treturn JSON.stringify(this.values);\n\t};\n\n\treturn MultiMap;\n}(_metal.Disposable);\n\nexports.default = MultiMap;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-structs/lib/MultiMap.js\n// module id = 31\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _metal = require('metal');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Generic tree node data structure with arbitrary number of child nodes.\n * @param {V} value Value.\n * @constructor\n */\nvar TreeNode = function () {\n\tfunction TreeNode(value) {\n\t\t_classCallCheck(this, TreeNode);\n\n\t\t/**\n   * The value.\n   * @private {V}\n   */\n\t\tthis.value_ = value;\n\n\t\t/**\n   * Reference to the parent node or null if it has no parent.\n   * @private {TreeNode}\n   */\n\t\tthis.parent_ = null;\n\n\t\t/**\n   * Child nodes or null in case of leaf node.\n   * @private {Array<!TreeNode>}\n   */\n\t\tthis.children_ = null;\n\t}\n\n\t/**\n  * Appends a child node to this node.\n  * @param {!TreeNode} child Orphan child node.\n  */\n\n\n\tTreeNode.prototype.addChild = function addChild(child) {\n\t\tassertChildHasNoParent(child);\n\t\tchild.setParent(this);\n\t\tthis.children_ = this.children_ || [];\n\t\tthis.children_.push(child);\n\t};\n\n\t/**\n  * Tells whether this node is the ancestor of the given node.\n  * @param {!TreeNode} node A node.\n  * @return {boolean} Whether this node is the ancestor of {@code node}.\n  */\n\n\n\tTreeNode.prototype.contains = function contains(node) {\n\t\tvar current = node.getParent();\n\t\twhile (current) {\n\t\t\tif (current === this) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcurrent = current.getParent();\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n  * @return {!Array<TreeNode>} All ancestor nodes in bottom-up order.\n  */\n\n\n\tTreeNode.prototype.getAncestors = function getAncestors() {\n\t\tvar ancestors = [];\n\t\tvar node = this.getParent();\n\t\twhile (node) {\n\t\t\tancestors.push(node);\n\t\t\tnode = node.getParent();\n\t\t}\n\t\treturn ancestors;\n\t};\n\n\t/**\n  * Gets the child node of this node at the given index.\n  * @param {number} index Child index.\n  * @return {?TreeNode} The node at the given index\n  * or null if not found.\n  */\n\n\n\tTreeNode.prototype.getChildAt = function getChildAt(index) {\n\t\treturn this.getChildren()[index] || null;\n\t};\n\n\t/**\n  * @return {?Array<!TreeNode>} Child nodes or null in case of leaf node.\n  */\n\n\n\tTreeNode.prototype.getChildren = function getChildren() {\n\t\treturn this.children_ || TreeNode.EMPTY_ARRAY;\n\t};\n\n\t/**\n  * @return {number} The number of children.\n  */\n\n\n\tTreeNode.prototype.getChildCount = function getChildCount() {\n\t\treturn this.getChildren().length;\n\t};\n\n\t/**\n  * @return {number} The number of ancestors of the node.\n  */\n\n\n\tTreeNode.prototype.getDepth = function getDepth() {\n\t\tvar depth = 0;\n\t\tvar node = this;\n\t\twhile (node.getParent()) {\n\t\t\tdepth++;\n\t\t\tnode = node.getParent();\n\t\t}\n\t\treturn depth;\n\t};\n\n\t/**\n  * @return {?TreeNode} Parent node or null if it has no parent.\n  */\n\n\n\tTreeNode.prototype.getParent = function getParent() {\n\t\treturn this.parent_;\n\t};\n\n\t/**\n  * @return {!TreeNode} The root of the tree structure, i.e. the farthest\n  * ancestor of the node or the node itself if it has no parents.\n  */\n\n\n\tTreeNode.prototype.getRoot = function getRoot() {\n\t\tvar root = this;\n\t\twhile (root.getParent()) {\n\t\t\troot = root.getParent();\n\t\t}\n\t\treturn root;\n\t};\n\n\t/**\n  * Gets the value.\n  * @return {V} The value.\n  */\n\n\n\tTreeNode.prototype.getValue = function getValue() {\n\t\treturn this.value_;\n\t};\n\n\t/**\n  * @return {boolean} Whether the node is a leaf node.\n  */\n\n\n\tTreeNode.prototype.isLeaf = function isLeaf() {\n\t\treturn !this.getChildCount();\n\t};\n\n\t/**\n  * Removes the given child node of this node.\n  * @param {TreeNode} child The node to remove.\n  * @return {TreeNode} The removed node if any, null otherwise.\n  */\n\n\n\tTreeNode.prototype.removeChild = function removeChild(child) {\n\t\tif (_metal.array.remove(this.getChildren(), child)) {\n\t\t\treturn child;\n\t\t}\n\t\treturn null;\n\t};\n\n\t/**\n  * Sets the parent node of this node. The callers must ensure that the\n  * parent node and only that has this node among its children.\n  * @param {TreeNode} parent The parent to set. If null, the node will be\n  * detached from the tree.\n  * @protected\n  */\n\n\n\tTreeNode.prototype.setParent = function setParent(parent) {\n\t\tthis.parent_ = parent;\n\t};\n\n\t/**\n  * Traverses the subtree. The first callback starts with this node,\n  * and visits the descendant nodes depth-first, in preorder.\n  * The second callback, starts with deepest child then visits\n  * the ancestor nodes depth-first, in postorder. E.g.\n  *\n  *  \t A\n  *    / \\\n  *   B   C\n  *  /   / \\\n  * D   E   F\n  *\n  * preorder -> ['A', 'B', 'D', 'C', 'E', 'F']\n  * postorder -> ['D', 'B', 'E', 'F', 'C', 'A']\n  *\n  * @param {function=} opt_preorderFn The callback to execute when visiting a node.\n  * @param {function=} opt_postorderFn The callback to execute before leaving a node.\n  */\n\n\n\tTreeNode.prototype.traverse = function traverse(opt_preorderFn, opt_postorderFn) {\n\t\tif (opt_preorderFn) {\n\t\t\topt_preorderFn(this);\n\t\t}\n\t\tthis.getChildren().forEach(function (child) {\n\t\t\treturn child.traverse(opt_preorderFn, opt_postorderFn);\n\t\t});\n\t\tif (opt_postorderFn) {\n\t\t\topt_postorderFn(this);\n\t\t}\n\t};\n\n\treturn TreeNode;\n}();\n\n/**\n * Constant for empty array to avoid unnecessary allocations.\n * @private\n */\n\n\nTreeNode.EMPTY_ARRAY = [];\n\n/**\n * Asserts that child has no parent.\n * @param {TreeNode} child A child.\n * @private\n */\nvar assertChildHasNoParent = function assertChildHasNoParent(child) {\n\tif (child.getParent()) {\n\t\tthrow new Error('Cannot add child with parent.');\n\t}\n};\n\nexports.default = TreeNode;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-structs/lib/TreeNode.js\n// module id = 32\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 34\n// module chunks = 0","'use strict';\n\nimport globals from '../globals/globals';\nimport AppDataAttributeHandler from './AppDataAttributeHandler';\n\n/**\n * Data attribute handler.\n * @type {AppDataAttributeHandler}\n */\nvar dataAttributeHandler = new AppDataAttributeHandler();\n\nglobals.document.addEventListener('DOMContentLoaded', function() {\n\tdataAttributeHandler.setBaseElement(globals.document.body);\n\tdataAttributeHandler.handle();\n});\n\nexport default dataAttributeHandler;\n\n\n// WEBPACK FOOTER //\n// ./src/app/dataAttributeHandler.js","'use strict';\n\nimport { Disposable, getUid, isDefAndNotNull, isElement, object } from 'metal';\nimport dataAttributes from './dataAttributes';\nimport globals from '../globals/globals';\nimport App from './App';\nimport HtmlScreen from '../screen/HtmlScreen';\nimport Route from '../route/Route';\n\nclass AppDataAttributeHandler extends Disposable {\n\n\t/**\n\t * Initilizes App, register surfaces and routes from data attributes.\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tsuper();\n\n\t\t/**\n\t\t * Holds the app reference initialized by data attributes.\n\t\t * @type {App}\n\t\t * @default null\n\t\t */\n\t\tthis.app = null;\n\n\t\t/**\n\t\t * Holds the base element to search initialization data attributes. This\n\t\t * element is the container used to enable initialization based on the\n\t\t * presence of `data-senna` attribute.\n\t\t * @type {Element}\n\t\t * @default null\n\t\t */\n\t\tthis.baseElement = null;\n\t}\n\n\t/**\n\t * Inits application based on information scanned from document.\n\t */\n\thandle() {\n\t\tif (!isElement(this.baseElement)) {\n\t\t\tthrow new Error('Senna data attribute handler base element ' +\n\t\t\t\t'not set or invalid, try setting a valid element that ' +\n\t\t\t\t'contains a `data-senna` attribute.');\n\t\t}\n\n\t\tif (!this.baseElement.hasAttribute(dataAttributes.senna)) {\n\t\t\tconsole.log('Senna was not initialized from data attributes. ' +\n\t\t\t\t'In order to enable its usage from data attributes try setting ' +\n\t\t\t\t'in the base element, e.g. `<body data-senna>`.');\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.app) {\n\t\t\tthrow new Error('Senna app was already initialized.');\n\t\t}\n\n\t\tconsole.log('Senna initialized from data attribute.');\n\n\t\tthis.app = new App();\n\t\tthis.maybeAddRoutes_();\n\t\tthis.maybeAddSurfaces_();\n\t\tthis.maybeSetBasePath_();\n\t\tthis.maybeSetLinkSelector_();\n\t\tthis.maybeSetLoadingCssClass_();\n\t\tthis.maybeSetUpdateScrollPosition_();\n\t\tthis.maybeDispatch_();\n\t}\n\n\t/**\n\t * Disposes of this instance's object references.\n\t * @override\n\t */\n\tdisposeInternal() {\n\t\tif (this.app) {\n\t\t\tthis.app.dispose();\n\t\t}\n\t}\n\n\t/**\n\t * Gets the app reference.\n\t * @return {App}\n\t */\n\tgetApp() {\n\t\treturn this.app;\n\t}\n\n\t/**\n\t * Gets the base element.\n\t * @return {Element} baseElement\n\t */\n\tgetBaseElement() {\n\t\treturn this.baseElement;\n\t}\n\n\t/**\n\t * Maybe adds app routes from link elements that are `senna-route`.\n\t */\n\tmaybeAddRoutes_() {\n\t\tvar routesSelector = 'link[rel=\"senna-route\"]';\n\t\tthis.querySelectorAllAsArray_(routesSelector).forEach((link) => this.maybeParseLinkRoute_(link));\n\t\tif (!this.app.hasRoutes()) {\n\t\t\tthis.app.addRoutes(new Route(/.*/, HtmlScreen));\n\t\t\tconsole.log('Senna can\\'t find route elements, adding default.');\n\t\t}\n\t}\n\n\t/**\n\t * Maybe adds app surfaces by scanning `data-senna-surface` data attribute.\n\t */\n\tmaybeAddSurfaces_() {\n\t\tvar surfacesSelector = '[' + dataAttributes.surface + ']';\n\t\tthis.querySelectorAllAsArray_(surfacesSelector).forEach((surfaceElement) => {\n\t\t\tthis.updateElementIdIfSpecialSurface_(surfaceElement);\n\t\t\tthis.app.addSurfaces(surfaceElement.id);\n\t\t});\n\t}\n\n\t/**\n\t * Dispatches app navigation to the current path when initializes.\n\t */\n\tmaybeDispatch_() {\n\t\tif (this.baseElement.hasAttribute(dataAttributes.dispatch)) {\n\t\t\tthis.app.dispatch();\n\t\t}\n\t}\n\n\t/**\n\t * Adds app route by parsing valid link elements. A valid link element is of\n\t * the kind `rel=\"senna-route\"`.\n\t * @param {Element} link\n\t */\n\tmaybeParseLinkRoute_(link) {\n\t\tvar route = new Route(this.maybeParseLinkRoutePath_(link), this.maybeParseLinkRouteHandler_(link));\n\t\tthis.app.addRoutes(route);\n\t\tconsole.log('Senna scanned route ' + route.getPath());\n\t}\n\n\t/**\n\t * Maybe parse link route handler.\n\t * @param {Element} link\n\t * @return {?string}\n\t */\n\tmaybeParseLinkRouteHandler_(link) {\n\t\tvar handler = link.getAttribute('type');\n\t\tif (isDefAndNotNull(handler)) {\n\t\t\thandler = object.getObjectByName(handler);\n\t\t}\n\t\treturn handler;\n\t}\n\n\t/**\n\t * Maybe parse link route path.\n\t * @param {Element} link\n\t * @return {?string}\n\t */\n\tmaybeParseLinkRoutePath_(link) {\n\t\tvar path = link.getAttribute('href');\n\t\tif (isDefAndNotNull(path)) {\n\t\t\tif (path.indexOf('regex:') === 0) {\n\t\t\t\tpath = new RegExp(path.substring(6));\n\t\t\t}\n\t\t}\n\t\treturn path;\n\t}\n\n\t/**\n\t * Maybe sets app base path from `data-senna-base-path` data attribute.\n\t */\n\tmaybeSetBasePath_() {\n\t\tvar basePath = this.baseElement.getAttribute(dataAttributes.basePath);\n\t\tif (isDefAndNotNull(basePath)) {\n\t\t\tthis.app.setBasePath(basePath);\n\t\t\tconsole.log('Senna scanned base path ' + basePath);\n\t\t}\n\t}\n\n\t/**\n\t * Maybe sets app link selector from `data-senna-link-selector` data\n\t * attribute.\n\t */\n\tmaybeSetLinkSelector_() {\n\t\tvar linkSelector = this.baseElement.getAttribute(dataAttributes.linkSelector);\n\t\tif (isDefAndNotNull(linkSelector)) {\n\t\t\tthis.app.setLinkSelector(linkSelector);\n\t\t\tconsole.log('Senna scanned link selector ' + linkSelector);\n\t\t}\n\t}\n\n\t/**\n\t * Maybe sets app link loading css class from `data-senna-loading-css-class`\n\t * data attribute.\n\t */\n\tmaybeSetLoadingCssClass_() {\n\t\tvar loadingCssClass = this.baseElement.getAttribute(dataAttributes.loadingCssClass);\n\t\tif (isDefAndNotNull(loadingCssClass)) {\n\t\t\tthis.app.setLoadingCssClass(loadingCssClass);\n\t\t\tconsole.log('Senna scanned loading css class ' + loadingCssClass);\n\t\t}\n\t}\n\n\t/**\n\t * Maybe sets app update scroll position from\n\t * `data-senna-update-scroll-position` data attribute.\n\t */\n\tmaybeSetUpdateScrollPosition_() {\n\t\tvar updateScrollPosition = this.baseElement.getAttribute(dataAttributes.updateScrollPosition);\n\t\tif (isDefAndNotNull(updateScrollPosition)) {\n\t\t\tif (updateScrollPosition === 'false') {\n\t\t\t\tthis.app.setUpdateScrollPosition(false);\n\t\t\t} else {\n\t\t\t\tthis.app.setUpdateScrollPosition(true);\n\t\t\t}\n\t\t\tconsole.log('Senna scanned update scroll position ' + updateScrollPosition);\n\t\t}\n\t}\n\n\t/**\n\t * Queries elements from document and returns an array of elements.\n\t * @param {!string} selector\n\t * @return {array.<Element>}\n\t */\n\tquerySelectorAllAsArray_(selector) {\n\t\treturn Array.prototype.slice.call(globals.document.querySelectorAll(selector));\n\t}\n\n\t/**\n\t * Updates element id if handled as special surface element. Some surfaces\n\t * are slightly different from others, like when threating <code>body</code>\n\t * as surface.\n\t * @param {Element} element\n\t */\n\tupdateElementIdIfSpecialSurface_(element) {\n\t\tif (!element.id && element === globals.document.body) {\n\t\t\telement.id = 'senna_surface_' + getUid();\n\t\t}\n\t}\n\n\t/**\n\t * Sets the base element.\n\t * @param {Element} baseElement\n\t */\n\tsetBaseElement(baseElement) {\n\t\tthis.baseElement = baseElement;\n\t}\n\n}\n\nexport default AppDataAttributeHandler;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/AppDataAttributeHandler.js","'use strict';\n\nexport default {\n\tbasePath: 'data-senna-base-path',\n\tlinkSelector: 'data-senna-link-selector',\n\tloadingCssClass: 'data-senna-loading-css-class',\n\tsenna: 'data-senna',\n\tdispatch: 'data-senna-dispatch',\n\tsurface: 'data-senna-surface',\n\tupdateScrollPosition: 'data-senna-update-scroll-position'\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/dataAttributes.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.customEvents = undefined;\nexports.addClasses = addClasses;\nexports.closest = closest;\nexports.append = append;\nexports.buildFragment = buildFragment;\nexports.contains = contains;\nexports.delegate = delegate;\nexports.enterDocument = enterDocument;\nexports.exitDocument = exitDocument;\nexports.hasClass = hasClass;\nexports.isEmpty = isEmpty;\nexports.match = match;\nexports.next = next;\nexports.on = on;\nexports.once = once;\nexports.parent = parent;\nexports.registerCustomEvent = registerCustomEvent;\nexports.removeChildren = removeChildren;\nexports.removeClasses = removeClasses;\nexports.replace = replace;\nexports.supportsEvent = supportsEvent;\nexports.toElement = toElement;\nexports.toggleClasses = toggleClasses;\nexports.triggerEvent = triggerEvent;\n\nvar _metal = require('metal');\n\nvar _domData = require('./domData');\n\nvar _domData2 = _interopRequireDefault(_domData);\n\nvar _DomDelegatedEventHandle = require('./DomDelegatedEventHandle');\n\nvar _DomDelegatedEventHandle2 = _interopRequireDefault(_DomDelegatedEventHandle);\n\nvar _DomEventHandle = require('./DomEventHandle');\n\nvar _DomEventHandle2 = _interopRequireDefault(_DomEventHandle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar elementsByTag_ = {};\nvar supportCache_ = {};\nvar customEvents = exports.customEvents = {};\n\nvar LAST_CONTAINER = '__metal_last_container__';\nvar USE_CAPTURE = {\n\tblur: true,\n\terror: true,\n\tfocus: true,\n\tinvalid: true,\n\tload: true,\n\tscroll: true\n};\n\n/**\n * Adds the requested CSS classes to an element.\n * @param {!Element|!Nodelist} elements The element or elements to add CSS classes to.\n * @param {string} classes CSS classes to add.\n */\nfunction addClasses(elements, classes) {\n\tif (!(0, _metal.isObject)(elements) || !(0, _metal.isString)(classes)) {\n\t\treturn;\n\t}\n\n\tif (!elements.length) {\n\t\telements = [elements];\n\t}\n\n\tfor (var i = 0; i < elements.length; i++) {\n\t\tif ('classList' in elements[i]) {\n\t\t\taddClassesWithNative_(elements[i], classes);\n\t\t} else {\n\t\t\taddClassesWithoutNative_(elements[i], classes);\n\t\t}\n\t}\n}\n\n/**\n * Adds the requested CSS classes to an element using classList.\n * @param {!Element} element The element to add CSS classes to.\n * @param {string} classes CSS classes to add.\n * @private\n */\nfunction addClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function (className) {\n\t\tif (className) {\n\t\t\telement.classList.add(className);\n\t\t}\n\t});\n}\n\n/**\n * Adds the requested CSS classes to an element without using classList.\n * @param {!Element} element The element to add CSS classes to.\n * @param {string} classes CSS classes to add.\n * @private\n */\nfunction addClassesWithoutNative_(element, classes) {\n\tvar elementClassName = ' ' + element.className + ' ';\n\tvar classesToAppend = '';\n\n\tclasses = classes.split(' ');\n\n\tfor (var i = 0; i < classes.length; i++) {\n\t\tvar className = classes[i];\n\n\t\tif (elementClassName.indexOf(' ' + className + ' ') === -1) {\n\t\t\tclassesToAppend += ' ' + className;\n\t\t}\n\t}\n\n\tif (classesToAppend) {\n\t\telement.className = element.className + classesToAppend;\n\t}\n}\n\n/**\n * Adds an event listener to the given element, to be triggered via delegate.\n * @param {!Element} element\n * @param {string} eventName\n * @param {!function()} listener\n * @private\n */\nfunction addElementListener_(element, eventName, listener) {\n\taddToArr_(_domData2.default.get(element, 'listeners', {}), eventName, listener);\n}\n\n/**\n * Adds an event listener to the given element, to be triggered via delegate\n * selectors.\n * @param {!Element} element\n * @param {string} eventName\n * @param {string} selector\n * @param {!function()} listener\n * @private\n */\nfunction addSelectorListener_(element, eventName, selector, listener) {\n\tvar delegatingData = _domData2.default.get(element, 'delegating', {});\n\taddToArr_(delegatingData[eventName].selectors, selector, listener);\n}\n\n/**\n * Adds a value to an array inside an object, creating it first if it doesn't\n * yet exist.\n * @param {!Array} arr\n * @param {string} key\n * @param {*} value\n * @private\n */\nfunction addToArr_(arr, key, value) {\n\tif (!arr[key]) {\n\t\tarr[key] = [];\n\t}\n\tarr[key].push(value);\n}\n\n/**\n * Attaches a delegate listener, unless there's already one attached.\n * @param {!Element} element\n * @param {string} eventName\n * @private\n */\nfunction attachDelegateEvent_(element, eventName) {\n\tvar delegatingData = _domData2.default.get(element, 'delegating', {});\n\tif (!delegatingData[eventName]) {\n\t\tdelegatingData[eventName] = {\n\t\t\thandle: on(element, eventName, handleDelegateEvent_, !!USE_CAPTURE[eventName]),\n\t\t\tselectors: {}\n\t\t};\n\t}\n}\n\n/**\n * Gets the closest element up the tree from the given element (including\n * itself) that matches the specified selector, or null if none match.\n * @param {Element} element\n * @param {string} selector\n * @return {Element}\n */\nfunction closest(element, selector) {\n\twhile (element && !match(element, selector)) {\n\t\telement = element.parentNode;\n\t}\n\treturn element;\n}\n\n/**\n * Appends a child node with text or other nodes to a parent node. If\n * child is a HTML string it will be automatically converted to a document\n * fragment before appending it to the parent.\n * @param {!Element} parent The node to append nodes to.\n * @param {!(Element|NodeList|string)} child The thing to append to the parent.\n * @return {!Element} The appended child.\n */\nfunction append(parent, child) {\n\tif ((0, _metal.isString)(child)) {\n\t\tchild = buildFragment(child);\n\t}\n\tif (child instanceof NodeList) {\n\t\tvar childArr = Array.prototype.slice.call(child);\n\t\tfor (var i = 0; i < childArr.length; i++) {\n\t\t\tparent.appendChild(childArr[i]);\n\t\t}\n\t} else {\n\t\tparent.appendChild(child);\n\t}\n\treturn child;\n}\n\n/**\n * Helper for converting a HTML string into a document fragment.\n * @param {string} htmlString The HTML string to convert.\n * @return {!Element} The resulting document fragment.\n */\nfunction buildFragment(htmlString) {\n\tvar tempDiv = document.createElement('div');\n\ttempDiv.innerHTML = '<br>' + htmlString;\n\ttempDiv.removeChild(tempDiv.firstChild);\n\n\tvar fragment = document.createDocumentFragment();\n\twhile (tempDiv.firstChild) {\n\t\tfragment.appendChild(tempDiv.firstChild);\n\t}\n\treturn fragment;\n}\n\n/**\n * Checks if the first element contains the second one.\n * @param {!Element} element1\n * @param {!Element} element2\n * @return {boolean}\n */\nfunction contains(element1, element2) {\n\tif ((0, _metal.isDocument)(element1)) {\n\t\t// document.contains is not defined on IE9, so call it on documentElement instead.\n\t\treturn element1.documentElement.contains(element2);\n\t} else {\n\t\treturn element1.contains(element2);\n\t}\n}\n\n/**\n * Listens to the specified event on the given DOM element, but only calls the\n * given callback listener when it's triggered by elements that match the\n * given selector or target element.\n * @param {!Element} element The DOM element the event should be listened on.\n * @param {string} eventName The name of the event to listen to.\n * @param {!Element|string} selectorOrTarget Either an element or css selector\n *     that should match the event for the listener to be triggered.\n * @param {!function(!Object)} callback Function to be called when the event\n *     is triggered. It will receive the normalized event object.\n * @param {boolean=} opt_default Optional flag indicating if this is a default\n *     listener. That means that it would only be executed after all non\n *     default listeners, and only if the event isn't prevented via\n *     `preventDefault`.\n * @return {!EventHandle} Can be used to remove the listener.\n */\nfunction delegate(element, eventName, selectorOrTarget, callback, opt_default) {\n\tvar customConfig = customEvents[eventName];\n\tif (customConfig && customConfig.delegate) {\n\t\teventName = customConfig.originalEvent;\n\t\tcallback = customConfig.handler.bind(customConfig, callback);\n\t}\n\n\tif (opt_default) {\n\t\t// Wrap callback so we don't set property directly on it.\n\t\tcallback = callback.bind();\n\t\tcallback.defaultListener_ = true;\n\t}\n\n\tattachDelegateEvent_(element, eventName);\n\tif ((0, _metal.isString)(selectorOrTarget)) {\n\t\taddSelectorListener_(element, eventName, selectorOrTarget, callback);\n\t} else {\n\t\taddElementListener_(selectorOrTarget, eventName, callback);\n\t}\n\n\treturn new _DomDelegatedEventHandle2.default((0, _metal.isString)(selectorOrTarget) ? element : selectorOrTarget, eventName, callback, (0, _metal.isString)(selectorOrTarget) ? selectorOrTarget : null);\n}\n\n/**\n * Verifies if the element is able to trigger the Click event,\n * simulating browsers behaviour, avoiding event listeners to be called by triggerEvent method.\n * @param {Element} node Element to be checked.\n * @param {string} eventName The event name.\n * @private\n */\nfunction isAbleToInteractWith_(node, eventName, opt_eventObj) {\n\tif (opt_eventObj && eventName === 'click' && opt_eventObj.button === 2) {\n\t\t// Firefox triggers \"click\" events on the document for right clicks. This\n\t\t// causes our delegate logic to trigger it for regular elements too, which\n\t\t// shouldn't happen. Ignoring them here.\n\t\treturn false;\n\t}\n\n\tvar matchesSelector = ['BUTTON', 'INPUT', 'SELECT', 'TEXTAREA', 'FIELDSET'];\n\tif (eventName === 'click' && matchesSelector.indexOf(node.tagName) > -1) {\n\t\treturn !(node.disabled || parent(node, 'fieldset[disabled]'));\n\t}\n\treturn true;\n}\n\n/**\n * Inserts node in document as last element.\n * @param {Element} node Element to remove children from.\n */\nfunction enterDocument(node) {\n\tnode && append(document.body, node);\n}\n\n/**\n * Removes node from document.\n * @param {Element} node Element to remove children from.\n */\nfunction exitDocument(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * This is called when an event is triggered by a delegate listener. All\n * matching listeners of this event type from `target` to `currentTarget` will\n * be triggered.\n * @param {!Event} event The event payload.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction handleDelegateEvent_(event) {\n\tnormalizeDelegateEvent_(event);\n\tvar ret = true;\n\tvar container = event.currentTarget;\n\tvar defFns = [];\n\n\tret &= triggerDelegatedListeners_(container, event, defFns);\n\tret &= triggerDefaultDelegatedListeners_(defFns, event);\n\n\tevent.delegateTarget = null;\n\tevent[LAST_CONTAINER] = container;\n\treturn ret;\n}\n\n/**\n * Checks if the given element has the requested css class.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n */\nfunction hasClass(element, className) {\n\tif ('classList' in element) {\n\t\treturn hasClassWithNative_(element, className);\n\t} else {\n\t\treturn hasClassWithoutNative_(element, className);\n\t}\n}\n\n/**\n * Checks if the given element has the requested css class using classList.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n * @private\n */\nfunction hasClassWithNative_(element, className) {\n\treturn element.classList.contains(className);\n}\n\n/**\n * Checks if the given element has the requested css class without using classList.\n * @param {!Element} element\n * @param {string} className\n * @return {boolean}\n * @private\n */\nfunction hasClassWithoutNative_(element, className) {\n\treturn (' ' + element.className + ' ').indexOf(' ' + className + ' ') >= 0;\n}\n\n/**\n * Checks if the given element is empty or not.\n * @param {!Element} element\n * @return {boolean}\n */\nfunction isEmpty(element) {\n\treturn element.childNodes.length === 0;\n}\n\n/**\n * Check if an element matches a given selector.\n * @param {Element} element\n * @param {string} selector\n * @return {boolean}\n */\nfunction match(element, selector) {\n\tif (!element || element.nodeType !== 1) {\n\t\treturn false;\n\t}\n\n\tvar p = Element.prototype;\n\tvar m = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector;\n\tif (m) {\n\t\treturn m.call(element, selector);\n\t}\n\n\treturn matchFallback_(element, selector);\n}\n\n/**\n * Check if an element matches a given selector, using an internal implementation\n * instead of calling existing javascript functions.\n * @param {Element} element\n * @param {string} selector\n * @return {boolean}\n * @private\n */\nfunction matchFallback_(element, selector) {\n\tvar nodes = document.querySelectorAll(selector, element.parentNode);\n\tfor (var i = 0; i < nodes.length; ++i) {\n\t\tif (nodes[i] === element) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\n/**\n * Returns the next sibling of the given element that matches the specified\n * selector, or null if there is none.\n * @param {!Element} element\n * @param {?string} selector\n */\nfunction next(element, selector) {\n\tdo {\n\t\telement = element.nextSibling;\n\t\tif (element && match(element, selector)) {\n\t\t\treturn element;\n\t\t}\n\t} while (element);\n\treturn null;\n}\n\n/**\n * Normalizes the event payload for delegate listeners.\n * @param {!Event} event\n * @private\n */\nfunction normalizeDelegateEvent_(event) {\n\tevent.stopPropagation = stopPropagation_;\n\tevent.stopImmediatePropagation = stopImmediatePropagation_;\n}\n\n/**\n * Listens to the specified event on the given DOM element. This function normalizes\n * DOM event payloads and functions so they'll work the same way on all supported\n * browsers.\n * @param {!Element|string} element The DOM element to listen to the event on, or\n *   a selector that should be delegated on the entire document.\n * @param {string} eventName The name of the event to listen to.\n * @param {!function(!Object)} callback Function to be called when the event is\n *   triggered. It will receive the normalized event object.\n * @param {boolean} opt_capture Flag indicating if listener should be triggered\n *   during capture phase, instead of during the bubbling phase. Defaults to false.\n * @return {!DomEventHandle} Can be used to remove the listener.\n */\nfunction on(element, eventName, callback, opt_capture) {\n\tif ((0, _metal.isString)(element)) {\n\t\treturn delegate(document, eventName, element, callback);\n\t}\n\tvar customConfig = customEvents[eventName];\n\tif (customConfig && customConfig.event) {\n\t\teventName = customConfig.originalEvent;\n\t\tcallback = customConfig.handler.bind(customConfig, callback);\n\t}\n\telement.addEventListener(eventName, callback, opt_capture);\n\treturn new _DomEventHandle2.default(element, eventName, callback, opt_capture);\n}\n\n/**\n * Listens to the specified event on the given DOM element once. This\n * function normalizes DOM event payloads and functions so they'll work the\n * same way on all supported browsers.\n * @param {!Element} element The DOM element to listen to the event on.\n * @param {string} eventName The name of the event to listen to.\n * @param {!function(!Object)} callback Function to be called when the event\n *   is triggered. It will receive the normalized event object.\n * @return {!DomEventHandle} Can be used to remove the listener.\n */\nfunction once(element, eventName, callback) {\n\tvar domEventHandle = on(element, eventName, function () {\n\t\tdomEventHandle.removeListener();\n\t\treturn callback.apply(this, arguments);\n\t});\n\treturn domEventHandle;\n}\n\n/**\n * Gets the first parent from the given element that matches the specified\n * selector, or null if none match.\n * @param {!Element} element\n * @param {string} selector\n * @return {Element}\n */\nfunction parent(element, selector) {\n\treturn closest(element.parentNode, selector);\n}\n\n/**\n * Registers a custom event.\n * @param {string} eventName The name of the custom event.\n * @param {!Object} customConfig An object with information about how the event\n *   should be handled.\n */\nfunction registerCustomEvent(eventName, customConfig) {\n\tcustomEvents[eventName] = customConfig;\n}\n\n/**\n * Removes all the child nodes on a DOM node.\n * @param {Element} node Element to remove children from.\n */\nfunction removeChildren(node) {\n\tvar child = void 0;\n\twhile (child = node.firstChild) {\n\t\tnode.removeChild(child);\n\t}\n}\n\n/**\n * Removes the requested CSS classes from an element.\n * @param {!Element|!NodeList} elements The element or elements to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n */\nfunction removeClasses(elements, classes) {\n\tif (!(0, _metal.isObject)(elements) || !(0, _metal.isString)(classes)) {\n\t\treturn;\n\t}\n\n\tif (!elements.length) {\n\t\telements = [elements];\n\t}\n\n\tfor (var i = 0; i < elements.length; i++) {\n\t\tif ('classList' in elements[i]) {\n\t\t\tremoveClassesWithNative_(elements[i], classes);\n\t\t} else {\n\t\t\tremoveClassesWithoutNative_(elements[i], classes);\n\t\t}\n\t}\n}\n\n/**\n * Removes the requested CSS classes from an element using classList.\n * @param {!Element} element The element to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n * @private\n */\nfunction removeClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function (className) {\n\t\tif (className) {\n\t\t\telement.classList.remove(className);\n\t\t}\n\t});\n}\n\n/**\n * Removes the requested CSS classes from an element without using classList.\n * @param {!Element} element The element to remove CSS classes from.\n * @param {string} classes CSS classes to remove.\n * @private\n */\nfunction removeClassesWithoutNative_(element, classes) {\n\tvar elementClassName = ' ' + element.className + ' ';\n\n\tclasses = classes.split(' ');\n\n\tfor (var i = 0; i < classes.length; i++) {\n\t\telementClassName = elementClassName.replace(' ' + classes[i] + ' ', ' ');\n\t}\n\n\telement.className = elementClassName.trim();\n}\n\n/**\n * Replaces the first element with the second.\n * @param {Element} element1\n * @param {Element} element2\n */\nfunction replace(element1, element2) {\n\tif (element1 && element2 && element1 !== element2 && element1.parentNode) {\n\t\telement1.parentNode.insertBefore(element2, element1);\n\t\telement1.parentNode.removeChild(element1);\n\t}\n}\n\n/**\n * The function that replaces `stopImmediatePropagation_` for events.\n * @private\n */\nfunction stopImmediatePropagation_() {\n\tvar event = this; // eslint-disable-line\n\tevent.stopped = true;\n\tevent.stoppedImmediate = true;\n\tEvent.prototype.stopImmediatePropagation.call(event);\n}\n\n/**\n * The function that replaces `stopPropagation` for events.\n * @private\n */\nfunction stopPropagation_() {\n\tvar event = this; // eslint-disable-line\n\tevent.stopped = true;\n\tEvent.prototype.stopPropagation.call(event);\n}\n\n/**\n * Checks if the given element supports the given event type.\n * @param {!Element|string} element The DOM element or element tag name to check.\n * @param {string} eventName The name of the event to check.\n * @return {boolean}\n */\nfunction supportsEvent(element, eventName) {\n\tif (customEvents[eventName]) {\n\t\treturn true;\n\t}\n\n\tif ((0, _metal.isString)(element)) {\n\t\tif (!elementsByTag_[element]) {\n\t\t\telementsByTag_[element] = document.createElement(element);\n\t\t}\n\t\telement = elementsByTag_[element];\n\t}\n\n\tvar tag = element.tagName;\n\tif (!supportCache_[tag] || !supportCache_[tag].hasOwnProperty(eventName)) {\n\t\tsupportCache_[tag] = supportCache_[tag] || {};\n\t\tsupportCache_[tag][eventName] = 'on' + eventName in element;\n\t}\n\treturn supportCache_[tag][eventName];\n}\n\n/**\n * This triggers all default matched delegated listeners of a given event type.\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n * @param {!Event} event\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerDefaultDelegatedListeners_(defFns, event) {\n\tvar ret = true;\n\n\tfor (var i = 0; i < defFns.length && !event.defaultPrevented; i++) {\n\t\tevent.delegateTarget = defFns[i].element;\n\t\tret &= defFns[i].fn(event);\n\t}\n\n\treturn ret;\n}\n\n/**\n * This triggers all matched delegated listeners of a given event type when its\n * delegated target is able to interact.\n * @param {!Element} container\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerDelegatedListeners_(container, event, defaultFns) {\n\tvar ret = true;\n\tvar currElement = event.target;\n\tvar limit = container.parentNode;\n\n\twhile (currElement && currElement !== limit && !event.stopped) {\n\t\tif (isAbleToInteractWith_(currElement, event.type, event)) {\n\t\t\tevent.delegateTarget = currElement;\n\t\t\tret &= triggerElementListeners_(currElement, event, defaultFns);\n\t\t\tret &= triggerSelectorListeners_(container, currElement, event, defaultFns);\n\t\t}\n\t\tcurrElement = currElement.parentNode;\n\t}\n\n\treturn ret;\n}\n\n/**\n * Converts the given argument to a DOM element. Strings are assumed to\n * be selectors, and so a matched element will be returned. If the arg\n * is already a DOM element it will be the return value.\n * @param {string|Element|Document} selectorOrElement\n * @return {Element} The converted element, or null if none was found.\n */\nfunction toElement(selectorOrElement) {\n\tif ((0, _metal.isElement)(selectorOrElement) || (0, _metal.isDocument)(selectorOrElement) || (0, _metal.isDocumentFragment)(selectorOrElement)) {\n\t\treturn selectorOrElement;\n\t} else if ((0, _metal.isString)(selectorOrElement)) {\n\t\tif (selectorOrElement[0] === '#' && selectorOrElement.indexOf(' ') === -1) {\n\t\t\treturn document.getElementById(selectorOrElement.substr(1));\n\t\t} else {\n\t\t\treturn document.querySelector(selectorOrElement);\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n}\n\n/**\n * Adds or removes one or more classes from an element. If any of the classes\n * is present, it will be removed from the element, or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n */\nfunction toggleClasses(element, classes) {\n\tif (!(0, _metal.isObject)(element) || !(0, _metal.isString)(classes)) {\n\t\treturn;\n\t}\n\n\tif ('classList' in element) {\n\t\ttoggleClassesWithNative_(element, classes);\n\t} else {\n\t\ttoggleClassesWithoutNative_(element, classes);\n\t}\n}\n\n/**\n * Adds or removes one or more classes from an element using classList.\n * If any of the classes is present, it will be removed from the element,\n * or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n * @private\n */\nfunction toggleClassesWithNative_(element, classes) {\n\tclasses.split(' ').forEach(function (className) {\n\t\telement.classList.toggle(className);\n\t});\n}\n\n/**\n * Adds or removes one or more classes from an element without using classList.\n * If any of the classes is present, it will be removed from the element,\n * or added otherwise.\n * @param {!Element} element The element which classes will be toggled.\n * @param {string} classes The classes which have to added or removed from the element.\n * @private\n */\nfunction toggleClassesWithoutNative_(element, classes) {\n\tvar elementClassName = ' ' + element.className + ' ';\n\n\tclasses = classes.split(' ');\n\n\tfor (var i = 0; i < classes.length; i++) {\n\t\tvar className = ' ' + classes[i] + ' ';\n\t\tvar classIndex = elementClassName.indexOf(className);\n\n\t\tif (classIndex === -1) {\n\t\t\telementClassName = '' + elementClassName + classes[i] + ' ';\n\t\t} else {\n\t\t\tvar before = elementClassName.substring(0, classIndex);\n\t\t\tvar after = elementClassName.substring(classIndex + className.length);\n\t\t\telementClassName = before + ' ' + after;\n\t\t}\n\t}\n\n\telement.className = elementClassName.trim();\n}\n\n/**\n * Triggers all listeners for the given event type that are stored in the\n * specified element.\n * @param {!Element} element\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerElementListeners_(element, event, defaultFns) {\n\tvar lastContainer = event[LAST_CONTAINER];\n\tif (!(0, _metal.isDef)(lastContainer) || !contains(lastContainer, element)) {\n\t\tvar listeners = _domData2.default.get(element, 'listeners', {})[event.type];\n\t\treturn triggerListeners_(listeners, event, element, defaultFns);\n\t}\n\treturn true;\n}\n\n/**\n * Triggers the specified event on the given element.\n * NOTE: This should mostly be used for testing, not on real code.\n * @param {!Element} element The node that should trigger the event.\n * @param {string} eventName The name of the event to be triggred.\n * @param {Object=} opt_eventObj An object with data that should be on the\n *   triggered event's payload.\n */\nfunction triggerEvent(element, eventName, opt_eventObj) {\n\tif (isAbleToInteractWith_(element, eventName, opt_eventObj)) {\n\t\tvar eventObj = document.createEvent('HTMLEvents');\n\t\teventObj.initEvent(eventName, true, true);\n\t\t_metal.object.mixin(eventObj, opt_eventObj);\n\t\telement.dispatchEvent(eventObj);\n\t}\n}\n\n/**\n * Triggers the given listeners array.\n * @param {Array<!function()>} listeners\n * @param {!Event} event\n * @param {!Element} element\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerListeners_(listeners, event, element, defaultFns) {\n\tvar ret = true;\n\tlisteners = listeners || [];\n\tfor (var i = 0; i < listeners.length && !event.stoppedImmediate; i++) {\n\t\tif (listeners[i].defaultListener_) {\n\t\t\tdefaultFns.push({\n\t\t\t\telement: element,\n\t\t\t\tfn: listeners[i]\n\t\t\t});\n\t\t} else {\n\t\t\tret &= listeners[i](event);\n\t\t}\n\t}\n\treturn ret;\n}\n\n/**\n * Triggers all selector listeners for the given event.\n * @param {!Element} container\n * @param {!Element} element\n * @param {!Event} event\n * @param {!Array} defaultFns Array to collect default listeners in, instead\n *     of running them.\n * @return {boolean} False if at least one of the triggered callbacks returns\n *     false, or true otherwise.\n * @private\n */\nfunction triggerSelectorListeners_(container, element, event, defaultFns) {\n\tvar ret = true;\n\tvar data = _domData2.default.get(container, 'delegating', {});\n\tvar map = data[event.type].selectors;\n\tvar selectors = Object.keys(map);\n\tfor (var i = 0; i < selectors.length && !event.stoppedImmediate; i++) {\n\t\tif (match(element, selectors[i])) {\n\t\t\tvar listeners = map[selectors[i]];\n\t\t\tret &= triggerListeners_(listeners, event, element, defaultFns);\n\t\t}\n\t}\n\treturn ret;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/domNamed.js\n// module id = 38\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metal = require('metal');\n\nvar _domData = require('./domData');\n\nvar _domData2 = _interopRequireDefault(_domData);\n\nvar _metalEvents = require('metal-events');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * This is a special EventHandle, that is responsible for dom delegated events\n * (only the ones that receive a target element, not a selector string).\n * @extends {EventHandle}\n */\nvar DomDelegatedEventHandle = function (_EventHandle) {\n\t_inherits(DomDelegatedEventHandle, _EventHandle);\n\n\t/**\n  * The constructor for `DomDelegatedEventHandle`.\n  * @param {!Event} emitter Element the event was subscribed to.\n  * @param {string} event The name of the event that was subscribed to.\n  * @param {!Function} listener The listener subscribed to the event.\n  * @param {string=} opt_selector An optional selector used when delegating\n  *     the event.\n  * @constructor\n  */\n\tfunction DomDelegatedEventHandle(emitter, event, listener, opt_selector) {\n\t\t_classCallCheck(this, DomDelegatedEventHandle);\n\n\t\tvar _this = _possibleConstructorReturn(this, (DomDelegatedEventHandle.__proto__ || Object.getPrototypeOf(DomDelegatedEventHandle)).call(this, emitter, event, listener));\n\n\t\t_this.selector_ = opt_selector;\n\t\treturn _this;\n\t}\n\n\t/**\n  * @inheritDoc\n  */\n\n\n\t_createClass(DomDelegatedEventHandle, [{\n\t\tkey: 'removeListener',\n\t\tvalue: function removeListener() {\n\t\t\tvar delegating = _domData2.default.get(this.emitter_, 'delegating', {});\n\t\t\tvar listeners = _domData2.default.get(this.emitter_, 'listeners', {});\n\t\t\tvar selector = this.selector_;\n\t\t\tvar arr = (0, _metal.isString)(selector) ? delegating[this.event_].selectors : listeners;\n\t\t\tvar key = (0, _metal.isString)(selector) ? selector : this.event_;\n\n\t\t\t_metal.array.remove(arr[key] || [], this.listener_);\n\t\t\tif (arr[key] && arr[key].length === 0) {\n\t\t\t\tdelete arr[key];\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn DomDelegatedEventHandle;\n}(_metalEvents.EventHandle);\n\nexports.default = DomDelegatedEventHandle;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/DomDelegatedEventHandle.js\n// module id = 39\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metal = require('metal');\n\nvar _EventHandle = require('./EventHandle');\n\nvar _EventHandle2 = _interopRequireDefault(_EventHandle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar singleArray_ = [0];\n\n/**\n * EventEmitter utility.\n * @constructor\n * @extends {Disposable}\n */\n\nvar EventEmitter = function (_Disposable) {\n\t_inherits(EventEmitter, _Disposable);\n\n\tfunction EventEmitter() {\n\t\t_classCallCheck(this, EventEmitter);\n\n\t\t/**\n   * Holds event listeners scoped by event type.\n   * @type {Object<string, !Array<!function()>>}\n   * @protected\n   */\n\t\tvar _this = _possibleConstructorReturn(this, (EventEmitter.__proto__ || Object.getPrototypeOf(EventEmitter)).call(this));\n\n\t\t_this.events_ = null;\n\n\t\t/**\n   * Handlers that are triggered when an event is listened to.\n   * @type {Array}\n   */\n\t\t_this.listenerHandlers_ = null;\n\n\t\t/**\n   * Configuration option which determines if an event facade should be sent\n   * as a param of listeners when emitting events. If set to true, the facade\n   * will be passed as the first argument of the listener.\n   * @type {boolean}\n   * @protected\n   */\n\t\t_this.shouldUseFacade_ = false;\n\t\treturn _this;\n\t}\n\n\t/**\n  * Adds a handler to given holder variable. If the holder doesn't have a\n  * value yet, it will receive the handler directly. If the holder is an array,\n  * the value will just be added to it. Otherwise, the holder will be set to a\n  * new array containing its previous value plus the new handler.\n  * @param {*} holder\n  * @param {!function()|Object} handler\n  * @return {*} The holder's new value.\n  * @protected\n  */\n\n\n\t_createClass(EventEmitter, [{\n\t\tkey: 'addHandler_',\n\t\tvalue: function addHandler_(holder, handler) {\n\t\t\tif (!holder) {\n\t\t\t\tholder = handler;\n\t\t\t} else {\n\t\t\t\tif (!Array.isArray(holder)) {\n\t\t\t\t\tholder = [holder];\n\t\t\t\t}\n\t\t\t\tholder.push(handler);\n\t\t\t}\n\t\t\treturn holder;\n\t\t}\n\n\t\t/**\n   * Adds a listener to the end of the listeners array for the specified events.\n   * @param {!(Array|string)} event\n   * @param {!Function} listener\n   * @param {boolean} opt_default Flag indicating if this listener is a default\n   *   action for this event. Default actions are run last, and only if no previous\n   *   listener call `preventDefault()` on the received event facade.\n   * @return {!EventHandle} Can be used to remove the listener.\n   */\n\n\t}, {\n\t\tkey: 'addListener',\n\t\tvalue: function addListener(event, listener, opt_default) {\n\t\t\tthis.validateListener_(listener);\n\n\t\t\tvar events = this.toEventsArray_(event);\n\t\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\t\tthis.addSingleListener_(events[i], listener, opt_default);\n\t\t\t}\n\n\t\t\treturn new _EventHandle2.default(this, event, listener);\n\t\t}\n\n\t\t/**\n   * Adds a listener to the end of the listeners array for a single event.\n   * @param {string} event\n   * @param {!Function} listener\n   * @param {boolean} opt_default Flag indicating if this listener is a default\n   *   action for this event. Default actions are run last, and only if no previous\n   *   listener call `preventDefault()` on the received event facade.\n   * @return {!EventHandle} Can be used to remove the listener.\n   * @param {Function=} opt_origin The original function that was added as a\n   *   listener, if there is any.\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'addSingleListener_',\n\t\tvalue: function addSingleListener_(event, listener, opt_default, opt_origin) {\n\t\t\tthis.runListenerHandlers_(event);\n\t\t\tif (opt_default || opt_origin) {\n\t\t\t\tlistener = {\n\t\t\t\t\tdefault: opt_default,\n\t\t\t\t\tfn: listener,\n\t\t\t\t\torigin: opt_origin\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.events_ = this.events_ || {};\n\t\t\tthis.events_[event] = this.addHandler_(this.events_[event], listener);\n\t\t}\n\n\t\t/**\n   * Builds facade for the given event.\n   * @param {string} event\n   * @return {Object}\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'buildFacade_',\n\t\tvalue: function buildFacade_(event) {\n\t\t\tif (this.getShouldUseFacade()) {\n\t\t\t\tvar facade = {\n\t\t\t\t\tpreventDefault: function preventDefault() {\n\t\t\t\t\t\tfacade.preventedDefault = true;\n\t\t\t\t\t},\n\t\t\t\t\ttarget: this,\n\t\t\t\t\ttype: event\n\t\t\t\t};\n\t\t\t\treturn facade;\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Disposes of this instance's object references.\n   * @override\n   */\n\n\t}, {\n\t\tkey: 'disposeInternal',\n\t\tvalue: function disposeInternal() {\n\t\t\tthis.events_ = null;\n\t\t}\n\n\t\t/**\n   * Execute each of the listeners in order with the supplied arguments.\n   * @param {string} event\n   * @param {*} opt_args [arg1], [arg2], [...]\n   * @return {boolean} Returns true if event had listeners, false otherwise.\n   */\n\n\t}, {\n\t\tkey: 'emit',\n\t\tvalue: function emit(event) {\n\t\t\tvar listeners = this.getRawListeners_(event);\n\t\t\tif (listeners.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar args = _metal.array.slice(arguments, 1);\n\t\t\tthis.runListeners_(listeners, args, this.buildFacade_(event));\n\t\t\treturn true;\n\t\t}\n\n\t\t/**\n   * Gets the listener objects for the given event, if there are any.\n   * @param {string} event\n   * @return {!Array}\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'getRawListeners_',\n\t\tvalue: function getRawListeners_(event) {\n\t\t\tvar directListeners = toArray(this.events_ && this.events_[event]);\n\t\t\treturn directListeners.concat(toArray(this.events_ && this.events_['*']));\n\t\t}\n\n\t\t/**\n   * Gets the configuration option which determines if an event facade should\n   * be sent as a param of listeners when emitting events. If set to true, the\n   * facade will be passed as the first argument of the listener.\n   * @return {boolean}\n   */\n\n\t}, {\n\t\tkey: 'getShouldUseFacade',\n\t\tvalue: function getShouldUseFacade() {\n\t\t\treturn this.shouldUseFacade_;\n\t\t}\n\n\t\t/**\n   * Returns an array of listeners for the specified event.\n   * @param {string} event\n   * @return {Array} Array of listeners.\n   */\n\n\t}, {\n\t\tkey: 'listeners',\n\t\tvalue: function listeners(event) {\n\t\t\treturn this.getRawListeners_(event).map(function (listener) {\n\t\t\t\treturn listener.fn ? listener.fn : listener;\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * Adds a listener that will be invoked a fixed number of times for the\n   * events. After each event is triggered the specified amount of times, the\n   * listener is removed for it.\n   * @param {!(Array|string)} event\n   * @param {number} amount The amount of times this event should be listened\n   * to.\n   * @param {!Function} listener\n   * @return {!EventHandle} Can be used to remove the listener.\n   */\n\n\t}, {\n\t\tkey: 'many',\n\t\tvalue: function many(event, amount, listener) {\n\t\t\tvar events = this.toEventsArray_(event);\n\t\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\t\tthis.many_(events[i], amount, listener);\n\t\t\t}\n\n\t\t\treturn new _EventHandle2.default(this, event, listener);\n\t\t}\n\n\t\t/**\n   * Adds a listener that will be invoked a fixed number of times for a single\n   * event. After the event is triggered the specified amount of times, the\n   * listener is removed.\n   * @param {string} event\n   * @param {number} amount The amount of times this event should be listened\n   * to.\n   * @param {!Function} listener\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'many_',\n\t\tvalue: function many_(event, amount, listener) {\n\t\t\tvar self = this;\n\n\t\t\tif (amount <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction handlerInternal() {\n\t\t\t\tif (--amount === 0) {\n\t\t\t\t\tself.removeListener(event, handlerInternal);\n\t\t\t\t}\n\t\t\t\tlistener.apply(self, arguments);\n\t\t\t}\n\n\t\t\tself.addSingleListener_(event, handlerInternal, false, listener);\n\t\t}\n\n\t\t/**\n   * Checks if a listener object matches the given listener function. To match,\n   * it needs to either point to that listener or have it as its origin.\n   * @param {!Object} listenerObj\n   * @param {!Function} listener\n   * @return {boolean}\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'matchesListener_',\n\t\tvalue: function matchesListener_(listenerObj, listener) {\n\t\t\tvar fn = listenerObj.fn || listenerObj;\n\t\t\treturn fn === listener || listenerObj.origin && listenerObj.origin === listener;\n\t\t}\n\n\t\t/**\n   * Removes a listener for the specified events.\n   * Caution: changes array indices in the listener array behind the listener.\n   * @param {!(Array|string)} events\n   * @param {!Function} listener\n   * @return {!Object} Returns emitter, so calls can be chained.\n   */\n\n\t}, {\n\t\tkey: 'off',\n\t\tvalue: function off(event, listener) {\n\t\t\tthis.validateListener_(listener);\n\t\t\tif (!this.events_) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tvar events = this.toEventsArray_(event);\n\t\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\t\tthis.events_[events[i]] = this.removeMatchingListenerObjs_(toArray(this.events_[events[i]]), listener);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Adds a listener to the end of the listeners array for the specified events.\n   * @param {!(Array|string)} events\n   * @param {!Function} listener\n   * @return {!EventHandle} Can be used to remove the listener.\n   */\n\n\t}, {\n\t\tkey: 'on',\n\t\tvalue: function on() {\n\t\t\treturn this.addListener.apply(this, arguments);\n\t\t}\n\n\t\t/**\n   * Adds handler that gets triggered when an event is listened to on this\n   * instance.\n   * @param {!function()}\n   */\n\n\t}, {\n\t\tkey: 'onListener',\n\t\tvalue: function onListener(handler) {\n\t\t\tthis.listenerHandlers_ = this.addHandler_(this.listenerHandlers_, handler);\n\t\t}\n\n\t\t/**\n   * Adds a one time listener for the events. This listener is invoked only the\n   * next time each event is fired, after which it is removed.\n   * @param {!(Array|string)} events\n   * @param {!Function} listener\n   * @return {!EventHandle} Can be used to remove the listener.\n   */\n\n\t}, {\n\t\tkey: 'once',\n\t\tvalue: function once(events, listener) {\n\t\t\treturn this.many(events, 1, listener);\n\t\t}\n\n\t\t/**\n   * Removes all listeners, or those of the specified events. It's not a good\n   * idea to remove listeners that were added elsewhere in the code,\n   * especially when it's on an emitter that you didn't create.\n   * @param {(Array|string)=} opt_events\n   * @return {!Object} Returns emitter, so calls can be chained.\n   */\n\n\t}, {\n\t\tkey: 'removeAllListeners',\n\t\tvalue: function removeAllListeners(opt_events) {\n\t\t\tif (this.events_) {\n\t\t\t\tif (opt_events) {\n\t\t\t\t\tvar events = this.toEventsArray_(opt_events);\n\t\t\t\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\t\t\t\tthis.events_[events[i]] = null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.events_ = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Removes all listener objects from the given array that match the given\n   * listener function.\n   * @param {Array.<Object>} listenerObjs\n   * @param {!Function} listener\n   * @return {Array.<Object>|Object} The new listeners array for this event.\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'removeMatchingListenerObjs_',\n\t\tvalue: function removeMatchingListenerObjs_(listenerObjs, listener) {\n\t\t\tvar finalListeners = [];\n\t\t\tfor (var i = 0; i < listenerObjs.length; i++) {\n\t\t\t\tif (!this.matchesListener_(listenerObjs[i], listener)) {\n\t\t\t\t\tfinalListeners.push(listenerObjs[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn finalListeners.length > 0 ? finalListeners : null;\n\t\t}\n\n\t\t/**\n   * Removes a listener for the specified events.\n   * Caution: changes array indices in the listener array behind the listener.\n   * @param {!(Array|string)} events\n   * @param {!Function} listener\n   * @return {!Object} Returns emitter, so calls can be chained.\n   */\n\n\t}, {\n\t\tkey: 'removeListener',\n\t\tvalue: function removeListener() {\n\t\t\treturn this.off.apply(this, arguments);\n\t\t}\n\n\t\t/**\n   * Runs the handlers when an event is listened to.\n   * @param {string} event\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'runListenerHandlers_',\n\t\tvalue: function runListenerHandlers_(event) {\n\t\t\tvar handlers = this.listenerHandlers_;\n\t\t\tif (handlers) {\n\t\t\t\thandlers = toArray(handlers);\n\t\t\t\tfor (var i = 0; i < handlers.length; i++) {\n\t\t\t\t\thandlers[i](event);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Runs the given listeners.\n   * @param {!Array} listeners\n   * @param {!Array} args\n   * @param (Object) facade\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'runListeners_',\n\t\tvalue: function runListeners_(listeners, args, facade) {\n\t\t\tif (facade) {\n\t\t\t\targs.push(facade);\n\t\t\t}\n\n\t\t\tvar defaultListeners = [];\n\t\t\tfor (var i = 0; i < listeners.length; i++) {\n\t\t\t\tvar listener = listeners[i].fn || listeners[i];\n\t\t\t\tif (listeners[i].default) {\n\t\t\t\t\tdefaultListeners.push(listener);\n\t\t\t\t} else {\n\t\t\t\t\tlistener.apply(this, args);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!facade || !facade.preventedDefault) {\n\t\t\t\tfor (var j = 0; j < defaultListeners.length; j++) {\n\t\t\t\t\tdefaultListeners[j].apply(this, args);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Sets the configuration option which determines if an event facade should\n   * be sent as a param of listeners when emitting events. If set to true, the\n   * facade will be passed as the first argument of the listener.\n   * @param {boolean} shouldUseFacade\n   * @return {!Object} Returns emitter, so calls can be chained.\n   */\n\n\t}, {\n\t\tkey: 'setShouldUseFacade',\n\t\tvalue: function setShouldUseFacade(shouldUseFacade) {\n\t\t\tthis.shouldUseFacade_ = shouldUseFacade;\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n   * Converts the parameter to an array if only one event is given. Reuses the\n   * same array each time this conversion is done, to avoid using more memory\n   * than necessary.\n   * @param  {!(Array|string)} events\n   * @return {!Array}\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'toEventsArray_',\n\t\tvalue: function toEventsArray_(events) {\n\t\t\tif ((0, _metal.isString)(events)) {\n\t\t\t\tsingleArray_[0] = events;\n\t\t\t\tevents = singleArray_;\n\t\t\t}\n\t\t\treturn events;\n\t\t}\n\n\t\t/**\n   * Checks if the given listener is valid, throwing an exception when it's not.\n   * @param  {*} listener\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'validateListener_',\n\t\tvalue: function validateListener_(listener) {\n\t\t\tif (!(0, _metal.isFunction)(listener)) {\n\t\t\t\tthrow new TypeError('Listener must be a function');\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn EventEmitter;\n}(_metal.Disposable);\n\nfunction toArray(val) {\n\tval = val || [];\n\treturn Array.isArray(val) ? val : [val];\n}\n\nexports.default = EventEmitter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-events/lib/EventEmitter.js\n// module id = 40\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metal = require('metal');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * EventEmitterProxy utility. It's responsible for linking two EventEmitter\n * instances together, emitting events from the first emitter through the\n * second one. That means that listening to a supported event on the target\n * emitter will mean listening to it on the origin emitter as well.\n * @param {EventEmitter} originEmitter Events originated on this emitter\n *   will be fired for the target emitter's listeners as well.\n * @param {EventEmitter} targetEmitter Event listeners attached to this emitter\n *   will also be triggered when the event is fired by the origin emitter.\n * @param {Object} opt_blacklist Optional blacklist of events that should not be\n *   proxied.\n * @constructor\n * @extends {Disposable}\n */\nvar EventEmitterProxy = function (_Disposable) {\n\t_inherits(EventEmitterProxy, _Disposable);\n\n\tfunction EventEmitterProxy(originEmitter, targetEmitter, opt_blacklist, opt_whitelist) {\n\t\t_classCallCheck(this, EventEmitterProxy);\n\n\t\t/**\n   * Map of events that should not be proxied.\n   * @type {Object}\n   * @protected\n   */\n\t\tvar _this = _possibleConstructorReturn(this, (EventEmitterProxy.__proto__ || Object.getPrototypeOf(EventEmitterProxy)).call(this));\n\n\t\t_this.blacklist_ = opt_blacklist;\n\n\t\t/**\n   * The origin emitter. This emitter's events will be proxied through the\n   * target emitter.\n   * @type {EventEmitter}\n   * @protected\n   */\n\t\t_this.originEmitter_ = originEmitter;\n\n\t\t/**\n   * A list of events that are pending to be listened by an actual origin\n   * emitter. Events are stored here when the origin doesn't exist, so they\n   * can be set on a new origin when one is set.\n   * @type {Array}\n   * @protected\n   */\n\t\t_this.pendingEvents_ = null;\n\n\t\t/**\n   * Holds a map of events from the origin emitter that are already being proxied.\n   * @type {Object<string, !EventHandle>}\n   * @protected\n   */\n\t\t_this.proxiedEvents_ = null;\n\n\t\t/**\n   * The target emitter. This emitter will emit all events that come from\n   * the origin emitter.\n   * @type {EventEmitter}\n   * @protected\n   */\n\t\t_this.targetEmitter_ = targetEmitter;\n\n\t\t/**\n   * Map of events that should be proxied. If whitelist is set blacklist is ignored.\n   * @type {Object}\n   * @protected\n   */\n\t\t_this.whitelist_ = opt_whitelist;\n\n\t\t_this.startProxy_();\n\t\treturn _this;\n\t}\n\n\t/**\n  * Adds the given listener for the given event.\n  * @param {string} event\n  * @param {!function()} listener\n  * @return {!EventHandle} The listened event's handle.\n  * @protected\n  */\n\n\n\t_createClass(EventEmitterProxy, [{\n\t\tkey: 'addListener_',\n\t\tvalue: function addListener_(event, listener) {\n\t\t\treturn this.originEmitter_.on(event, listener);\n\t\t}\n\n\t\t/**\n   * @inheritDoc\n   */\n\n\t}, {\n\t\tkey: 'disposeInternal',\n\t\tvalue: function disposeInternal() {\n\t\t\tthis.removeListeners_();\n\t\t\tthis.proxiedEvents_ = null;\n\t\t\tthis.originEmitter_ = null;\n\t\t\tthis.targetEmitter_ = null;\n\t\t}\n\n\t\t/**\n   * Emits the specified event type on the target emitter.\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'emitOnTarget_',\n\t\tvalue: function emitOnTarget_() {\n\t\t\tthis.targetEmitter_.emit.apply(this.targetEmitter_, arguments);\n\t\t}\n\n\t\t/**\n   * Proxies the given event from the origin to the target emitter.\n   * @param {string} event\n   */\n\n\t}, {\n\t\tkey: 'proxyEvent',\n\t\tvalue: function proxyEvent(event) {\n\t\t\tif (this.shouldProxyEvent_(event)) {\n\t\t\t\tthis.tryToAddListener_(event);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Removes the proxy listener for all events.\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'removeListeners_',\n\t\tvalue: function removeListeners_() {\n\t\t\tif (this.proxiedEvents_) {\n\t\t\t\tvar events = Object.keys(this.proxiedEvents_);\n\t\t\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\t\t\tthis.proxiedEvents_[events[i]].removeListener();\n\t\t\t\t}\n\t\t\t\tthis.proxiedEvents_ = null;\n\t\t\t}\n\t\t\tthis.pendingEvents_ = null;\n\t\t}\n\n\t\t/**\n   * Changes the origin emitter. This automatically detaches any events that\n   * were already being proxied from the previous emitter, and starts proxying\n   * them on the new emitter instead.\n   * @param {!EventEmitter} originEmitter\n   */\n\n\t}, {\n\t\tkey: 'setOriginEmitter',\n\t\tvalue: function setOriginEmitter(originEmitter) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar events = this.originEmitter_ && this.proxiedEvents_ ? Object.keys(this.proxiedEvents_) : this.pendingEvents_;\n\t\t\tthis.originEmitter_ = originEmitter;\n\t\t\tif (events) {\n\t\t\t\tthis.removeListeners_();\n\t\t\t\tevents.forEach(function (event) {\n\t\t\t\t\treturn _this2.proxyEvent(event);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Checks if the given event should be proxied.\n   * @param {string} event\n   * @return {boolean}\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'shouldProxyEvent_',\n\t\tvalue: function shouldProxyEvent_(event) {\n\t\t\tif (this.whitelist_ && !this.whitelist_[event]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.blacklist_ && this.blacklist_[event]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !this.proxiedEvents_ || !this.proxiedEvents_[event];\n\t\t}\n\n\t\t/**\n   * Starts proxying all events from the origin to the target emitter.\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'startProxy_',\n\t\tvalue: function startProxy_() {\n\t\t\tthis.targetEmitter_.onListener(this.proxyEvent.bind(this));\n\t\t}\n\n\t\t/**\n   * Adds a listener to the origin emitter, if it exists. Otherwise, stores\n   * the pending listener so it can be used on a future origin emitter.\n   * @param {string} event\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'tryToAddListener_',\n\t\tvalue: function tryToAddListener_(event) {\n\t\t\tif (this.originEmitter_) {\n\t\t\t\tthis.proxiedEvents_ = this.proxiedEvents_ || {};\n\t\t\t\tthis.proxiedEvents_[event] = this.addListener_(event, this.emitOnTarget_.bind(this, event));\n\t\t\t} else {\n\t\t\t\tthis.pendingEvents_ = this.pendingEvents_ || [];\n\t\t\t\tthis.pendingEvents_.push(event);\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn EventEmitterProxy;\n}(_metal.Disposable);\n\nexports.default = EventEmitterProxy;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-events/lib/EventEmitterProxy.js\n// module id = 41\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metal = require('metal');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * EventHandler utility. It's useful for easily removing a group of\n * listeners from different EventEmitter instances.\n * @constructor\n * @extends {Disposable}\n */\nvar EventHandler = function (_Disposable) {\n\t_inherits(EventHandler, _Disposable);\n\n\tfunction EventHandler() {\n\t\t_classCallCheck(this, EventHandler);\n\n\t\t/**\n   * An array that holds the added event handles, so the listeners can be\n   * removed later.\n   * @type {Array.<EventHandle>}\n   * @protected\n   */\n\t\tvar _this = _possibleConstructorReturn(this, (EventHandler.__proto__ || Object.getPrototypeOf(EventHandler)).call(this));\n\n\t\t_this.eventHandles_ = [];\n\t\treturn _this;\n\t}\n\n\t/**\n  * Adds event handles to be removed later through the `removeAllListeners`\n  * method.\n  * @param {...(!EventHandle)} var_args\n  */\n\n\n\t_createClass(EventHandler, [{\n\t\tkey: 'add',\n\t\tvalue: function add() {\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tthis.eventHandles_.push(arguments[i]);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Disposes of this instance's object references.\n   * @override\n   */\n\n\t}, {\n\t\tkey: 'disposeInternal',\n\t\tvalue: function disposeInternal() {\n\t\t\tthis.eventHandles_ = null;\n\t\t}\n\n\t\t/**\n   * Removes all listeners that have been added through the `add` method.\n   */\n\n\t}, {\n\t\tkey: 'removeAllListeners',\n\t\tvalue: function removeAllListeners() {\n\t\t\tfor (var i = 0; i < this.eventHandles_.length; i++) {\n\t\t\t\tthis.eventHandles_[i].removeListener();\n\t\t\t}\n\n\t\t\tthis.eventHandles_ = [];\n\t\t}\n\t}]);\n\n\treturn EventHandler;\n}(_metal.Disposable);\n\nexports.default = EventHandler;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-events/lib/EventHandler.js\n// module id = 42\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _dom = require('./dom');\n\nvar _metalEvents = require('metal-events');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * DomEventEmitterProxy utility. It extends `EventEmitterProxy` to also accept\n * dom elements as origin emitters.\n * @extends {EventEmitterProxy}\n */\nvar DomEventEmitterProxy = function (_EventEmitterProxy) {\n\t_inherits(DomEventEmitterProxy, _EventEmitterProxy);\n\n\tfunction DomEventEmitterProxy() {\n\t\t_classCallCheck(this, DomEventEmitterProxy);\n\n\t\treturn _possibleConstructorReturn(this, (DomEventEmitterProxy.__proto__ || Object.getPrototypeOf(DomEventEmitterProxy)).apply(this, arguments));\n\t}\n\n\t_createClass(DomEventEmitterProxy, [{\n\t\tkey: 'addListener_',\n\n\t\t/**\n   * Adds the given listener for the given event.\n   * @param {string} event\n   * @param {!function()} listener\n   * @return {!EventHandle} The listened event's handle.\n   * @protected\n   * @override\n   */\n\t\tvalue: function addListener_(event, listener) {\n\t\t\tif (this.originEmitter_.addEventListener) {\n\t\t\t\tif (this.isDelegateEvent_(event)) {\n\t\t\t\t\tvar index = event.indexOf(':', 9);\n\t\t\t\t\tvar eventName = event.substring(9, index);\n\t\t\t\t\tvar selector = event.substring(index + 1);\n\t\t\t\t\treturn (0, _dom.delegate)(this.originEmitter_, eventName, selector, listener);\n\t\t\t\t} else {\n\t\t\t\t\treturn (0, _dom.on)(this.originEmitter_, event, listener);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn _get(DomEventEmitterProxy.prototype.__proto__ || Object.getPrototypeOf(DomEventEmitterProxy.prototype), 'addListener_', this).call(this, event, listener);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Checks if the given event is of the delegate type.\n   * @param {string} event\n   * @return {boolean}\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'isDelegateEvent_',\n\t\tvalue: function isDelegateEvent_(event) {\n\t\t\treturn event.substr(0, 9) === 'delegate:';\n\t\t}\n\n\t\t/**\n   * Checks if the given event is supported by the origin element.\n   * @param {string} event\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'isSupportedDomEvent_',\n\t\tvalue: function isSupportedDomEvent_(event) {\n\t\t\tif (!this.originEmitter_ || !this.originEmitter_.addEventListener) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn this.isDelegateEvent_(event) && event.indexOf(':', 9) !== -1 || (0, _dom.supportsEvent)(this.originEmitter_, event);\n\t\t}\n\n\t\t/**\n   * Checks if the given event should be proxied.\n   * @param {string} event\n   * @return {boolean}\n   * @protected\n   * @override\n   */\n\n\t}, {\n\t\tkey: 'shouldProxyEvent_',\n\t\tvalue: function shouldProxyEvent_(event) {\n\t\t\treturn _get(DomEventEmitterProxy.prototype.__proto__ || Object.getPrototypeOf(DomEventEmitterProxy.prototype), 'shouldProxyEvent_', this).call(this, event) && this.isSupportedDomEvent_(event);\n\t\t}\n\t}]);\n\n\treturn DomEventEmitterProxy;\n}(_metalEvents.EventEmitterProxy);\n\nexports.default = DomEventEmitterProxy;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/DomEventEmitterProxy.js\n// module id = 43\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metal = require('metal');\n\nvar _dom = require('./dom');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Utility functions for running javascript code in the global scope.\n */\nvar globalEval = function () {\n\tfunction globalEval() {\n\t\t_classCallCheck(this, globalEval);\n\t}\n\n\t_createClass(globalEval, null, [{\n\t\tkey: 'run',\n\n\t\t/**\n   * Evaluates the given string in the global scope.\n   * @param {string} text\n   * @param {function()=} opt_appendFn Optional function to append the node\n   *   into document.\n   * @return {Element} script\n   */\n\t\tvalue: function run(text, opt_appendFn) {\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.text = text;\n\t\t\tif (opt_appendFn) {\n\t\t\t\topt_appendFn(script);\n\t\t\t} else {\n\t\t\t\tdocument.head.appendChild(script);\n\t\t\t}\n\t\t\t(0, _dom.exitDocument)(script);\n\t\t\treturn script;\n\t\t}\n\n\t\t/**\n   * Evaluates the given javascript file in the global scope.\n   * @param {string} src The file's path.\n   * @param {function()=} opt_callback Optional function to be called\n   *   when the script has been run.\n   * @param {function()=} opt_appendFn Optional function to append the node\n   *   into document.\n   * @return {Element} script\n   */\n\n\t}, {\n\t\tkey: 'runFile',\n\t\tvalue: function runFile(src, opt_callback, opt_appendFn) {\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.src = src;\n\n\t\t\tvar callback = function callback() {\n\t\t\t\t(0, _dom.exitDocument)(script);\n\t\t\t\topt_callback && opt_callback();\n\t\t\t};\n\t\t\t(0, _dom.once)(script, 'load', callback);\n\t\t\t(0, _dom.once)(script, 'error', callback);\n\n\t\t\tif (opt_appendFn) {\n\t\t\t\topt_appendFn(script);\n\t\t\t} else {\n\t\t\t\tdocument.head.appendChild(script);\n\t\t\t}\n\n\t\t\treturn script;\n\t\t}\n\n\t\t/**\n   * Evaluates the code referenced by the given script element.\n   * @param {!Element} script\n   * @param {function()=} opt_callback Optional function to be called\n   *   when the script has been run.\n   * @param {function()=} opt_appendFn Optional function to append the node\n   *   into document.\n   * @return {Element} script\n   */\n\n\t}, {\n\t\tkey: 'runScript',\n\t\tvalue: function runScript(script, opt_callback, opt_appendFn) {\n\t\t\tvar callback = function callback() {\n\t\t\t\topt_callback && opt_callback();\n\t\t\t};\n\t\t\tif (script.type && script.type !== 'text/javascript') {\n\t\t\t\t_metal.async.nextTick(callback);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t(0, _dom.exitDocument)(script);\n\t\t\tif (script.src) {\n\t\t\t\treturn globalEval.runFile(script.src, opt_callback, opt_appendFn);\n\t\t\t} else {\n\t\t\t\t_metal.async.nextTick(callback);\n\t\t\t\treturn globalEval.run(script.text, opt_appendFn);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Evaluates any script tags present in the given element.\n   * @param {!Element} element\n   * @param {function()=} opt_callback Optional function to be called\n   *   when the script has been run.\n   * @param {function()=} opt_appendFn Optional function to append the node\n   *   into document.\n   */\n\n\t}, {\n\t\tkey: 'runScriptsInElement',\n\t\tvalue: function runScriptsInElement(element, opt_callback, opt_appendFn) {\n\t\t\tvar scripts = element.querySelectorAll('script');\n\t\t\tif (scripts.length) {\n\t\t\t\tglobalEval.runScriptsInOrder(scripts, 0, opt_callback, opt_appendFn);\n\t\t\t} else if (opt_callback) {\n\t\t\t\t_metal.async.nextTick(opt_callback);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Runs the given scripts elements in the order that they appear.\n   * @param {!NodeList} scripts\n   * @param {number} index\n   * @param {function()=} opt_callback Optional function to be called\n   *   when the script has been run.\n   * @param {function()=} opt_appendFn Optional function to append the node\n   *   into document.\n   */\n\n\t}, {\n\t\tkey: 'runScriptsInOrder',\n\t\tvalue: function runScriptsInOrder(scripts, index, opt_callback, opt_appendFn) {\n\t\t\tglobalEval.runScript(scripts.item(index), function () {\n\t\t\t\tif (index < scripts.length - 1) {\n\t\t\t\t\tglobalEval.runScriptsInOrder(scripts, index + 1, opt_callback, opt_appendFn);\n\t\t\t\t} else if (opt_callback) {\n\t\t\t\t\t_metal.async.nextTick(opt_callback);\n\t\t\t\t}\n\t\t\t}, opt_appendFn);\n\t\t}\n\t}]);\n\n\treturn globalEval;\n}();\n\nexports.default = globalEval;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/globalEval.js\n// module id = 44\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metal = require('metal');\n\nvar _dom = require('./dom');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Utility functions for running styles.\n */\nvar globalEvalStyles = function () {\n\tfunction globalEvalStyles() {\n\t\t_classCallCheck(this, globalEvalStyles);\n\t}\n\n\t_createClass(globalEvalStyles, null, [{\n\t\tkey: 'run',\n\n\t\t/**\n   * Evaluates the given style.\n   * @param {string} text\n   * @param {function()=} opt_appendFn Optional function to append the node\n   *   into document.\n   * @return {Element} style\n   */\n\t\tvalue: function run(text, opt_appendFn) {\n\t\t\tvar style = document.createElement('style');\n\t\t\tstyle.innerHTML = text;\n\t\t\tif (opt_appendFn) {\n\t\t\t\topt_appendFn(style);\n\t\t\t} else {\n\t\t\t\tdocument.head.appendChild(style);\n\t\t\t}\n\t\t\treturn style;\n\t\t}\n\n\t\t/**\n   * Evaluates the given style file.\n   * @param {string} href The file's path.\n   * @param {function()=} opt_callback Optional function to be called\n   *   when the styles has been run.\n   * @param {function()=} opt_appendFn Optional function to append the node\n   *   into document.\n   * @return {Element} style\n   */\n\n\t}, {\n\t\tkey: 'runFile',\n\t\tvalue: function runFile(href, opt_callback, opt_appendFn) {\n\t\t\tvar link = document.createElement('link');\n\t\t\tlink.rel = 'stylesheet';\n\t\t\tlink.href = href;\n\t\t\tglobalEvalStyles.runStyle(link, opt_callback, opt_appendFn);\n\t\t\treturn link;\n\t\t}\n\n\t\t/**\n   * Evaluates the code referenced by the given style/link element.\n   * @param {!Element} style\n   * @param {function()=} opt_callback Optional function to be called\n   *   when the script has been run.\n   * @param {function()=} opt_appendFn Optional function to append the node\n   *   into document.\n   *  @return {Element} style\n   */\n\n\t}, {\n\t\tkey: 'runStyle',\n\t\tvalue: function runStyle(style, opt_callback, opt_appendFn) {\n\t\t\tvar callback = function callback() {\n\t\t\t\topt_callback && opt_callback();\n\t\t\t};\n\t\t\tif (style.rel && style.rel !== 'stylesheet') {\n\t\t\t\t_metal.async.nextTick(callback);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (style.tagName === 'STYLE') {\n\t\t\t\t_metal.async.nextTick(callback);\n\t\t\t} else {\n\t\t\t\t(0, _dom.once)(style, 'load', callback);\n\t\t\t\t(0, _dom.once)(style, 'error', callback);\n\t\t\t}\n\n\t\t\tif (opt_appendFn) {\n\t\t\t\topt_appendFn(style);\n\t\t\t} else {\n\t\t\t\tdocument.head.appendChild(style);\n\t\t\t}\n\n\t\t\treturn style;\n\t\t}\n\n\t\t/**\n   * Evaluates any style present in the given element.\n   * @param {!Element} element\n   * @param {function()=} opt_callback Optional function to be called when the\n   *   style has been run.\n   * @param {function()=} opt_appendFn Optional function to append the node\n   *   into document.\n   */\n\n\t}, {\n\t\tkey: 'runStylesInElement',\n\t\tvalue: function runStylesInElement(element, opt_callback, opt_appendFn) {\n\t\t\tvar styles = element.querySelectorAll('style,link');\n\t\t\tif (styles.length === 0 && opt_callback) {\n\t\t\t\t_metal.async.nextTick(opt_callback);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar loadCount = 0;\n\t\t\tvar callback = function callback() {\n\t\t\t\tif (opt_callback && ++loadCount === styles.length) {\n\t\t\t\t\t_metal.async.nextTick(opt_callback);\n\t\t\t\t}\n\t\t\t};\n\t\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\t\tglobalEvalStyles.runStyle(styles[i], callback, opt_appendFn);\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn globalEvalStyles;\n}();\n\nexports.default = globalEvalStyles;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/globalEvalStyles.js\n// module id = 45\n// module chunks = 0","'use strict';\n\nvar _dom = require('./dom');\n\nvar _features = require('./features');\n\nvar _features2 = _interopRequireDefault(_features);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mouseEventMap = {\n\tmouseenter: 'mouseover',\n\tmouseleave: 'mouseout',\n\tpointerenter: 'pointerover',\n\tpointerleave: 'pointerout'\n};\nObject.keys(mouseEventMap).forEach(function (eventName) {\n\t(0, _dom.registerCustomEvent)(eventName, {\n\t\tdelegate: true,\n\t\thandler: function handler(callback, event) {\n\t\t\tvar related = event.relatedTarget;\n\t\t\tvar target = event.delegateTarget;\n\t\t\tif (!related || related !== target && !(0, _dom.contains)(target, related)) {\n\t\t\t\tevent.customType = eventName;\n\t\t\t\treturn callback(event);\n\t\t\t}\n\t\t},\n\t\toriginalEvent: mouseEventMap[eventName]\n\t});\n});\n\nvar animationEventMap = {\n\tanimation: 'animationend',\n\ttransition: 'transitionend'\n};\nObject.keys(animationEventMap).forEach(function (eventType) {\n\tvar eventName = animationEventMap[eventType];\n\t(0, _dom.registerCustomEvent)(eventName, {\n\t\tevent: true,\n\t\tdelegate: true,\n\t\thandler: function handler(callback, event) {\n\t\t\tevent.customType = eventName;\n\t\t\treturn callback(event);\n\t\t},\n\t\toriginalEvent: _features2.default.checkAnimationEventName()[eventType]\n\t});\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-dom/lib/events.js\n// module id = 46\n// module chunks = 0","'use strict';\n\n/**\n  * Debounces function execution.\n  * @param {!function()} fn\n  * @param {number} delay\n  * @return {!function()}\n  */\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nfunction debounce(fn, delay) {\n\treturn function debounced() {\n\t\tvar args = arguments;\n\t\tcancelDebounce(debounced);\n\t\tdebounced.id = setTimeout(function () {\n\t\t\tfn.apply(null, args);\n\t\t}, delay);\n\t};\n}\n\n/**\n * Cancels the scheduled debounced function.\n */\nfunction cancelDebounce(debounced) {\n\tclearTimeout(debounced.id);\n}\n\nexports.default = debounce;\nexports.cancelDebounce = cancelDebounce;\nexports.debounce = debounce;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-debounce/lib/debounce.js\n// module id = 47\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.parse = parse;\nexports.toRegex = toRegex;\nexports.extractData = extractData;\n\nvar _metal = require('metal');\n\nvar _metal2 = _interopRequireDefault(_metal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar REGEX = /([\\/])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])*)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?)/g;\n\n/**\n * Converts the given array of regex matches to a more readable object format.\n * @param {!Array<string>} matches\n * @return {!Object}\n */\nfunction convertMatchesToObj(matches) {\n\treturn {\n\t\tmatch: matches[0],\n\t\tprefix: matches[1],\n\t\tname: matches[2],\n\t\tparamPattern: matches[3],\n\t\tunnamedPattern: matches[4],\n\t\tmodifier: matches[5]\n\t};\n}\n\n/**\n * Converts the given tokens parsed from a route format string to a regex.\n * @param {!Array<string|!Object>} tokens\n * @return {!RegExp}\n */\nfunction convertTokensToRegex(tokens) {\n\tvar regex = '';\n\tfor (var i = 0; i < tokens.length; i++) {\n\t\tif (_metal2.default.isString(tokens[i])) {\n\t\t\tregex += escape(tokens[i]);\n\t\t} else {\n\t\t\tvar capture = encloseNonCapturingGroup(tokens[i].pattern);\n\t\t\tif (tokens[i].repeat) {\n\t\t\t\tcapture += encloseNonCapturingGroup('\\\\/' + capture) + '*';\n\t\t\t}\n\t\t\tcapture = escape(tokens[i].prefix) + ('(' + capture + ')');\n\t\t\tif (tokens[i].optional) {\n\t\t\t\tif (!tokens[i].partial) {\n\t\t\t\t\tcapture = encloseNonCapturingGroup(capture);\n\t\t\t\t}\n\t\t\t\tcapture += '?';\n\t\t\t}\n\t\t\tregex += capture;\n\t\t}\n\t}\n\treturn new RegExp('^' + makeTrailingSlashOptional(regex) + '$');\n}\n\n/**\n * Encloses the given regex pattern into a non capturing group.\n * @param {string} pattern\n * @return {string}\n */\nfunction encloseNonCapturingGroup(pattern) {\n\treturn '(?:' + pattern + ')';\n}\n\n/**\n * Escapes the given string to show up in the path regex.\n * @param {string} str\n * @return {string}\n */\nfunction escape(str) {\n\treturn str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1');\n}\n\n/**\n * Makes trailing slash optional on paths.\n * @param {string} regex\n * @param {string}\n */\nfunction makeTrailingSlashOptional(regex) {\n\tif (/\\/$/.test(regex)) {\n\t\tregex += '?';\n\t} else {\n\t\tregex += '\\\\/?';\n\t}\n\treturn regex;\n}\n\n/**\n * Parses the given route format string into tokens representing its contents.\n * @param {!Array|string} routeOrTokens Either a route format string or tokens\n *     previously parsed via the `parse` function.\n * @return {!Array<string|!Object>} An array of tokens that can be either plain\n *     strings (part of the route) or objects containing informations on params.\n */\nfunction parse(routeOrTokens) {\n\tif (!_metal2.default.isString(routeOrTokens)) {\n\t\treturn routeOrTokens;\n\t}\n\n\tvar route = routeOrTokens;\n\tvar unnamedCount = 0;\n\tvar tokens = [];\n\tvar currPath = '';\n\tvar index = 0;\n\n\tvar matches = REGEX.exec(route);\n\twhile (matches) {\n\t\tvar data = convertMatchesToObj(matches);\n\n\t\tcurrPath = route.slice(index, matches.index);\n\t\tindex = matches.index + data.match.length;\n\t\ttokens.push(currPath);\n\n\t\ttokens.push({\n\t\t\tname: data.name ? data.name : '' + unnamedCount++,\n\t\t\tpartial: route[index] && route[index] !== data.prefix,\n\t\t\tprefix: data.prefix || '',\n\t\t\tpattern: data.paramPattern || data.unnamedPattern || '[^\\\\/]+',\n\t\t\trepeat: data.modifier === '*' || data.modifier === '+',\n\t\t\toptional: data.modifier === '*' || data.modifier === '?'\n\t\t});\n\n\t\tmatches = REGEX.exec(route);\n\t}\n\n\tif (index < route.length) {\n\t\ttokens.push(route.substr(index));\n\t}\n\treturn tokens;\n}\n\n/**\n * Converts the given route format string to a regex that can extract param\n * data from paths matching it.\n * @param {!Array|string} routeOrTokens Either a route format string or tokens\n *     previously parsed via the `parse` function.\n * @return {!RegExp}\n */\nfunction toRegex(routeOrTokens) {\n\treturn convertTokensToRegex(parse(routeOrTokens));\n}\n\n/**\n * Extracts data from the given path according to the specified route format.\n * @param {!Array|string} routeOrTokens Either a route format string or tokens\n *     previously parsed via the `parse` function.\n * @param {string} The path to extract param data from.\n * @return {Object<string, string>} The data object, or null if the path doesn't\n *     match the given format.\n */\nfunction extractData(routeOrTokens, path) {\n\tvar data = {};\n\tvar tokens = parse(routeOrTokens);\n\tvar match = path.match(convertTokensToRegex(tokens));\n\n\tif (!match) {\n\t\treturn null;\n\t}\n\n\tvar paramIndex = 1;\n\tfor (var i = 0; i < tokens.length; i++) {\n\t\tif (!_metal2.default.isString(tokens[i])) {\n\t\t\tvar value = match[paramIndex++];\n\t\t\tif (_metal2.default.isDef(value)) {\n\t\t\t\tif (tokens[i].repeat) {\n\t\t\t\t\tvalue = value.split('/');\n\t\t\t\t}\n\t\t\t\tdata[tokens[i].name] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-path-parser/lib/pathParser.js\n// module id = 48\n// module chunks = 0","'use strict';\n\nimport { Disposable } from 'metal';\n\nclass Cacheable extends Disposable {\n\n\t/**\n\t * Abstract class for defining cacheable behavior.\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tsuper();\n\n\t\t/**\n\t\t * Holds the cached data.\n\t\t * @type {!Object}\n\t\t * @default null\n\t\t * @protected\n\t\t */\n\t\tthis.cache = null;\n\n\t\t/**\n\t\t * Holds whether class is cacheable.\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t * @protected\n\t\t */\n\t\tthis.cacheable = false;\n\t}\n\n\t/**\n\t * Adds content to the cache.\n\t * @param {string} content Content to be cached.\n\t * @chainable\n\t */\n\taddCache(content) {\n\t\tif (this.cacheable) {\n\t\t\tthis.cache = content;\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Clears the cache.\n\t * @chainable\n\t */\n\tclearCache() {\n\t\tthis.cache = null;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Disposes of this instance's object references.\n\t * @override\n\t */\n\tdisposeInternal() {\n\t\tthis.clearCache();\n\t}\n\n\t/**\n\t * Gets the cached content.\n\t * @return {Object} Cached content.\n\t * @protected\n\t */\n\tgetCache() {\n\t\treturn this.cache;\n\t}\n\n\t/**\n\t * Whether the class is cacheable.\n\t * @return {boolean} Returns true when class is cacheable, false otherwise.\n\t */\n\tisCacheable() {\n\t\treturn this.cacheable;\n\t}\n\n\t/**\n\t * Sets whether the class is cacheable.\n\t * @param {boolean} cacheable\n\t */\n\tsetCacheable(cacheable) {\n\t\tif (!cacheable) {\n\t\t\tthis.clearCache();\n\t\t}\n\t\tthis.cacheable = cacheable;\n\t}\n\n}\n\nexport default Cacheable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/cacheable/Cacheable.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _metal = require('metal');\n\nvar _metalUri = require('metal-uri');\n\nvar _metalUri2 = _interopRequireDefault(_metalUri);\n\nvar _metalPromise = require('metal-promise');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Ajax = function () {\n\tfunction Ajax() {\n\t\t_classCallCheck(this, Ajax);\n\t}\n\n\t_createClass(Ajax, null, [{\n\t\tkey: 'parseResponseHeaders',\n\n\n\t\t/**\n   * XmlHttpRequest's getAllResponseHeaders() method returns a string of\n   * response headers according to the format described on the spec:\n   * {@link http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method}.\n   * This method parses that string into a user-friendly name/value pair\n   * object.\n   * @param {string} allHeaders All headers as string.\n   * @return {!Array.<Object<string, string>>}\n   */\n\t\tvalue: function parseResponseHeaders(allHeaders) {\n\t\t\tvar headers = [];\n\t\t\tif (!allHeaders) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\tvar pairs = allHeaders.split('\\r\\n');\n\t\t\tfor (var i = 0; i < pairs.length; i++) {\n\t\t\t\tvar index = pairs[i].indexOf(': ');\n\t\t\t\tif (index > 0) {\n\t\t\t\t\tvar name = pairs[i].substring(0, index);\n\t\t\t\t\tvar value = pairs[i].substring(index + 2);\n\t\t\t\t\theaders.push({\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn headers;\n\t\t}\n\n\t\t/**\n   * Requests the url using XMLHttpRequest.\n   * @param {!string} url\n   * @param {!string} method\n   * @param {?string} body\n   * @param {MultiMap=} opt_headers\n   * @param {MultiMap=} opt_params\n   * @param {number=} opt_timeout\n   * @param {boolean=} opt_sync\n   * @param {boolean=} opt_withCredentials\n   * @return {Promise} Deferred ajax request.\n   * @protected\n   */\n\n\t}, {\n\t\tkey: 'request',\n\t\tvalue: function request(url, method, body, opt_headers, opt_params, opt_timeout, opt_sync, opt_withCredentials) {\n\t\t\turl = url || '';\n\t\t\tmethod = method || 'GET';\n\n\t\t\tvar request = new XMLHttpRequest();\n\t\t\tvar previousReadyState = 0;\n\n\t\t\tvar promise = new _metalPromise.CancellablePromise(function (resolve, reject) {\n\t\t\t\trequest.onload = function () {\n\t\t\t\t\tif (request.aborted) {\n\t\t\t\t\t\trequest.onerror();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tresolve(request);\n\t\t\t\t};\n\t\t\t\trequest.onreadystatechange = function () {\n\t\t\t\t\tif (previousReadyState && previousReadyState < 3 && 4 === request.readyState) {\n\t\t\t\t\t\trequest.terminatedPrematurely = true;\n\t\t\t\t\t}\n\t\t\t\t\tpreviousReadyState = request.readyState;\n\t\t\t\t};\n\t\t\t\trequest.onerror = function () {\n\t\t\t\t\tvar message = 'Request error';\n\t\t\t\t\tif (request.terminatedPrematurely) {\n\t\t\t\t\t\tmessage = 'Request terminated prematurely';\n\t\t\t\t\t}\n\t\t\t\t\tvar error = new Error(message);\n\t\t\t\t\terror.request = request;\n\t\t\t\t\treject(error);\n\t\t\t\t};\n\t\t\t}).thenCatch(function (reason) {\n\t\t\t\trequest.abort();\n\t\t\t\tthrow reason;\n\t\t\t}).thenAlways(function () {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t});\n\n\t\t\turl = new _metalUri2.default(url);\n\n\t\t\tif (opt_params) {\n\t\t\t\turl.addParametersFromMultiMap(opt_params).toString();\n\t\t\t}\n\n\t\t\turl = url.toString();\n\n\t\t\trequest.open(method, url, !opt_sync);\n\n\t\t\tif (opt_withCredentials) {\n\t\t\t\trequest.withCredentials = true;\n\t\t\t}\n\n\t\t\tif (opt_headers) {\n\t\t\t\topt_headers.names().forEach(function (name) {\n\t\t\t\t\trequest.setRequestHeader(name, opt_headers.getAll(name).join(', '));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\trequest.send((0, _metal.isDef)(body) ? body : null);\n\n\t\t\tif ((0, _metal.isDefAndNotNull)(opt_timeout)) {\n\t\t\t\tvar timeout = setTimeout(function () {\n\t\t\t\t\tpromise.cancel('Request timeout');\n\t\t\t\t}, opt_timeout);\n\t\t\t}\n\n\t\t\treturn promise;\n\t\t}\n\t}]);\n\n\treturn Ajax;\n}();\n\nexports.default = Ajax;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/metal-ajax/lib/Ajax.js\n// module id = 50\n// module chunks = 0","'use strict';\n\n/**\n * Holds value error messages.\n * @const\n */\nclass errors {\n}\n\n/**\n * Invalid status error message.\n * @type {string}\n * @static\n */\nerrors.INVALID_STATUS = 'Invalid status code';\n\n/**\n * Request error message.\n * @type {string}\n * @static\n */\nerrors.REQUEST_ERROR = 'Request error';\n\n/**\n * Request timeout error message.\n * @type {string}\n * @static\n */\nerrors.REQUEST_TIMEOUT = 'Request timeout';\n\n/**\n * Request is blocked by CORS issue message.\n * @type {string}\n * @static\n */\nerrors.REQUEST_PREMATURE_TERMINATION = 'Request terminated prematurely';\n\nexport default errors;\n\n\n\n// WEBPACK FOOTER //\n// ./src/errors/errors.js"],"sourceRoot":""}